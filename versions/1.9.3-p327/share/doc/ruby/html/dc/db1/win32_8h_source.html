<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Ruby: include/ruby/win32.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>include/ruby/win32.h</h1><a href="../../dc/db1/win32_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef RUBY_WIN32_H</span>
<a name="l00002"></a><a class="code" href="../../dc/db1/win32_8h.html#a1b1ea80651ec05dbb562768b0ae9ebf5">00002</a> <span class="preprocessor"></span><span class="preprocessor">#define RUBY_WIN32_H 1</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#if defined(__cplusplus)</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00006"></a>00006 <span class="preprocessor">#if 0</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>} <span class="comment">/* satisfy cc-mode */</span>
<a name="l00008"></a>00008 <span class="preprocessor">#endif</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span>
<a name="l00011"></a>00011 <span class="preprocessor">#if defined __GNUC__ &amp;&amp; __GNUC__ &gt;= 4</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#pragma GCC visibility push(default)</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span>
<a name="l00015"></a>00015 <span class="comment">/*</span>
<a name="l00016"></a>00016 <span class="comment"> *  Copyright (c) 1993, Intergraph Corporation</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> *  You may distribute under the terms of either the GNU General Public</span>
<a name="l00019"></a>00019 <span class="comment"> *  License or the Artistic License, as specified in the perl README file.</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> */</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="comment">//</span>
<a name="l00024"></a>00024 <span class="comment">// Definitions for NT port of Perl</span>
<a name="l00025"></a>00025 <span class="comment">//</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="comment">//</span>
<a name="l00029"></a>00029 <span class="comment">// Ok now we can include the normal include files.</span>
<a name="l00030"></a>00030 <span class="comment">//</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="comment">// #include &lt;stdarg.h&gt; conflict with varargs.h?</span>
<a name="l00033"></a>00033 <span class="preprocessor">#if !defined(WSAAPI)</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#if defined(__cplusplus) &amp;&amp; defined(_MSC_VER)</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C++&quot;</span> {                  <span class="comment">/* template without extern &quot;C++&quot; */</span>
<a name="l00036"></a>00036 <span class="preprocessor">#endif</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="preprocessor">#if !defined(_WIN64) &amp;&amp; !defined(WIN32)</span>
<a name="l00038"></a><a class="code" href="../../dc/db1/win32_8h.html#a6402e8b8594280624585b8fd643bfb65">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define WIN32</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span><span class="preprocessor">#include &lt;winsock2.h&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;ws2tcpip.h&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#if defined(__cplusplus) &amp;&amp; defined(_MSC_VER)</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>}
<a name="l00044"></a>00044 <span class="preprocessor">#endif</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span>
<a name="l00047"></a><a class="code" href="../../dc/db1/win32_8h.html#a7d5ef0de19030d43f98042e1c4a9f605">00047</a> <span class="preprocessor">#define NT 1                    </span><span class="comment">/* deprecated */</span>
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="comment">//</span>
<a name="l00050"></a>00050 <span class="comment">// We&apos;re not using Microsoft&apos;s &quot;extensions&quot; to C for</span>
<a name="l00051"></a>00051 <span class="comment">// Structured Exception Handling (SEH) so we can nuke these</span>
<a name="l00052"></a>00052 <span class="comment">//</span>
<a name="l00053"></a>00053 <span class="preprocessor">#undef try</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">#undef except</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span><span class="preprocessor">#undef finally</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#undef leave</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &lt;direct.h&gt;</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include &lt;process.h&gt;</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include &lt;time.h&gt;</span>
<a name="l00064"></a>00064 <span class="preprocessor">#if defined(__cplusplus) &amp;&amp; defined(_MSC_VER) &amp;&amp; _MSC_VER == 1200</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C++&quot;</span> {                  <span class="comment">/* template without extern &quot;C++&quot; */</span>
<a name="l00066"></a>00066 <span class="preprocessor">#endif</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span><span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00068"></a>00068 <span class="preprocessor">#if defined(__cplusplus) &amp;&amp; defined(_MSC_VER) &amp;&amp; _MSC_VER == 1200</span>
<a name="l00069"></a>00069 <span class="preprocessor"></span>}
<a name="l00070"></a>00070 <span class="preprocessor">#endif</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span><span class="preprocessor">#include &lt;signal.h&gt;</span>
<a name="l00072"></a>00072 <span class="preprocessor">#include &lt;sys/stat.h&gt;</span>
<a name="l00073"></a>00073 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00074"></a>00074 <span class="preprocessor">#ifdef HAVE_SYS_UTIME_H</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span><span class="preprocessor"># include &lt;sys/utime.h&gt;</span>
<a name="l00076"></a>00076 <span class="preprocessor">#else</span>
<a name="l00077"></a>00077 <span class="preprocessor"></span><span class="preprocessor"># include &lt;utime.h&gt;</span>
<a name="l00078"></a>00078 <span class="preprocessor">#endif</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="../../dc/dac/io_8h.html">io.h</a>&gt;</span>
<a name="l00080"></a>00080 <span class="preprocessor">#include &lt;malloc.h&gt;</span>
<a name="l00081"></a>00081 <span class="preprocessor">#if defined __MINGW32__ || __BORLANDC__ &gt;= 0x0580</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span><span class="preprocessor"># include &lt;stdint.h&gt;</span>
<a name="l00083"></a>00083 <span class="preprocessor">#else</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span><span class="preprocessor"># if !defined(_INTPTR_T_DEFINED)</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span><span class="preprocessor">#  ifdef _WIN64</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span><span class="keyword">typedef</span> __int64 <a class="code" href="../../dc/db1/win32_8h.html#a0fbe4a4f8dd857ee04923a901f27465f">intptr_t</a>;
<a name="l00087"></a>00087 <span class="preprocessor">#  else</span>
<a name="l00088"></a><a class="code" href="../../dc/db1/win32_8h.html#a0fbe4a4f8dd857ee04923a901f27465f">00088</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a0fbe4a4f8dd857ee04923a901f27465f">intptr_t</a>;
<a name="l00089"></a>00089 <span class="preprocessor">#  endif</span>
<a name="l00090"></a><a class="code" href="../../dc/db1/win32_8h.html#a3ce96ec9d1fcd8dfccadb47145718f9d">00090</a> <span class="preprocessor"></span><span class="preprocessor">#  define _INTPTR_T_DEFINED</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span><span class="preprocessor"># if !defined(_UINTPTR_T_DEFINED)</span>
<a name="l00093"></a>00093 <span class="preprocessor"></span><span class="preprocessor">#  ifdef _WIN64</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int64 <a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">uintptr_t</a>;
<a name="l00095"></a>00095 <span class="preprocessor">#  else</span>
<a name="l00096"></a><a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">00096</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">uintptr_t</a>;
<a name="l00097"></a>00097 <span class="preprocessor">#  endif</span>
<a name="l00098"></a><a class="code" href="../../dc/db1/win32_8h.html#a106239fcf6108905a1beb6837f7343c8">00098</a> <span class="preprocessor"></span><span class="preprocessor">#  define _UINTPTR_T_DEFINED</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span><span class="preprocessor">#ifndef __MINGW32__</span>
<a name="l00102"></a><a class="code" href="../../dc/db1/win32_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">00102</a> <span class="preprocessor"></span><span class="preprocessor"># define mode_t int</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00104"></a>00104 <span class="preprocessor"></span><span class="preprocessor">#ifdef HAVE_UNISTD_H</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span><span class="preprocessor"># include &lt;unistd.h&gt;</span>
<a name="l00106"></a>00106 <span class="preprocessor">#endif</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span>
<a name="l00108"></a>00108 <span class="preprocessor">#ifdef WIN95</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="../../d2/d99/win32ole_8c.html#a2ec0aeb209eda20f4bef5d50ce5a7417">DWORD</a> rb_w32_osid(<span class="keywordtype">void</span>);
<a name="l00110"></a>00110 <span class="preprocessor">#define rb_w32_iswinnt()  (rb_w32_osid() == VER_PLATFORM_WIN32_NT)</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span><span class="preprocessor">#define rb_w32_iswin95()  (rb_w32_osid() == VER_PLATFORM_WIN32_WINDOWS)</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00113"></a><a class="code" href="../../dc/db1/win32_8h.html#af226ff955600d0fdef88798c375d52e5">00113</a> <span class="preprocessor"></span><span class="preprocessor">#define rb_w32_iswinnt()  TRUE</span>
<a name="l00114"></a><a class="code" href="../../dc/db1/win32_8h.html#a57cd0bfadfb8f388a0ccc3925e59b3dd">00114</a> <span class="preprocessor"></span><span class="preprocessor">#define rb_w32_iswin95()  FALSE</span>
<a name="l00115"></a>00115 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span>
<a name="l00117"></a><a class="code" href="../../dc/db1/win32_8h.html#afa288d86b242c3005425a9c0f1682544">00117</a> <span class="preprocessor">#define WNOHANG -1</span>
<a name="l00118"></a>00118 <span class="preprocessor"></span>
<a name="l00119"></a>00119 <span class="preprocessor">#undef getc</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span><span class="preprocessor">#undef putc</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span><span class="preprocessor">#undef fgetc</span>
<a name="l00122"></a>00122 <span class="preprocessor"></span><span class="preprocessor">#undef fputc</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span><span class="preprocessor">#undef getchar</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span><span class="preprocessor">#undef putchar</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="preprocessor">#undef fgetchar</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span><span class="preprocessor">#undef fputchar</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span><span class="preprocessor">#undef utime</span>
<a name="l00128"></a>00128 <span class="preprocessor"></span><span class="preprocessor">#undef lseek</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span><span class="preprocessor">#undef stat</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span><span class="preprocessor">#undef fstat</span>
<a name="l00131"></a><a class="code" href="../../dc/db1/win32_8h.html#acb0b56f791b6df99c13f178ad161c5cd">00131</a> <span class="preprocessor"></span><span class="preprocessor">#define getc(_stream)           rb_w32_getc(_stream)</span>
<a name="l00132"></a><a class="code" href="../../dc/db1/win32_8h.html#ac0484b3e3a4d8361d91c3322440f9195">00132</a> <span class="preprocessor"></span><span class="preprocessor">#define getchar()               rb_w32_getc(stdin)</span>
<a name="l00133"></a><a class="code" href="../../dc/db1/win32_8h.html#ae8d3d3b59f9fb234203fc5d1210716eb">00133</a> <span class="preprocessor"></span><span class="preprocessor">#define putc(_c, _stream)       rb_w32_putc(_c, _stream)</span>
<a name="l00134"></a><a class="code" href="../../dc/db1/win32_8h.html#a5f1d13ab95c7071ee20b352ada4e3595">00134</a> <span class="preprocessor"></span><span class="preprocessor">#define putchar(_c)             rb_w32_putc(_c, stdout)</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span><span class="preprocessor">#ifdef RUBY_EXPORT</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span><span class="preprocessor">#define fgetc(_stream)          getc(_stream)</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span><span class="preprocessor">#define fputc(_c, _stream)      putc(_c, _stream)</span>
<a name="l00138"></a>00138 <span class="preprocessor"></span><span class="preprocessor">#define fgetchar()              getchar()</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span><span class="preprocessor">#define fputchar(_c)            putchar(_c)</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span><span class="preprocessor">#define utime(_p, _t)           rb_w32_utime(_p, _t)</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span><span class="preprocessor">#define lseek(_f, _o, _w)       _lseeki64(_f, _o, _w)</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span>
<a name="l00143"></a>00143 <span class="preprocessor">#define pipe(p)                 rb_w32_pipe(p)</span>
<a name="l00144"></a>00144 <span class="preprocessor"></span><span class="preprocessor">#define open                    rb_w32_open</span>
<a name="l00145"></a>00145 <span class="preprocessor"></span><span class="preprocessor">#define close(h)                rb_w32_close(h)</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span><span class="preprocessor">#define fclose(f)               rb_w32_fclose(f)</span>
<a name="l00147"></a>00147 <span class="preprocessor"></span><span class="preprocessor">#define read(f, b, s)           rb_w32_read(f, b, s)</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span><span class="preprocessor">#define write(f, b, s)          rb_w32_write(f, b, s)</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span><span class="preprocessor">#define getpid()                rb_w32_getpid()</span>
<a name="l00150"></a>00150 <span class="preprocessor"></span><span class="preprocessor">#define getppid()               rb_w32_getppid()</span>
<a name="l00151"></a>00151 <span class="preprocessor"></span><span class="preprocessor">#define sleep(x)                rb_w32_Sleep((x)*1000)</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span><span class="preprocessor">#define Sleep(msec)             (void)rb_w32_Sleep(msec)</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span><span class="preprocessor">#define fstati64(fd,st)         rb_w32_fstati64(fd,st)</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span><span class="preprocessor">#ifdef __BORLANDC__</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span><span class="preprocessor">#define creat(p, m)             _creat(p, m)</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span><span class="preprocessor">#define eof()                   _eof()</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span><span class="preprocessor">#define filelength(h)           _filelength(h)</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span><span class="preprocessor">#define mktemp(t)               _mktemp(t)</span>
<a name="l00159"></a>00159 <span class="preprocessor"></span><span class="preprocessor">#define tell(h)                 _tell(h)</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span><span class="preprocessor">#define _open                   _sopen</span>
<a name="l00161"></a>00161 <span class="preprocessor"></span><span class="preprocessor">#define sopen                   _sopen</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span><span class="preprocessor">#undef fopen</span>
<a name="l00163"></a>00163 <span class="preprocessor"></span><span class="preprocessor">#define fopen(p, m)             rb_w32_fopen(p, m)</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span><span class="preprocessor">#undef fdopen</span>
<a name="l00165"></a>00165 <span class="preprocessor"></span><span class="preprocessor">#define fdopen(h, m)            rb_w32_fdopen(h, m)</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><span class="preprocessor">#undef fsopen</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span><span class="preprocessor">#define fsopen(p, m, sh)        rb_w32_fsopen(p, m, sh)</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* __BORLANDC__ */</span>
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 <span class="preprocessor">#undef execv</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span><span class="preprocessor">#define execv(path,argv)        rb_w32_aspawn(P_OVERLAY,path,argv)</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span><span class="preprocessor">#if !defined(__BORLANDC__)</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span><span class="preprocessor">#undef isatty</span>
<a name="l00174"></a>00174 <span class="preprocessor"></span><span class="preprocessor">#define isatty(h)               rb_w32_isatty(h)</span>
<a name="l00175"></a>00175 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* __BORLANDC__ */</span>
<a name="l00176"></a>00176 
<a name="l00177"></a>00177 <span class="preprocessor">#undef mkdir</span>
<a name="l00178"></a>00178 <span class="preprocessor"></span><span class="preprocessor">#define mkdir(p, m)             rb_w32_mkdir(p, m)</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span><span class="preprocessor">#undef rmdir</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span><span class="preprocessor">#define rmdir(p)                rb_w32_rmdir(p)</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span><span class="preprocessor">#undef unlink</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span><span class="preprocessor">#define unlink(p)               rb_w32_unlink(p)</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* RUBY_EXPORT */</span>
<a name="l00184"></a>00184 
<a name="l00185"></a>00185 <span class="preprocessor">#if SIZEOF_OFF_T == 8</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span><span class="preprocessor">#define off_t __int64</span>
<a name="l00187"></a>00187 <span class="preprocessor"></span><span class="preprocessor">#define stat stati64</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span><span class="preprocessor">#define fstat(fd,st)            fstati64(fd,st)</span>
<a name="l00189"></a>00189 <span class="preprocessor"></span><span class="preprocessor">#if defined(__BORLANDC__)</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span><span class="preprocessor">#define stati64(path, st) rb_w32_stati64(path, st)</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span><span class="preprocessor">#elif !defined(_MSC_VER) || RT_VER &lt; 80</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span><span class="preprocessor">#define stati64 _stati64</span>
<a name="l00193"></a>00193 <span class="preprocessor"></span><span class="preprocessor">#ifndef _stati64</span>
<a name="l00194"></a>00194 <span class="preprocessor"></span><span class="preprocessor">#define _stati64(path, st) rb_w32_stati64(path, st)</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00197"></a>00197 <span class="preprocessor"></span><span class="preprocessor">#define stati64 _stat64</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span><span class="preprocessor">#define _stat64(path, st) rb_w32_stati64(path, st)</span>
<a name="l00199"></a>00199 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00201"></a><a class="code" href="../../dc/db1/win32_8h.html#a4feaac5e1913330bded57b059061965b">00201</a> <span class="preprocessor"></span><span class="preprocessor">#define stat(path,st)           rb_w32_stat(path,st)</span>
<a name="l00202"></a><a class="code" href="../../dc/db1/win32_8h.html#a8a2cf46df7f7017617df85cdb0afdc64">00202</a> <span class="preprocessor"></span><span class="preprocessor">#define fstat(fd,st)            rb_w32_fstat(fd,st)</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a8fd6eec8d901b4e1b199170ffd09a31d">rb_w32_stat</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">struct</span> <a class="code" href="../../dc/db1/win32_8h.html#a4feaac5e1913330bded57b059061965b">stat</a> *);
<a name="l00204"></a>00204 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a88552a4582be41a4352b85da8a874ed4">rb_w32_fstat</a>(<span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="../../dc/db1/win32_8h.html#a4feaac5e1913330bded57b059061965b">stat</a> *);
<a name="l00205"></a>00205 <span class="preprocessor">#endif</span>
<a name="l00206"></a><a class="code" href="../../dc/db1/win32_8h.html#aa8812b8cc4378b0ec4f8281ba22a17e0">00206</a> <span class="preprocessor"></span><span class="preprocessor">#define access(path,mode)       rb_w32_access(path,mode)</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span>
<a name="l00208"></a><a class="code" href="../../dc/db1/win32_8h.html#ac99ec3f1036620727a68aa8c25a8963c">00208</a> <span class="preprocessor">#define strcasecmp              _stricmp</span>
<a name="l00209"></a><a class="code" href="../../dc/db1/win32_8h.html#aba00036f71bb67f8600b239a39cf5ec9">00209</a> <span class="preprocessor"></span><span class="preprocessor">#define strncasecmp             _strnicmp</span>
<a name="l00210"></a><a class="code" href="../../dc/db1/win32_8h.html#ad352c8c2259cb51bd490b1dfdae5f784">00210</a> <span class="preprocessor"></span><span class="preprocessor">#define fsync                   _commit</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span>
<a name="l00212"></a>00212 <span class="keyword">struct </span><a class="code" href="../../de/dc1/structtimezone.html">timezone</a>;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 <span class="preprocessor">#ifdef __MINGW32__</span>
<a name="l00215"></a>00215 <span class="preprocessor"></span><span class="preprocessor">#undef isascii</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span><span class="preprocessor">#define isascii __isascii</span>
<a name="l00217"></a>00217 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span>
<a name="l00219"></a><a class="code" href="../../db/d79/structiovec.html">00219</a> <span class="keyword">struct </span><a class="code" href="../../db/d79/structiovec.html">iovec</a> {
<a name="l00220"></a><a class="code" href="../../db/d79/structiovec.html#a07aeddeccf80f14520fdd7ef0759442b">00220</a>     <span class="keywordtype">void</span> *<a class="code" href="../../db/d79/structiovec.html#a07aeddeccf80f14520fdd7ef0759442b">iov_base</a>;
<a name="l00221"></a><a class="code" href="../../db/d79/structiovec.html#a17b5ac2078fd1adfabb262a95808a07d">00221</a>     <span class="keywordtype">size_t</span> <a class="code" href="../../db/d79/structiovec.html#a17b5ac2078fd1adfabb262a95808a07d">iov_len</a>;
<a name="l00222"></a>00222 };
<a name="l00223"></a><a class="code" href="../../d1/d4e/structmsghdr.html">00223</a> <span class="keyword">struct </span><a class="code" href="../../d1/d4e/structmsghdr.html">msghdr</a> {
<a name="l00224"></a><a class="code" href="../../d1/d4e/structmsghdr.html#a691a8866b21c7083974a2ff1e7987ce1">00224</a>     <span class="keywordtype">void</span> *<a class="code" href="../../d1/d4e/structmsghdr.html#a691a8866b21c7083974a2ff1e7987ce1">msg_name</a>;
<a name="l00225"></a><a class="code" href="../../d1/d4e/structmsghdr.html#a8d5b5be3ce710ed39fc66824757407ff">00225</a>     <span class="keywordtype">int</span> <a class="code" href="../../d1/d4e/structmsghdr.html#a8d5b5be3ce710ed39fc66824757407ff">msg_namelen</a>;
<a name="l00226"></a><a class="code" href="../../d1/d4e/structmsghdr.html#a1b893a6f84c4ba52708c5dcfcc720293">00226</a>     <span class="keyword">struct </span><a class="code" href="../../db/d79/structiovec.html">iovec</a> *<a class="code" href="../../d1/d4e/structmsghdr.html#a1b893a6f84c4ba52708c5dcfcc720293">msg_iov</a>;
<a name="l00227"></a><a class="code" href="../../d1/d4e/structmsghdr.html#a6c0c0a845c40b73811b0ae0da028b783">00227</a>     <span class="keywordtype">int</span> <a class="code" href="../../d1/d4e/structmsghdr.html#a6c0c0a845c40b73811b0ae0da028b783">msg_iovlen</a>;
<a name="l00228"></a><a class="code" href="../../d1/d4e/structmsghdr.html#afba5fc31b0f197e25602d2232ca6d783">00228</a>     <span class="keywordtype">void</span> *<a class="code" href="../../d1/d4e/structmsghdr.html#afba5fc31b0f197e25602d2232ca6d783">msg_control</a>;
<a name="l00229"></a><a class="code" href="../../d1/d4e/structmsghdr.html#acf6801d758df6c7335454348a279e491">00229</a>     <span class="keywordtype">int</span> <a class="code" href="../../d1/d4e/structmsghdr.html#acf6801d758df6c7335454348a279e491">msg_controllen</a>;
<a name="l00230"></a><a class="code" href="../../d1/d4e/structmsghdr.html#a9e8ff97d402c99551cbfd564e9e10a74">00230</a>     <span class="keywordtype">int</span> <a class="code" href="../../d1/d4e/structmsghdr.html#a9e8ff97d402c99551cbfd564e9e10a74">msg_flags</a>;
<a name="l00231"></a>00231 };
<a name="l00232"></a>00232 
<a name="l00233"></a><a class="code" href="../../dc/db1/win32_8h.html#ab41923b9995ba699086b0bd9a26fc4ef">00233</a> <span class="preprocessor">#define NtInitialize ruby_sysinit</span>
<a name="l00234"></a>00234 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../dc/db1/win32_8h.html#aacd9c53bcbb2361cc96afc053c00fe62">rb_w32_cmdvector</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">char</span> ***);
<a name="l00235"></a>00235 <span class="keyword">extern</span> rb_pid_t  <a class="code" href="../../dc/db1/win32_8h.html#af7ce3972e9d1b7523d8c72252991b948">rb_w32_pipe_exec</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span> *, <span class="keywordtype">int</span> *);
<a name="l00236"></a>00236 <span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../d6/d13/file_8c.html#adfd2c00559413ba0c3cbbaa019401f36">flock</a>(<span class="keywordtype">int</span> fd, <span class="keywordtype">int</span> oper);
<a name="l00237"></a>00237 <span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../dc/db1/win32_8h.html#a995b902a153b39b230bcabde5c07f919">rb_w32_io_cancelable_p</a>(<span class="keywordtype">int</span>);
<a name="l00238"></a>00238 <span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../dc/db1/win32_8h.html#a18c476eddf995031a14c536a70aa5820">rb_w32_is_socket</a>(<span class="keywordtype">int</span>);
<a name="l00239"></a>00239 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a0c8a8cd82b247f5906286bb075682f54">rb_w32_accept</a>(<span class="keywordtype">int</span>, <span class="keyword">struct</span> sockaddr *, <span class="keywordtype">int</span> *);
<a name="l00240"></a>00240 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a5549594481f9750e20055805fa45a18f">rb_w32_bind</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keyword">struct</span> sockaddr *, <span class="keywordtype">int</span>);
<a name="l00241"></a>00241 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a6f26c2ede3c45cb12ec9cf2bba659310">rb_w32_connect</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keyword">struct</span> sockaddr *, <span class="keywordtype">int</span>);
<a name="l00242"></a>00242 <span class="keyword">extern</span> <span class="keywordtype">void</span>   <a class="code" href="../../dc/db1/win32_8h.html#a695175c69ad9dfdc814a6cc5dcd2ff94">rb_w32_fdset</a>(<span class="keywordtype">int</span>, fd_set*);
<a name="l00243"></a>00243 <span class="keyword">extern</span> <span class="keywordtype">void</span>   <a class="code" href="../../dc/db1/win32_8h.html#a3b10db5e2732454c87aedf4f7c0417fe">rb_w32_fdclr</a>(<span class="keywordtype">int</span>, fd_set*);
<a name="l00244"></a>00244 <span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../dc/db1/win32_8h.html#a65d70007cd25261edc953fcb5419a090">rb_w32_fdisset</a>(<span class="keywordtype">int</span>, fd_set*);
<a name="l00245"></a>00245 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a56d0d606c1c7f312901fcdd7fd9ed9cf">rb_w32_select</a>(<span class="keywordtype">int</span>, fd_set *, fd_set *, fd_set *, <span class="keyword">struct</span> <a class="code" href="../../d1/d1b/structtimeval.html">timeval</a> *);
<a name="l00246"></a>00246 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#abaa0992dfb367f25d0362b98ecacf037">rb_w32_getpeername</a>(<span class="keywordtype">int</span>, <span class="keyword">struct</span> sockaddr *, <span class="keywordtype">int</span> *);
<a name="l00247"></a>00247 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#aee436f26c7a97f3d1608f6c70e50d632">rb_w32_getsockname</a>(<span class="keywordtype">int</span>, <span class="keyword">struct</span> sockaddr *, <span class="keywordtype">int</span> *);
<a name="l00248"></a>00248 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#aa7745b3ad62432b69699e191e9f8585d">rb_w32_getsockopt</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span> *);
<a name="l00249"></a>00249 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a5c57eb752f36cdcc76207d2538b94b4e">rb_w32_ioctlsocket</a>(<span class="keywordtype">int</span>, <span class="keywordtype">long</span>, <a class="code" href="../../da/d50/vsnprintf_8c.html#aaf12d2783d89167480b76853da8ba5e1">u_long</a> *);
<a name="l00250"></a>00250 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a657b0e5850efbc87734ad80fc0257006">rb_w32_listen</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
<a name="l00251"></a>00251 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a4efbaac71d987aea996bee8a5b0f739a">rb_w32_recv</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
<a name="l00252"></a>00252 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#ae8bec837f46f6575680e4dd1d7d774a2">rb_w32_recvfrom</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">struct</span> sockaddr *, <span class="keywordtype">int</span> *);
<a name="l00253"></a>00253 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a4fcc16a6694fcba033dc9b5933f8fc00">rb_w32_send</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
<a name="l00254"></a>00254 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a07d9e2b41d9fcca04ae5ffd504f56a88">rb_w32_sendto</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keyword">struct</span> sockaddr *, <span class="keywordtype">int</span>);
<a name="l00255"></a>00255 <span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../dc/db1/win32_8h.html#a256d6b1cfde9bfb7073fec395dd327f5">recvmsg</a>(<span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="../../d1/d4e/structmsghdr.html">msghdr</a> *, <span class="keywordtype">int</span>);
<a name="l00256"></a>00256 <span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../dc/db1/win32_8h.html#a572dee55eb30bcdc62ef201644157580">sendmsg</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d1/d4e/structmsghdr.html">msghdr</a> *, <span class="keywordtype">int</span>);
<a name="l00257"></a>00257 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#aa950e43dcf2f0b140d02025659c55aae">rb_w32_setsockopt</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00258"></a>00258 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a67f9e65032b440f712580f8b845a10df">rb_w32_shutdown</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
<a name="l00259"></a>00259 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a6bc5c5c008d42c493612098e8cc9c764">rb_w32_socket</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
<a name="l00260"></a>00260 <span class="keyword">extern</span> SOCKET <a class="code" href="../../dc/db1/win32_8h.html#a1955cd10ac395eb8442b50577b1e968e">rb_w32_get_osfhandle</a>(<span class="keywordtype">int</span>);
<a name="l00261"></a>00261 <span class="keyword">extern</span> <span class="keyword">struct </span>hostent *WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a51fea660caea399449c96d77165737d9">rb_w32_gethostbyaddr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
<a name="l00262"></a>00262 <span class="keyword">extern</span> <span class="keyword">struct </span>hostent *WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#ae9053d8747bc80e03af154db8368d67b">rb_w32_gethostbyname</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00263"></a>00263 <span class="keyword">extern</span> <span class="keywordtype">int</span>    WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a2eb9b9406c2cde62b91f5bff97051b03">rb_w32_gethostname</a>(<span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00264"></a>00264 <span class="keyword">extern</span> <span class="keyword">struct </span>protoent *WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a6fc2cb9ca53cf1d76fc89d81a3243807">rb_w32_getprotobyname</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00265"></a>00265 <span class="keyword">extern</span> <span class="keyword">struct </span>protoent *WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a94aeabf0fe257328710305c7ee7d7d18">rb_w32_getprotobynumber</a>(<span class="keywordtype">int</span>);
<a name="l00266"></a>00266 <span class="keyword">extern</span> <span class="keyword">struct </span>servent  *WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a903d39ee78b33bc80dea698e6bcd8d6e">rb_w32_getservbyname</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00267"></a>00267 <span class="keyword">extern</span> <span class="keyword">struct </span>servent  *WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#a62c4ae7f88a7ee6d305f6c50e5bbabfe">rb_w32_getservbyport</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00268"></a>00268 <span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../dc/db1/win32_8h.html#ac548cc035ef35e10189bb7e626a9ef7c">rb_w32_socketpair</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span> *);
<a name="l00269"></a>00269 <span class="keyword">extern</span> <span class="keywordtype">char</span> * <a class="code" href="../../dc/db1/win32_8h.html#a10b8b3b9a4d856b6c3e1f89c2158e90c">rb_w32_getcwd</a>(<span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00270"></a>00270 <span class="keyword">extern</span> <span class="keywordtype">char</span> * <a class="code" href="../../dc/db1/win32_8h.html#ab7ab738566effab1d8ce0d8a2540695d">rb_w32_getenv</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00271"></a>00271 <span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../dc/db1/win32_8h.html#a1d5488313f84de5a7783b3cb029392c7">rb_w32_rename</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00272"></a>00272 <span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../dc/db1/win32_8h.html#adcfac29efe8d2e02b6b8ce09f95ffbe1">rb_w32_urename</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00273"></a>00273 <span class="keyword">extern</span> <span class="keywordtype">char</span> **<a class="code" href="../../dc/db1/win32_8h.html#aedf011f736007a12cb42536cb4ae376f">rb_w32_get_environ</a>(<span class="keywordtype">void</span>);
<a name="l00274"></a>00274 <span class="keyword">extern</span> <span class="keywordtype">void</span>   <a class="code" href="../../dc/db1/win32_8h.html#a1980ed6d93d0d05322bf44c5da29d738">rb_w32_free_environ</a>(<span class="keywordtype">char</span> **);
<a name="l00275"></a>00275 <span class="keyword">extern</span> <span class="keywordtype">int</span>    <a class="code" href="../../dc/db1/win32_8h.html#a15f61b7f1beb4f88cca583894dcfefb9">rb_w32_map_errno</a>(<a class="code" href="../../d2/d99/win32ole_8c.html#a2ec0aeb209eda20f4bef5d50ce5a7417">DWORD</a>);
<a name="l00276"></a>00276 <span class="keyword">extern</span> <span class="keywordtype">char</span> * WSAAPI <a class="code" href="../../dc/db1/win32_8h.html#ae257cc8445fd30696ec0f081f58c3ac6">rb_w32_inet_ntop</a>(<span class="keywordtype">int</span>,<span class="keywordtype">void</span> *,<span class="keywordtype">char</span> *,<span class="keywordtype">size_t</span>);
<a name="l00277"></a>00277 <span class="keyword">extern</span> <a class="code" href="../../d2/d99/win32ole_8c.html#a2ec0aeb209eda20f4bef5d50ce5a7417">DWORD</a>  <a class="code" href="../../dc/db1/win32_8h.html#affdb842014b69315ef8e742ad2ebe79e">rb_w32_osver</a>(<span class="keywordtype">void</span>);
<a name="l00278"></a>00278 
<a name="l00279"></a>00279 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#ac7c7a6988eecb59569de9f51115a1df3">chown</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
<a name="l00280"></a>00280 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a4856ef766f0416e9a3ab1208195c3ab3">rb_w32_uchown</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
<a name="l00281"></a>00281 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00282"></a>00282 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a4acaae57904f3a240e97426a0dbdf186">rb_w32_ulink</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00283"></a>00283 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a091a762f60d91b0f5441d9520dc2079c">gettimeofday</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/d1b/structtimeval.html">timeval</a> *, <span class="keyword">struct</span> <a class="code" href="../../de/dc1/structtimezone.html">timezone</a> *);
<a name="l00284"></a>00284 <span class="keyword">extern</span> rb_pid_t <a class="code" href="../../dc/db1/win32_8h.html#a2b9a9e62a9cce5e6e25a66488e6290a4">waitpid</a> (rb_pid_t, <span class="keywordtype">int</span> *, <span class="keywordtype">int</span>);
<a name="l00285"></a>00285 <span class="keyword">extern</span> rb_pid_t <a class="code" href="../../dc/db1/win32_8h.html#ae94bfda820ed3539b29e9fdba5babdb7">rb_w32_spawn</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span>*);
<a name="l00286"></a>00286 <span class="keyword">extern</span> rb_pid_t <a class="code" href="../../dc/db1/win32_8h.html#a4d7623fc5298f802f41339ee53761064">rb_w32_aspawn</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">char</span> *<span class="keyword">const</span> *);
<a name="l00287"></a>00287 <span class="keyword">extern</span> rb_pid_t <a class="code" href="../../dc/db1/win32_8h.html#a5431e54710874f971979ccb3b2728556">rb_w32_aspawn_flags</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">char</span> *<span class="keyword">const</span> *, <a class="code" href="../../d2/d99/win32ole_8c.html#a2ec0aeb209eda20f4bef5d50ce5a7417">DWORD</a>);
<a name="l00288"></a>00288 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a6edea8ed9aecaef5fc4762da7ec641ff">kill</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
<a name="l00289"></a>00289 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, ...);
<a name="l00290"></a>00290 <span class="keyword">extern</span> rb_pid_t <a class="code" href="../../dc/db1/win32_8h.html#a9a677fe7b1042899e0dd677732ef4dcd">rb_w32_getpid</a>(<span class="keywordtype">void</span>);
<a name="l00291"></a>00291 <span class="keyword">extern</span> rb_pid_t <a class="code" href="../../dc/db1/win32_8h.html#a8cc82cce92d22aafb29f7fd1bb34503b">rb_w32_getppid</a>(<span class="keywordtype">void</span>);
<a name="l00292"></a>00292 <span class="preprocessor">#if !defined(__BORLANDC__)</span>
<a name="l00293"></a>00293 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#ae9638954c74179c02d7ee5f8634e9a96">rb_w32_isatty</a>(<span class="keywordtype">int</span>);
<a name="l00294"></a>00294 <span class="preprocessor">#endif</span>
<a name="l00295"></a>00295 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a208c5e067569bd4ea8c7688156f6826c">rb_w32_uchdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00296"></a>00296 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a70426e41f78ca45ff6484d38ef7c6ce0">rb_w32_mkdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00297"></a>00297 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#ad345dcb785658b67d3d341e44a13b9da">rb_w32_umkdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00298"></a>00298 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#afe7f3405b443bdf2fe55aea337d2be38">rb_w32_rmdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00299"></a>00299 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a7bef851bc011ec0e58350c041bf4c4ca">rb_w32_urmdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00300"></a>00300 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a40c5bc86236c982946e02520c1e55b5c">rb_w32_unlink</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00301"></a>00301 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a995efcb30d3f067c7e25c8bd9f3d61aa">rb_w32_uunlink</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00302"></a>00302 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a2cca3572ef20fd92a13c96c673f31ba0">rb_w32_uchmod</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00303"></a>00303 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a757f3c96af3781bf2a04f0c62a5b5514">rb_w32_stati64</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">struct</span> stati64 *);
<a name="l00304"></a>00304 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#abb172aaa3b14f9c60daf129b5dec5e5b">rb_w32_ustati64</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">struct</span> stati64 *);
<a name="l00305"></a>00305 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a07f427aabd6bbbb83c6bd19e34cb8b75">rb_w32_access</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00306"></a>00306 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a5c0e38c2d1cd092fe01b59c41260aaa4">rb_w32_uaccess</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00307"></a>00307 <span class="keyword">extern</span> <span class="keywordtype">char</span> <a class="code" href="../../dc/db1/win32_8h.html#a19b8f86a8d75136012efa0bec39a169d">rb_w32_fd_is_text</a>(<span class="keywordtype">int</span>);
<a name="l00308"></a>00308 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#a4836e53e52ad4338b85a5a1cb1be730d">rb_w32_fstati64</a>(<span class="keywordtype">int</span>, <span class="keyword">struct</span> stati64 *);
<a name="l00309"></a>00309 
<a name="l00310"></a>00310 <span class="preprocessor">#ifdef __BORLANDC__</span>
<a name="l00311"></a>00311 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="../../df/d0a/io_8c.html#ae498af04567b740d66e09d36613c2cd8">off_t</a> _lseeki64(<span class="keywordtype">int</span>, <a class="code" href="../../df/d0a/io_8c.html#ae498af04567b740d66e09d36613c2cd8">off_t</a>, <span class="keywordtype">int</span>);
<a name="l00312"></a>00312 <span class="keyword">extern</span> <a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a> *rb_w32_fopen(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00313"></a>00313 <span class="keyword">extern</span> <a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a> *rb_w32_fdopen(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00314"></a>00314 <span class="keyword">extern</span> <a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a> *rb_w32_fsopen(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00315"></a>00315 <span class="preprocessor">#endif</span>
<a name="l00316"></a>00316 <span class="preprocessor"></span>
<a name="l00317"></a>00317 <span class="preprocessor">#include &lt;float.h&gt;</span>
<a name="l00318"></a>00318 <span class="preprocessor">#if !defined __MINGW32__ || defined __NO_ISOCEXT</span>
<a name="l00319"></a>00319 <span class="preprocessor"></span><span class="preprocessor">#ifndef isnan</span>
<a name="l00320"></a><a class="code" href="../../dc/db1/win32_8h.html#a2e1baae9134e580910322362dc23290e">00320</a> <span class="preprocessor"></span><span class="preprocessor">#define isnan(x) _isnan(x)</span>
<a name="l00321"></a>00321 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00322"></a>00322 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l00323"></a><a class="code" href="../../dc/db1/win32_8h.html#a613965fb4dd0eb815d6f177cbb4da06b">00323</a> <a class="code" href="../../d3/d90/missing_8h.html#a92974cf7271cdbcd972c211baf210f6f">finite</a>(<span class="keywordtype">double</span> x)
<a name="l00324"></a>00324 {
<a name="l00325"></a>00325     <span class="keywordflow">return</span> _finite(x);
<a name="l00326"></a>00326 }
<a name="l00327"></a>00327 <span class="preprocessor">#ifndef copysign</span>
<a name="l00328"></a><a class="code" href="../../dc/db1/win32_8h.html#a598e7cf091ad5fb8da416317a4de7ce1">00328</a> <span class="preprocessor"></span><span class="preprocessor">#define copysign(a, b) _copysign(a, b)</span>
<a name="l00329"></a>00329 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00330"></a>00330 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">double</span>
<a name="l00331"></a><a class="code" href="../../dc/db1/win32_8h.html#a842923eee92951a34750ada0aa8afb26">00331</a> <a class="code" href="../../dc/db1/win32_8h.html#a842923eee92951a34750ada0aa8afb26">scalb</a>(<span class="keywordtype">double</span> a, <span class="keywordtype">long</span> b)
<a name="l00332"></a>00332 {
<a name="l00333"></a>00333     <span class="keywordflow">return</span> _scalb(a, b);
<a name="l00334"></a>00334 }
<a name="l00335"></a>00335 <span class="preprocessor">#endif</span>
<a name="l00336"></a>00336 <span class="preprocessor"></span>
<a name="l00337"></a>00337 <span class="preprocessor">#if !defined S_IFIFO &amp;&amp; defined _S_IFIFO</span>
<a name="l00338"></a>00338 <span class="preprocessor"></span><span class="preprocessor">#define S_IFIFO _S_IFIFO</span>
<a name="l00339"></a>00339 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00340"></a>00340 <span class="preprocessor"></span>
<a name="l00341"></a>00341 <span class="preprocessor">#if 0 &amp;&amp; defined __BORLANDC__</span>
<a name="l00342"></a>00342 <span class="preprocessor"></span><span class="preprocessor">#undef S_ISDIR</span>
<a name="l00343"></a>00343 <span class="preprocessor"></span><span class="preprocessor">#undef S_ISFIFO</span>
<a name="l00344"></a>00344 <span class="preprocessor"></span><span class="preprocessor">#undef S_ISBLK</span>
<a name="l00345"></a>00345 <span class="preprocessor"></span><span class="preprocessor">#undef S_ISCHR</span>
<a name="l00346"></a>00346 <span class="preprocessor"></span><span class="preprocessor">#undef S_ISREG</span>
<a name="l00347"></a>00347 <span class="preprocessor"></span><span class="preprocessor">#define S_ISDIR(m)  (((unsigned short)(m) &amp; S_IFMT) == S_IFDIR)</span>
<a name="l00348"></a>00348 <span class="preprocessor"></span><span class="preprocessor">#define S_ISFIFO(m) (((unsigned short)(m) &amp; S_IFMT) == S_IFIFO)</span>
<a name="l00349"></a>00349 <span class="preprocessor"></span><span class="preprocessor">#define S_ISBLK(m)  (((unsigned short)(m) &amp; S_IFMT) == S_IFBLK)</span>
<a name="l00350"></a>00350 <span class="preprocessor"></span><span class="preprocessor">#define S_ISCHR(m)  (((unsigned short)(m) &amp; S_IFMT) == S_IFCHR)</span>
<a name="l00351"></a>00351 <span class="preprocessor"></span><span class="preprocessor">#define S_ISREG(m)  (((unsigned short)(m) &amp; S_IFMT) == S_IFREG)</span>
<a name="l00352"></a>00352 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00353"></a>00353 <span class="preprocessor"></span>
<a name="l00354"></a>00354 <span class="preprocessor">#if !defined S_IRUSR &amp;&amp; !defined __MINGW32__</span>
<a name="l00355"></a><a class="code" href="../../dc/db1/win32_8h.html#a84c7dbf5cf2fdfb690f76348b60a8cb7">00355</a> <span class="preprocessor"></span><span class="preprocessor">#define S_IRUSR 0400</span>
<a name="l00356"></a>00356 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00357"></a>00357 <span class="preprocessor"></span><span class="preprocessor">#ifndef S_IRGRP</span>
<a name="l00358"></a><a class="code" href="../../dc/db1/win32_8h.html#a4f5f280b929768113739fb34d6f7be8a">00358</a> <span class="preprocessor"></span><span class="preprocessor">#define S_IRGRP 0040</span>
<a name="l00359"></a>00359 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00360"></a>00360 <span class="preprocessor"></span><span class="preprocessor">#ifndef S_IROTH</span>
<a name="l00361"></a><a class="code" href="../../dc/db1/win32_8h.html#a071147a0cb995036967c80f64b1f74b9">00361</a> <span class="preprocessor"></span><span class="preprocessor">#define S_IROTH 0004</span>
<a name="l00362"></a>00362 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00363"></a>00363 <span class="preprocessor"></span>
<a name="l00364"></a>00364 <span class="preprocessor">#if !defined S_IWUSR &amp;&amp; !defined __MINGW32__</span>
<a name="l00365"></a><a class="code" href="../../dc/db1/win32_8h.html#ad70001754261c15a1bdc8e876c6d09d7">00365</a> <span class="preprocessor"></span><span class="preprocessor">#define S_IWUSR 0200</span>
<a name="l00366"></a>00366 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00367"></a>00367 <span class="preprocessor"></span><span class="preprocessor">#ifndef S_IWGRP</span>
<a name="l00368"></a><a class="code" href="../../dc/db1/win32_8h.html#ae6774871a90d9442f00abe18b87fee6e">00368</a> <span class="preprocessor"></span><span class="preprocessor">#define S_IWGRP 0020</span>
<a name="l00369"></a>00369 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00370"></a>00370 <span class="preprocessor"></span><span class="preprocessor">#ifndef S_IWOTH</span>
<a name="l00371"></a>00371 <span class="preprocessor"></span><span class="preprocessor">#define S_IWOTH 0002</span>
<a name="l00372"></a>00372 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00373"></a>00373 <span class="preprocessor"></span>
<a name="l00374"></a>00374 <span class="preprocessor">#if !defined S_IXUSR &amp;&amp; !defined __MINGW32__</span>
<a name="l00375"></a><a class="code" href="../../dc/db1/win32_8h.html#af10a35e3950795d6ee4e07157d000131">00375</a> <span class="preprocessor"></span><span class="preprocessor">#define S_IXUSR 0100</span>
<a name="l00376"></a>00376 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00377"></a>00377 <span class="preprocessor"></span><span class="preprocessor">#ifndef S_IXGRP</span>
<a name="l00378"></a><a class="code" href="../../dc/db1/win32_8h.html#a042e69ac0e7dd56e5cfcd9e97d010323">00378</a> <span class="preprocessor"></span><span class="preprocessor">#define S_IXGRP 0010</span>
<a name="l00379"></a>00379 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00380"></a>00380 <span class="preprocessor"></span><span class="preprocessor">#ifndef S_IXOTH</span>
<a name="l00381"></a><a class="code" href="../../dc/db1/win32_8h.html#a40223db1b95a04f5b28cceb3c34cfebd">00381</a> <span class="preprocessor"></span><span class="preprocessor">#define S_IXOTH 0001</span>
<a name="l00382"></a>00382 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00383"></a>00383 <span class="preprocessor"></span>
<a name="l00384"></a>00384 <span class="comment">//</span>
<a name="l00385"></a>00385 <span class="comment">// define this so we can do inplace editing</span>
<a name="l00386"></a>00386 <span class="comment">//</span>
<a name="l00387"></a>00387 
<a name="l00388"></a><a class="code" href="../../dc/db1/win32_8h.html#a54e38498e51683b1e6424fd523e0e9ed">00388</a> <span class="preprocessor">#define SUFFIX</span>
<a name="l00389"></a>00389 <span class="preprocessor"></span>
<a name="l00390"></a>00390 <span class="keyword">extern</span> <span class="keywordtype">int</span>       <a class="code" href="../../dc/db1/win32_8h.html#a13d93a5f80fba3938f6523460872bf2c">rb_w32_ftruncate</a>(<span class="keywordtype">int</span> fd, <a class="code" href="../../df/d0a/io_8c.html#ae498af04567b740d66e09d36613c2cd8">off_t</a> length);
<a name="l00391"></a>00391 <span class="keyword">extern</span> <span class="keywordtype">int</span>       <a class="code" href="../../dc/db1/win32_8h.html#a395d112fd7811f17d48d702b711dac9a">rb_w32_truncate</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, <a class="code" href="../../df/d0a/io_8c.html#ae498af04567b740d66e09d36613c2cd8">off_t</a> length);
<a name="l00392"></a>00392 <span class="keyword">extern</span> <a class="code" href="../../df/d0a/io_8c.html#ae498af04567b740d66e09d36613c2cd8">off_t</a>     <a class="code" href="../../dc/db1/win32_8h.html#af0c2f6dc1b3fecde2bce418f07e14ac3">rb_w32_ftello</a>(<a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a> *stream);
<a name="l00393"></a>00393 <span class="keyword">extern</span> <span class="keywordtype">int</span>       <a class="code" href="../../dc/db1/win32_8h.html#a9b3a273615704c32bd74dfd7d464acb9">rb_w32_fseeko</a>(<a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a> *stream, <a class="code" href="../../df/d0a/io_8c.html#ae498af04567b740d66e09d36613c2cd8">off_t</a> offset, <span class="keywordtype">int</span> whence);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395 <span class="preprocessor">#undef HAVE_FTRUNCATE</span>
<a name="l00396"></a><a class="code" href="../../dc/db1/win32_8h.html#a09e31dd5fbbe2ad51c5970a2d4819542">00396</a> <span class="preprocessor"></span><span class="preprocessor">#define HAVE_FTRUNCATE 1</span>
<a name="l00397"></a>00397 <span class="preprocessor"></span><span class="preprocessor">#if defined HAVE_FTRUNCATE64</span>
<a name="l00398"></a>00398 <span class="preprocessor"></span><span class="preprocessor">#define ftruncate ftruncate64</span>
<a name="l00399"></a>00399 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00400"></a><a class="code" href="../../dc/db1/win32_8h.html#a941000a11084e48173e1c770876759c4">00400</a> <span class="preprocessor"></span><span class="preprocessor">#define ftruncate rb_w32_ftruncate</span>
<a name="l00401"></a>00401 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00402"></a>00402 <span class="preprocessor"></span>
<a name="l00403"></a>00403 <span class="preprocessor">#undef HAVE_TRUNCATE</span>
<a name="l00404"></a><a class="code" href="../../dc/db1/win32_8h.html#a7467cf55b6112653bba34bbc8a983921">00404</a> <span class="preprocessor"></span><span class="preprocessor">#define HAVE_TRUNCATE 1</span>
<a name="l00405"></a>00405 <span class="preprocessor"></span><span class="preprocessor">#if defined HAVE_TRUNCATE64</span>
<a name="l00406"></a>00406 <span class="preprocessor"></span><span class="preprocessor">#define truncate truncate64</span>
<a name="l00407"></a>00407 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00408"></a><a class="code" href="../../dc/db1/win32_8h.html#a60afbd0a3b94d148cce45468b79c2c5a">00408</a> <span class="preprocessor"></span><span class="preprocessor">#define truncate rb_w32_truncate</span>
<a name="l00409"></a>00409 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00410"></a>00410 <span class="preprocessor"></span>
<a name="l00411"></a>00411 <span class="preprocessor">#undef HAVE_FSEEKO</span>
<a name="l00412"></a><a class="code" href="../../dc/db1/win32_8h.html#a15584f56d115b955377103a0cca9ead1">00412</a> <span class="preprocessor"></span><span class="preprocessor">#define HAVE_FSEEKO 1</span>
<a name="l00413"></a>00413 <span class="preprocessor"></span><span class="preprocessor">#if defined HAVE_FSEEKO64</span>
<a name="l00414"></a>00414 <span class="preprocessor"></span><span class="preprocessor">#define fseeko fseeko64</span>
<a name="l00415"></a>00415 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00416"></a><a class="code" href="../../dc/db1/win32_8h.html#a227875b8399b0589b1124555d3ae4007">00416</a> <span class="preprocessor"></span><span class="preprocessor">#define fseeko rb_w32_fseeko</span>
<a name="l00417"></a>00417 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00418"></a>00418 <span class="preprocessor"></span>
<a name="l00419"></a>00419 <span class="preprocessor">#undef HAVE_FTELLO</span>
<a name="l00420"></a><a class="code" href="../../dc/db1/win32_8h.html#a0a0949840371d3f948f1a3c5d2046c6e">00420</a> <span class="preprocessor"></span><span class="preprocessor">#define HAVE_FTELLO 1</span>
<a name="l00421"></a>00421 <span class="preprocessor"></span><span class="preprocessor">#if defined HAVE_FTELLO64</span>
<a name="l00422"></a>00422 <span class="preprocessor"></span><span class="preprocessor">#define ftello ftello64</span>
<a name="l00423"></a>00423 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00424"></a><a class="code" href="../../dc/db1/win32_8h.html#af05e2f178910c2e2804e573c883db868">00424</a> <span class="preprocessor"></span><span class="preprocessor">#define ftello rb_w32_ftello</span>
<a name="l00425"></a>00425 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00426"></a>00426 <span class="preprocessor"></span>
<a name="l00427"></a>00427 <span class="comment">//</span>
<a name="l00428"></a>00428 <span class="comment">// stubs</span>
<a name="l00429"></a>00429 <span class="comment">//</span>
<a name="l00430"></a>00430 <span class="keyword">extern</span> <span class="keywordtype">int</span>       <a class="code" href="../../dc/db1/win32_8h.html#ae3a230c65883ec8edc50e3a09ca80003">ioctl</a> (<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, ...);
<a name="l00431"></a>00431 <span class="keyword">extern</span> rb_uid_t  <a class="code" href="../../dc/db1/win32_8h.html#a2a3c17f15a0d34a8bba3277bfef2f56b">getuid</a> (<span class="keywordtype">void</span>);
<a name="l00432"></a>00432 <span class="keyword">extern</span> rb_uid_t  <a class="code" href="../../dc/db1/win32_8h.html#a562a0feffc13c71832ee590ba902deed">geteuid</a> (<span class="keywordtype">void</span>);
<a name="l00433"></a>00433 <span class="keyword">extern</span> rb_gid_t  <a class="code" href="../../dc/db1/win32_8h.html#aff700a9c53273ce5d774f5e9bfd706d3">getgid</a> (<span class="keywordtype">void</span>);
<a name="l00434"></a>00434 <span class="keyword">extern</span> rb_gid_t  <a class="code" href="../../dc/db1/win32_8h.html#aadcb5f82638d8002839ca37508e43616">getegid</a> (<span class="keywordtype">void</span>);
<a name="l00435"></a>00435 <span class="keyword">extern</span> <span class="keywordtype">int</span>       <a class="code" href="../../dc/db1/win32_8h.html#a3bef852c94b7745f63a32a875dab7869">setuid</a> (rb_uid_t);
<a name="l00436"></a>00436 <span class="keyword">extern</span> <span class="keywordtype">int</span>       <a class="code" href="../../dc/db1/win32_8h.html#a2ba8bd3d878047e56a5117752c9aae82">setgid</a> (rb_gid_t);
<a name="l00437"></a>00437 
<a name="l00438"></a>00438 <span class="keyword">extern</span> <span class="keywordtype">char</span> *<a class="code" href="../../dc/db1/win32_8h.html#a94ab663c6f5feedb7fdc4fa454a71060">rb_w32_strerror</a>(<span class="keywordtype">int</span>);
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 <span class="preprocessor">#ifdef RUBY_EXPORT</span>
<a name="l00441"></a>00441 <span class="preprocessor"></span><span class="preprocessor">#define strerror(e) rb_w32_strerror(e)</span>
<a name="l00442"></a>00442 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00443"></a>00443 <span class="preprocessor"></span>
<a name="l00444"></a><a class="code" href="../../dc/db1/win32_8h.html#ad2c1c798d36bdba42d5f4d50da5ae200">00444</a> <span class="preprocessor">#define PIPE_BUF 1024</span>
<a name="l00445"></a>00445 <span class="preprocessor"></span>
<a name="l00446"></a><a class="code" href="../../dc/db1/win32_8h.html#ab0abca95a2265e7cea4b2e026278a968">00446</a> <span class="preprocessor">#define LOCK_SH 1</span>
<a name="l00447"></a><a class="code" href="../../dc/db1/win32_8h.html#a640585398981aa2bb565dd65ede96778">00447</a> <span class="preprocessor"></span><span class="preprocessor">#define LOCK_EX 2</span>
<a name="l00448"></a><a class="code" href="../../dc/db1/win32_8h.html#a3527dd84628b5a5c2befd2b7f57804c9">00448</a> <span class="preprocessor"></span><span class="preprocessor">#define LOCK_NB 4</span>
<a name="l00449"></a><a class="code" href="../../dc/db1/win32_8h.html#a2078aa82765907b50b7656067c2e9578">00449</a> <span class="preprocessor"></span><span class="preprocessor">#define LOCK_UN 8</span>
<a name="l00450"></a>00450 <span class="preprocessor"></span>
<a name="l00451"></a>00451 
<a name="l00452"></a>00452 <span class="preprocessor">#ifndef SIGINT</span>
<a name="l00453"></a><a class="code" href="../../dc/db1/win32_8h.html#a487309e3e9e0527535644115204a639a">00453</a> <span class="preprocessor"></span><span class="preprocessor">#define SIGINT 2</span>
<a name="l00454"></a>00454 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00455"></a>00455 <span class="preprocessor"></span><span class="preprocessor">#ifndef SIGKILL</span>
<a name="l00456"></a><a class="code" href="../../dc/db1/win32_8h.html#addd8dcd406ce514ab3b4f576a5343d42">00456</a> <span class="preprocessor"></span><span class="preprocessor">#define SIGKILL 9</span>
<a name="l00457"></a>00457 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00458"></a>00458 <span class="preprocessor"></span>
<a name="l00459"></a>00459 
<a name="l00460"></a>00460 <span class="comment">/* #undef va_start */</span>
<a name="l00461"></a>00461 <span class="comment">/* #undef va_end */</span>
<a name="l00462"></a>00462 
<a name="l00463"></a>00463 <span class="comment">/* winsock error map */</span>
<a name="l00464"></a>00464 <span class="preprocessor">#include &lt;errno.h&gt;</span>
<a name="l00465"></a>00465 
<a name="l00466"></a>00466 <span class="preprocessor">#ifndef EWOULDBLOCK</span>
<a name="l00467"></a>00467 <span class="preprocessor"></span><span class="preprocessor"># define EWOULDBLOCK            WSAEWOULDBLOCK</span>
<a name="l00468"></a>00468 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00469"></a>00469 <span class="preprocessor"></span><span class="preprocessor">#ifndef EINPROGRESS</span>
<a name="l00470"></a><a class="code" href="../../dc/db1/win32_8h.html#a6c045d5be06e715cc335784a7320714e">00470</a> <span class="preprocessor"></span><span class="preprocessor"># define EINPROGRESS            WSAEINPROGRESS</span>
<a name="l00471"></a>00471 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00472"></a>00472 <span class="preprocessor"></span><span class="preprocessor">#ifndef EALREADY</span>
<a name="l00473"></a><a class="code" href="../../dc/db1/win32_8h.html#aa4ccb54aa806de3e41a8515f06db85d4">00473</a> <span class="preprocessor"></span><span class="preprocessor"># define EALREADY               WSAEALREADY</span>
<a name="l00474"></a>00474 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00475"></a>00475 <span class="preprocessor"></span><span class="preprocessor">#ifndef ENOTSOCK</span>
<a name="l00476"></a><a class="code" href="../../dc/db1/win32_8h.html#ae34fa7a550ac1c415daa2e114a1c0f38">00476</a> <span class="preprocessor"></span><span class="preprocessor"># define ENOTSOCK               WSAENOTSOCK</span>
<a name="l00477"></a>00477 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00478"></a>00478 <span class="preprocessor"></span><span class="preprocessor">#ifndef EDESTADDRREQ</span>
<a name="l00479"></a><a class="code" href="../../dc/db1/win32_8h.html#a0e416d3478cf030e37e90c55d68ad97a">00479</a> <span class="preprocessor"></span><span class="preprocessor"># define EDESTADDRREQ           WSAEDESTADDRREQ</span>
<a name="l00480"></a>00480 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00481"></a>00481 <span class="preprocessor"></span><span class="preprocessor">#ifndef EMSGSIZE</span>
<a name="l00482"></a><a class="code" href="../../dc/db1/win32_8h.html#ae37becfaa095a9df5c5c788bce5aa06f">00482</a> <span class="preprocessor"></span><span class="preprocessor"># define EMSGSIZE               WSAEMSGSIZE</span>
<a name="l00483"></a>00483 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00484"></a>00484 <span class="preprocessor"></span><span class="preprocessor">#ifndef EPROTOTYPE</span>
<a name="l00485"></a><a class="code" href="../../dc/db1/win32_8h.html#ae6014faa948366b8321d755204acf755">00485</a> <span class="preprocessor"></span><span class="preprocessor"># define EPROTOTYPE             WSAEPROTOTYPE</span>
<a name="l00486"></a>00486 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00487"></a>00487 <span class="preprocessor"></span><span class="preprocessor">#ifndef ENOPROTOOPT</span>
<a name="l00488"></a><a class="code" href="../../dc/db1/win32_8h.html#acd570f8ab92198653b4459773dc3bca3">00488</a> <span class="preprocessor"></span><span class="preprocessor"># define ENOPROTOOPT            WSAENOPROTOOPT</span>
<a name="l00489"></a>00489 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00490"></a>00490 <span class="preprocessor"></span><span class="preprocessor">#ifndef EPROTONOSUPPORT</span>
<a name="l00491"></a><a class="code" href="../../dc/db1/win32_8h.html#ad581c46fdd4dee9419f60eaff40415e7">00491</a> <span class="preprocessor"></span><span class="preprocessor"># define EPROTONOSUPPORT        WSAEPROTONOSUPPORT</span>
<a name="l00492"></a>00492 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00493"></a>00493 <span class="preprocessor"></span><span class="preprocessor">#ifndef ESOCKTNOSUPPORT</span>
<a name="l00494"></a><a class="code" href="../../dc/db1/win32_8h.html#a891103a0628442461b41d4d85fb6d945">00494</a> <span class="preprocessor"></span><span class="preprocessor"># define ESOCKTNOSUPPORT        WSAESOCKTNOSUPPORT</span>
<a name="l00495"></a>00495 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00496"></a>00496 <span class="preprocessor"></span><span class="preprocessor">#ifndef EOPNOTSUPP</span>
<a name="l00497"></a><a class="code" href="../../dc/db1/win32_8h.html#a4b807895c74cea4d0302bf27725d4b9d">00497</a> <span class="preprocessor"></span><span class="preprocessor"># define EOPNOTSUPP             WSAEOPNOTSUPP</span>
<a name="l00498"></a>00498 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00499"></a>00499 <span class="preprocessor"></span><span class="preprocessor">#ifndef EPFNOSUPPORT</span>
<a name="l00500"></a><a class="code" href="../../dc/db1/win32_8h.html#a871b9fabb281dbc2d3b81cb79c163c20">00500</a> <span class="preprocessor"></span><span class="preprocessor"># define EPFNOSUPPORT           WSAEPFNOSUPPORT</span>
<a name="l00501"></a>00501 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00502"></a>00502 <span class="preprocessor"></span><span class="preprocessor">#ifndef EAFNOSUPPORT</span>
<a name="l00503"></a><a class="code" href="../../dc/db1/win32_8h.html#a4c3a793b4d51cb7dd020af92e536fe21">00503</a> <span class="preprocessor"></span><span class="preprocessor"># define EAFNOSUPPORT           WSAEAFNOSUPPORT</span>
<a name="l00504"></a>00504 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00505"></a>00505 <span class="preprocessor"></span><span class="preprocessor">#ifndef EADDRINUSE</span>
<a name="l00506"></a><a class="code" href="../../dc/db1/win32_8h.html#a61676e39b42371c65c3b960a91887b03">00506</a> <span class="preprocessor"></span><span class="preprocessor"># define EADDRINUSE             WSAEADDRINUSE</span>
<a name="l00507"></a>00507 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00508"></a>00508 <span class="preprocessor"></span><span class="preprocessor">#ifndef EADDRNOTAVAIL</span>
<a name="l00509"></a><a class="code" href="../../dc/db1/win32_8h.html#a556612e55358838192165684c971a44f">00509</a> <span class="preprocessor"></span><span class="preprocessor"># define EADDRNOTAVAIL          WSAEADDRNOTAVAIL</span>
<a name="l00510"></a>00510 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00511"></a>00511 <span class="preprocessor"></span><span class="preprocessor">#ifndef ENETDOWN</span>
<a name="l00512"></a><a class="code" href="../../dc/db1/win32_8h.html#aac51995026fa19cdd0ad84a272304af0">00512</a> <span class="preprocessor"></span><span class="preprocessor"># define ENETDOWN               WSAENETDOWN</span>
<a name="l00513"></a>00513 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00514"></a>00514 <span class="preprocessor"></span><span class="preprocessor">#ifndef ENETUNREACH</span>
<a name="l00515"></a><a class="code" href="../../dc/db1/win32_8h.html#a3f91f1ad503432783c7a5d1481b45419">00515</a> <span class="preprocessor"></span><span class="preprocessor"># define ENETUNREACH            WSAENETUNREACH</span>
<a name="l00516"></a>00516 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00517"></a>00517 <span class="preprocessor"></span><span class="preprocessor">#ifndef ENETRESET</span>
<a name="l00518"></a><a class="code" href="../../dc/db1/win32_8h.html#a92750db73ff8e83591c977bbb3a5bea1">00518</a> <span class="preprocessor"></span><span class="preprocessor"># define ENETRESET              WSAENETRESET</span>
<a name="l00519"></a>00519 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00520"></a>00520 <span class="preprocessor"></span><span class="preprocessor">#ifndef ECONNABORTED</span>
<a name="l00521"></a><a class="code" href="../../dc/db1/win32_8h.html#a45342991e001e28bbf87916d92b7e09a">00521</a> <span class="preprocessor"></span><span class="preprocessor"># define ECONNABORTED           WSAECONNABORTED</span>
<a name="l00522"></a>00522 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00523"></a>00523 <span class="preprocessor"></span><span class="preprocessor">#ifndef ECONNRESET</span>
<a name="l00524"></a><a class="code" href="../../dc/db1/win32_8h.html#add4258b08af02fbe4590fbaae7260037">00524</a> <span class="preprocessor"></span><span class="preprocessor"># define ECONNRESET             WSAECONNRESET</span>
<a name="l00525"></a>00525 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00526"></a>00526 <span class="preprocessor"></span><span class="preprocessor">#ifndef ENOBUFS</span>
<a name="l00527"></a><a class="code" href="../../dc/db1/win32_8h.html#a9e655f47bfd914a1174f281fc31cf63d">00527</a> <span class="preprocessor"></span><span class="preprocessor"># define ENOBUFS                WSAENOBUFS</span>
<a name="l00528"></a>00528 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00529"></a>00529 <span class="preprocessor"></span><span class="preprocessor">#ifndef EISCONN</span>
<a name="l00530"></a><a class="code" href="../../dc/db1/win32_8h.html#a164ca8549da7a385e2fe1cba823b9eaf">00530</a> <span class="preprocessor"></span><span class="preprocessor"># define EISCONN                WSAEISCONN</span>
<a name="l00531"></a>00531 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00532"></a>00532 <span class="preprocessor"></span><span class="preprocessor">#ifndef ENOTCONN</span>
<a name="l00533"></a><a class="code" href="../../dc/db1/win32_8h.html#af23e48762a0676f49d480db91cfd5e4b">00533</a> <span class="preprocessor"></span><span class="preprocessor"># define ENOTCONN               WSAENOTCONN</span>
<a name="l00534"></a>00534 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00535"></a>00535 <span class="preprocessor"></span><span class="preprocessor">#ifndef ESHUTDOWN</span>
<a name="l00536"></a><a class="code" href="../../dc/db1/win32_8h.html#a2a55c5dd8b54ff5aace6c274c6726d68">00536</a> <span class="preprocessor"></span><span class="preprocessor"># define ESHUTDOWN              WSAESHUTDOWN</span>
<a name="l00537"></a>00537 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00538"></a>00538 <span class="preprocessor"></span><span class="preprocessor">#ifndef ETOOMANYREFS</span>
<a name="l00539"></a><a class="code" href="../../dc/db1/win32_8h.html#a10426080250efba47f4aaf254036ff00">00539</a> <span class="preprocessor"></span><span class="preprocessor"># define ETOOMANYREFS           WSAETOOMANYREFS</span>
<a name="l00540"></a>00540 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00541"></a>00541 <span class="preprocessor"></span><span class="preprocessor">#ifndef ETIMEDOUT</span>
<a name="l00542"></a><a class="code" href="../../dc/db1/win32_8h.html#a597718e59a8fc9c4d4ab63f5a34e28b1">00542</a> <span class="preprocessor"></span><span class="preprocessor"># define ETIMEDOUT              WSAETIMEDOUT</span>
<a name="l00543"></a>00543 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00544"></a>00544 <span class="preprocessor"></span><span class="preprocessor">#ifndef ECONNREFUSED</span>
<a name="l00545"></a><a class="code" href="../../dc/db1/win32_8h.html#aad88020b394ef1aa4af2f4ef9b4c8b39">00545</a> <span class="preprocessor"></span><span class="preprocessor"># define ECONNREFUSED           WSAECONNREFUSED</span>
<a name="l00546"></a>00546 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00547"></a>00547 <span class="preprocessor"></span><span class="preprocessor">#ifndef ELOOP</span>
<a name="l00548"></a><a class="code" href="../../dc/db1/win32_8h.html#a2f78c246352d2bf2f19dc5d43da2f0c9">00548</a> <span class="preprocessor"></span><span class="preprocessor"># define ELOOP                  WSAELOOP</span>
<a name="l00549"></a>00549 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00550"></a>00550 <span class="preprocessor"></span><span class="comment">/*#define ENAMETOOLONG  WSAENAMETOOLONG*/</span>
<a name="l00551"></a>00551 <span class="preprocessor">#ifndef EHOSTDOWN</span>
<a name="l00552"></a><a class="code" href="../../dc/db1/win32_8h.html#aa92bcaf70544db6998f4c503026359c5">00552</a> <span class="preprocessor"></span><span class="preprocessor"># define EHOSTDOWN              WSAEHOSTDOWN</span>
<a name="l00553"></a>00553 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00554"></a>00554 <span class="preprocessor"></span><span class="preprocessor">#ifndef EHOSTUNREACH</span>
<a name="l00555"></a><a class="code" href="../../dc/db1/win32_8h.html#a53e186028fc992c3341ccb0d4d239b24">00555</a> <span class="preprocessor"></span><span class="preprocessor"># define EHOSTUNREACH           WSAEHOSTUNREACH</span>
<a name="l00556"></a>00556 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00557"></a>00557 <span class="preprocessor"></span><span class="comment">/*#define ENOTEMPTY     WSAENOTEMPTY*/</span>
<a name="l00558"></a>00558 <span class="preprocessor">#ifndef EPROCLIM</span>
<a name="l00559"></a><a class="code" href="../../dc/db1/win32_8h.html#a801513ca187af849409e07fda8554a83">00559</a> <span class="preprocessor"></span><span class="preprocessor"># define EPROCLIM               WSAEPROCLIM</span>
<a name="l00560"></a>00560 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00561"></a>00561 <span class="preprocessor"></span><span class="preprocessor">#ifndef EUSERS</span>
<a name="l00562"></a><a class="code" href="../../dc/db1/win32_8h.html#a9b153104ed38c8579f009f81bc7b2dc9">00562</a> <span class="preprocessor"></span><span class="preprocessor"># define EUSERS                 WSAEUSERS</span>
<a name="l00563"></a>00563 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00564"></a>00564 <span class="preprocessor"></span><span class="preprocessor">#ifndef EDQUOT</span>
<a name="l00565"></a><a class="code" href="../../dc/db1/win32_8h.html#aa5a48566b00cf9062d9deeeb0682cdaf">00565</a> <span class="preprocessor"></span><span class="preprocessor"># define EDQUOT                 WSAEDQUOT</span>
<a name="l00566"></a>00566 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00567"></a>00567 <span class="preprocessor"></span><span class="preprocessor">#ifndef ESTALE</span>
<a name="l00568"></a><a class="code" href="../../dc/db1/win32_8h.html#a09e189d2214d9fe2847d27bf270ca1d7">00568</a> <span class="preprocessor"></span><span class="preprocessor"># define ESTALE                 WSAESTALE</span>
<a name="l00569"></a>00569 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00570"></a>00570 <span class="preprocessor"></span><span class="preprocessor">#ifndef EREMOTE</span>
<a name="l00571"></a><a class="code" href="../../dc/db1/win32_8h.html#a5e1edba49c18fc631dbf54ff53702d4a">00571</a> <span class="preprocessor"></span><span class="preprocessor"># define EREMOTE                WSAEREMOTE</span>
<a name="l00572"></a>00572 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00573"></a>00573 <span class="preprocessor"></span>
<a name="l00574"></a><a class="code" href="../../dc/db1/win32_8h.html#af2939853c650561d3495ed40f68f6249">00574</a> <span class="preprocessor">#define F_SETFL 1</span>
<a name="l00575"></a><a class="code" href="../../dc/db1/win32_8h.html#a39d33ce33804efd4d52606d59071c6d8">00575</a> <span class="preprocessor"></span><span class="preprocessor">#define O_NONBLOCK 1</span>
<a name="l00576"></a>00576 <span class="preprocessor"></span>
<a name="l00577"></a>00577 <span class="preprocessor">#undef FD_SET</span>
<a name="l00578"></a><a class="code" href="../../dc/db1/win32_8h.html#ac9a6234e30e3cb64542eca6dab921a93">00578</a> <span class="preprocessor"></span><span class="preprocessor">#define FD_SET(fd, set) do {\</span>
<a name="l00579"></a>00579 <span class="preprocessor">    unsigned int i;\</span>
<a name="l00580"></a>00580 <span class="preprocessor">    SOCKET s = _get_osfhandle(fd);\</span>
<a name="l00581"></a>00581 <span class="preprocessor">\</span>
<a name="l00582"></a>00582 <span class="preprocessor">    for (i = 0; i &lt; (set)-&gt;fd_count; i++) {\</span>
<a name="l00583"></a>00583 <span class="preprocessor">        if ((set)-&gt;fd_array[i] == s) {\</span>
<a name="l00584"></a>00584 <span class="preprocessor">            break;\</span>
<a name="l00585"></a>00585 <span class="preprocessor">        }\</span>
<a name="l00586"></a>00586 <span class="preprocessor">    }\</span>
<a name="l00587"></a>00587 <span class="preprocessor">    if (i == (set)-&gt;fd_count) {\</span>
<a name="l00588"></a>00588 <span class="preprocessor">        if ((set)-&gt;fd_count &lt; FD_SETSIZE) {\</span>
<a name="l00589"></a>00589 <span class="preprocessor">            (set)-&gt;fd_array[i] = s;\</span>
<a name="l00590"></a>00590 <span class="preprocessor">            (set)-&gt;fd_count++;\</span>
<a name="l00591"></a>00591 <span class="preprocessor">        }\</span>
<a name="l00592"></a>00592 <span class="preprocessor">    }\</span>
<a name="l00593"></a>00593 <span class="preprocessor">} while(0)</span>
<a name="l00594"></a>00594 <span class="preprocessor"></span>
<a name="l00595"></a>00595 <span class="preprocessor">#undef FD_CLR</span>
<a name="l00596"></a><a class="code" href="../../dc/db1/win32_8h.html#a4d77bf8714675910de06eebc64929ba5">00596</a> <span class="preprocessor"></span><span class="preprocessor">#define FD_CLR(f, s)            rb_w32_fdclr(f, s)</span>
<a name="l00597"></a>00597 <span class="preprocessor"></span>
<a name="l00598"></a>00598 <span class="preprocessor">#undef FD_ISSET</span>
<a name="l00599"></a><a class="code" href="../../dc/db1/win32_8h.html#a7fbf800b178b21f91aa4c77927cb067e">00599</a> <span class="preprocessor"></span><span class="preprocessor">#define FD_ISSET(f, s)          rb_w32_fdisset(f, s)</span>
<a name="l00600"></a>00600 <span class="preprocessor"></span>
<a name="l00601"></a>00601 <span class="preprocessor">#ifdef RUBY_EXPORT</span>
<a name="l00602"></a>00602 <span class="preprocessor"></span><span class="preprocessor">#undef inet_ntop</span>
<a name="l00603"></a>00603 <span class="preprocessor"></span><span class="preprocessor">#define inet_ntop(f,a,n,l)      rb_w32_inet_ntop(f,a,n,l)</span>
<a name="l00604"></a>00604 <span class="preprocessor"></span>
<a name="l00605"></a>00605 <span class="preprocessor">#undef accept</span>
<a name="l00606"></a>00606 <span class="preprocessor"></span><span class="preprocessor">#define accept(s, a, l)         rb_w32_accept(s, a, l)</span>
<a name="l00607"></a>00607 <span class="preprocessor"></span>
<a name="l00608"></a>00608 <span class="preprocessor">#undef bind</span>
<a name="l00609"></a>00609 <span class="preprocessor"></span><span class="preprocessor">#define bind(s, a, l)           rb_w32_bind(s, a, l)</span>
<a name="l00610"></a>00610 <span class="preprocessor"></span>
<a name="l00611"></a>00611 <span class="preprocessor">#undef connect</span>
<a name="l00612"></a>00612 <span class="preprocessor"></span><span class="preprocessor">#define connect(s, a, l)        rb_w32_connect(s, a, l)</span>
<a name="l00613"></a>00613 <span class="preprocessor"></span>
<a name="l00614"></a>00614 <span class="preprocessor">#undef select</span>
<a name="l00615"></a>00615 <span class="preprocessor"></span><span class="preprocessor">#define select(n, r, w, e, t)   rb_w32_select(n, r, w, e, t)</span>
<a name="l00616"></a>00616 <span class="preprocessor"></span>
<a name="l00617"></a>00617 <span class="preprocessor">#undef getpeername</span>
<a name="l00618"></a>00618 <span class="preprocessor"></span><span class="preprocessor">#define getpeername(s, a, l)    rb_w32_getpeername(s, a, l)</span>
<a name="l00619"></a>00619 <span class="preprocessor"></span>
<a name="l00620"></a>00620 <span class="preprocessor">#undef getsockname</span>
<a name="l00621"></a>00621 <span class="preprocessor"></span><span class="preprocessor">#define getsockname(s, a, l)    rb_w32_getsockname(s, a, l)</span>
<a name="l00622"></a>00622 <span class="preprocessor"></span>
<a name="l00623"></a>00623 <span class="preprocessor">#undef getsockopt</span>
<a name="l00624"></a>00624 <span class="preprocessor"></span><span class="preprocessor">#define getsockopt(s, v, n, o, l) rb_w32_getsockopt(s, v, n, o, l)</span>
<a name="l00625"></a>00625 <span class="preprocessor"></span>
<a name="l00626"></a>00626 <span class="preprocessor">#undef ioctlsocket</span>
<a name="l00627"></a>00627 <span class="preprocessor"></span><span class="preprocessor">#define ioctlsocket(s, c, a)    rb_w32_ioctlsocket(s, c, a)</span>
<a name="l00628"></a>00628 <span class="preprocessor"></span>
<a name="l00629"></a>00629 <span class="preprocessor">#undef listen</span>
<a name="l00630"></a>00630 <span class="preprocessor"></span><span class="preprocessor">#define listen(s, b)            rb_w32_listen(s, b)</span>
<a name="l00631"></a>00631 <span class="preprocessor"></span>
<a name="l00632"></a>00632 <span class="preprocessor">#undef recv</span>
<a name="l00633"></a>00633 <span class="preprocessor"></span><span class="preprocessor">#define recv(s, b, l, f)        rb_w32_recv(s, b, l, f)</span>
<a name="l00634"></a>00634 <span class="preprocessor"></span>
<a name="l00635"></a>00635 <span class="preprocessor">#undef recvfrom</span>
<a name="l00636"></a>00636 <span class="preprocessor"></span><span class="preprocessor">#define recvfrom(s, b, l, f, fr, frl) rb_w32_recvfrom(s, b, l, f, fr, frl)</span>
<a name="l00637"></a>00637 <span class="preprocessor"></span>
<a name="l00638"></a>00638 <span class="preprocessor">#undef send</span>
<a name="l00639"></a>00639 <span class="preprocessor"></span><span class="preprocessor">#define send(s, b, l, f)        rb_w32_send(s, b, l, f)</span>
<a name="l00640"></a>00640 <span class="preprocessor"></span>
<a name="l00641"></a>00641 <span class="preprocessor">#undef sendto</span>
<a name="l00642"></a>00642 <span class="preprocessor"></span><span class="preprocessor">#define sendto(s, b, l, f, t, tl) rb_w32_sendto(s, b, l, f, t, tl)</span>
<a name="l00643"></a>00643 <span class="preprocessor"></span>
<a name="l00644"></a>00644 <span class="preprocessor">#undef setsockopt</span>
<a name="l00645"></a>00645 <span class="preprocessor"></span><span class="preprocessor">#define setsockopt(s, v, n, o, l) rb_w32_setsockopt(s, v, n, o, l)</span>
<a name="l00646"></a>00646 <span class="preprocessor"></span>
<a name="l00647"></a>00647 <span class="preprocessor">#undef shutdown</span>
<a name="l00648"></a>00648 <span class="preprocessor"></span><span class="preprocessor">#define shutdown(s, h)          rb_w32_shutdown(s, h)</span>
<a name="l00649"></a>00649 <span class="preprocessor"></span>
<a name="l00650"></a>00650 <span class="preprocessor">#undef socket</span>
<a name="l00651"></a>00651 <span class="preprocessor"></span><span class="preprocessor">#define socket(s, t, p)         rb_w32_socket(s, t, p)</span>
<a name="l00652"></a>00652 <span class="preprocessor"></span>
<a name="l00653"></a>00653 <span class="preprocessor">#undef gethostbyaddr</span>
<a name="l00654"></a>00654 <span class="preprocessor"></span><span class="preprocessor">#define gethostbyaddr(a, l, t)  rb_w32_gethostbyaddr(a, l, t)</span>
<a name="l00655"></a>00655 <span class="preprocessor"></span>
<a name="l00656"></a>00656 <span class="preprocessor">#undef gethostbyname</span>
<a name="l00657"></a>00657 <span class="preprocessor"></span><span class="preprocessor">#define gethostbyname(n)        rb_w32_gethostbyname(n)</span>
<a name="l00658"></a>00658 <span class="preprocessor"></span>
<a name="l00659"></a>00659 <span class="preprocessor">#undef gethostname</span>
<a name="l00660"></a>00660 <span class="preprocessor"></span><span class="preprocessor">#define gethostname(n, l)       rb_w32_gethostname(n, l)</span>
<a name="l00661"></a>00661 <span class="preprocessor"></span>
<a name="l00662"></a>00662 <span class="preprocessor">#undef getprotobyname</span>
<a name="l00663"></a>00663 <span class="preprocessor"></span><span class="preprocessor">#define getprotobyname(n)       rb_w32_getprotobyname(n)</span>
<a name="l00664"></a>00664 <span class="preprocessor"></span>
<a name="l00665"></a>00665 <span class="preprocessor">#undef getprotobynumber</span>
<a name="l00666"></a>00666 <span class="preprocessor"></span><span class="preprocessor">#define getprotobynumber(n)     rb_w32_getprotobynumber(n)</span>
<a name="l00667"></a>00667 <span class="preprocessor"></span>
<a name="l00668"></a>00668 <span class="preprocessor">#undef getservbyname</span>
<a name="l00669"></a>00669 <span class="preprocessor"></span><span class="preprocessor">#define getservbyname(n, p)     rb_w32_getservbyname(n, p)</span>
<a name="l00670"></a>00670 <span class="preprocessor"></span>
<a name="l00671"></a>00671 <span class="preprocessor">#undef getservbyport</span>
<a name="l00672"></a>00672 <span class="preprocessor"></span><span class="preprocessor">#define getservbyport(p, pr)    rb_w32_getservbyport(p, pr)</span>
<a name="l00673"></a>00673 <span class="preprocessor"></span>
<a name="l00674"></a>00674 <span class="preprocessor">#undef socketpair</span>
<a name="l00675"></a>00675 <span class="preprocessor"></span><span class="preprocessor">#define socketpair(a, t, p, s)  rb_w32_socketpair(a, t, p, s)</span>
<a name="l00676"></a>00676 <span class="preprocessor"></span>
<a name="l00677"></a>00677 <span class="preprocessor">#undef get_osfhandle</span>
<a name="l00678"></a>00678 <span class="preprocessor"></span><span class="preprocessor">#define get_osfhandle(h)        rb_w32_get_osfhandle(h)</span>
<a name="l00679"></a>00679 <span class="preprocessor"></span>
<a name="l00680"></a>00680 <span class="preprocessor">#undef getcwd</span>
<a name="l00681"></a>00681 <span class="preprocessor"></span><span class="preprocessor">#define getcwd(b, s)            rb_w32_getcwd(b, s)</span>
<a name="l00682"></a>00682 <span class="preprocessor"></span>
<a name="l00683"></a>00683 <span class="preprocessor">#undef getenv</span>
<a name="l00684"></a>00684 <span class="preprocessor"></span><span class="preprocessor">#define getenv(n)               rb_w32_getenv(n)</span>
<a name="l00685"></a>00685 <span class="preprocessor"></span>
<a name="l00686"></a>00686 <span class="preprocessor">#undef rename</span>
<a name="l00687"></a>00687 <span class="preprocessor"></span><span class="preprocessor">#define rename(o, n)            rb_w32_rename(o, n)</span>
<a name="l00688"></a>00688 <span class="preprocessor"></span>
<a name="l00689"></a>00689 <span class="preprocessor">#undef times</span>
<a name="l00690"></a>00690 <span class="preprocessor"></span><span class="preprocessor">#define times(t)                rb_w32_times(t)</span>
<a name="l00691"></a>00691 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00692"></a>00692 <span class="preprocessor"></span>
<a name="l00693"></a><a class="code" href="../../d8/d15/structtms.html">00693</a> <span class="keyword">struct </span><a class="code" href="../../d8/d15/structtms.html">tms</a> {
<a name="l00694"></a><a class="code" href="../../d8/d15/structtms.html#ad8ae5a90f521f9e4083dbf6425d65527">00694</a>         <span class="keywordtype">long</span>    <a class="code" href="../../d8/d15/structtms.html#ad8ae5a90f521f9e4083dbf6425d65527">tms_utime</a>;
<a name="l00695"></a><a class="code" href="../../d8/d15/structtms.html#a5b7db9be4a3c65f4454cb67355ab0829">00695</a>         <span class="keywordtype">long</span>    <a class="code" href="../../d8/d15/structtms.html#a5b7db9be4a3c65f4454cb67355ab0829">tms_stime</a>;
<a name="l00696"></a><a class="code" href="../../d8/d15/structtms.html#a685e684365dd2cc86fc03f57361d4147">00696</a>         <span class="keywordtype">long</span>    <a class="code" href="../../d8/d15/structtms.html#a685e684365dd2cc86fc03f57361d4147">tms_cutime</a>;
<a name="l00697"></a><a class="code" href="../../d8/d15/structtms.html#ae3b3d7b3dfbd068da1fce9afea9c406c">00697</a>         <span class="keywordtype">long</span>    <a class="code" href="../../d8/d15/structtms.html#ae3b3d7b3dfbd068da1fce9afea9c406c">tms_cstime</a>;
<a name="l00698"></a>00698 };
<a name="l00699"></a>00699 
<a name="l00700"></a>00700 <span class="keywordtype">int</span> <a class="code" href="../../dc/db1/win32_8h.html#ad76b743e948c3e5b761a1afd507d683c">rb_w32_times</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d15/structtms.html">tms</a> *);
<a name="l00701"></a>00701 
<a name="l00702"></a>00702 <span class="comment">/* thread stuff */</span>
<a name="l00703"></a>00703 HANDLE <a class="code" href="../../dc/db1/win32_8h.html#aa3ec0e1dc99cf3ffba4d64fcd3b8e27b">GetCurrentThreadHandle</a>(<span class="keywordtype">void</span>);
<a name="l00704"></a>00704 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#a2e942b300acf219df592259316a4ee5e">rb_w32_sleep</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> msec);
<a name="l00705"></a>00705 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#a73ba0c3bc0f7bcd7043c74107d7aec4a">rb_w32_putc</a>(<span class="keywordtype">int</span>, <a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a>*);
<a name="l00706"></a>00706 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#a82f8c07c64039e3ecf3b8d4c4f584975">rb_w32_getc</a>(<a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a>*);
<a name="l00707"></a>00707 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#a77ece6bf33136a6f6922eb78ac7fe4bf">rb_w32_open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, ...);
<a name="l00708"></a>00708 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#ae2af5c2247f2a2d4d03a641748ff064d">rb_w32_uopen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, ...);
<a name="l00709"></a>00709 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#af768858b0bc7d6895bb337a565430698">rb_w32_wopen</a>(<span class="keyword">const</span> WCHAR *, <span class="keywordtype">int</span>, ...);
<a name="l00710"></a>00710 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#a03de7302ffcf75f0ab994c28c94302ff">rb_w32_close</a>(<span class="keywordtype">int</span>);
<a name="l00711"></a>00711 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#a0c170622d3c0f469aad2a3c24e7a65d6">rb_w32_fclose</a>(<a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a>*);
<a name="l00712"></a>00712 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#afe578cd102f929525eee8b17a98d6efa">rb_w32_pipe</a>(<span class="keywordtype">int</span>[2]);
<a name="l00713"></a>00713 ssize_t <a class="code" href="../../dc/db1/win32_8h.html#a60bd67ac946e992620ac79e6f8ccce3a">rb_w32_read</a>(<span class="keywordtype">int</span>, <span class="keywordtype">void</span> *, <span class="keywordtype">size_t</span>);
<a name="l00714"></a>00714 ssize_t <a class="code" href="../../dc/db1/win32_8h.html#aad52311e1bf2d0cd59a0dc525df418c0">rb_w32_write</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">void</span> *, <span class="keywordtype">size_t</span>);
<a name="l00715"></a>00715 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#ae59de53f5f1442e3ba74a4a2f7706c8b">rb_w32_utime</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../dd/d29/structutimbuf.html">utimbuf</a> *);
<a name="l00716"></a>00716 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#a4e1fe73c7375a4d213c410ca2f936b0f">rb_w32_uutime</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../dd/d29/structutimbuf.html">utimbuf</a> *);
<a name="l00717"></a>00717 <span class="keywordtype">long</span> <a class="code" href="../../dc/db1/win32_8h.html#a07475740ddb9ed55ea0ae009c5007254">rb_w32_write_console</a>(<a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">uintptr_t</a>, <span class="keywordtype">int</span>);      <span class="comment">/* use uintptr_t instead of VALUE because it&apos;s not defined yet here */</span>
<a name="l00718"></a>00718 <span class="keywordtype">int</span>  WINAPI <a class="code" href="../../dc/db1/win32_8h.html#acd7fc6bca447411467db66a1cc12f319">rb_w32_Sleep</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> msec);
<a name="l00719"></a>00719 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#a2da86cc53904a673b2b18547d63700f6">rb_w32_wait_events_blocking</a>(HANDLE *events, <span class="keywordtype">int</span> num, <a class="code" href="../../d2/d99/win32ole_8c.html#a2ec0aeb209eda20f4bef5d50ce5a7417">DWORD</a> timeout);
<a name="l00720"></a>00720 <span class="keywordtype">int</span>  <a class="code" href="../../dc/db1/win32_8h.html#ac963a05659d51e65f30a1b3e8c6f414b">rb_w32_time_subtract</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/d1b/structtimeval.html">timeval</a> *rest, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d1/d1b/structtimeval.html">timeval</a> *<a class="code" href="../../d5/df2/win32_8c.html#a6655447bab00753d59759423bf28e22e">wait</a>);
<a name="l00721"></a>00721 
<a name="l00722"></a>00722 <span class="comment">/*</span>
<a name="l00723"></a>00723 <span class="comment">== ***CAUTION***</span>
<a name="l00724"></a>00724 <span class="comment">Since this function is very dangerous, ((*NEVER*))</span>
<a name="l00725"></a>00725 <span class="comment">* lock any HANDLEs(i.e. Mutex, Semaphore, CriticalSection and so on) or,</span>
<a name="l00726"></a>00726 <span class="comment">* use anything like TRAP_BEG...TRAP_END block structure,</span>
<a name="l00727"></a>00727 <span class="comment">in asynchronous_func_t.</span>
<a name="l00728"></a>00728 <span class="comment">*/</span>
<a name="l00729"></a><a class="code" href="../../dc/db1/win32_8h.html#a49db9c26252dd53abc594d9c721df236">00729</a> <span class="keyword">typedef</span> <a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">uintptr_t</a> (*<a class="code" href="../../dc/db1/win32_8h.html#a49db9c26252dd53abc594d9c721df236">asynchronous_func_t</a>)(<a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">uintptr_t</a> <span class="keyword">self</span>, <span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">uintptr_t</a>* <a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);
<a name="l00730"></a>00730 <a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">uintptr_t</a> <a class="code" href="../../dc/db1/win32_8h.html#af3f08931b6e3520982f288af6965f628">rb_w32_asynchronize</a>(<a class="code" href="../../dc/db1/win32_8h.html#a49db9c26252dd53abc594d9c721df236">asynchronous_func_t</a> <a class="code" href="../../dc/dd1/ossl__ssl_8c.html#a131c09b7f9c9a0b52e6f79f651cfd574">func</a>, <a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">uintptr_t</a> <span class="keyword">self</span>, <span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">uintptr_t</a>* <a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../dc/db1/win32_8h.html#a728e973c799f206f0151c8a3bd1e5699">uintptr_t</a> intrval);
<a name="l00731"></a>00731 
<a name="l00732"></a>00732 <span class="preprocessor">#if defined __GNUC__ &amp;&amp; __GNUC__ &gt;= 4</span>
<a name="l00733"></a>00733 <span class="preprocessor"></span><span class="preprocessor">#pragma GCC visibility pop</span>
<a name="l00734"></a>00734 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00735"></a>00735 <span class="preprocessor"></span>
<a name="l00736"></a>00736 <span class="preprocessor">#ifdef __MINGW_ATTRIB_PURE</span>
<a name="l00737"></a>00737 <span class="preprocessor"></span><span class="comment">/* get rid of bugs in math.h of mingw */</span>
<a name="l00738"></a>00738 <span class="preprocessor">#define frexp(_X, _Y) __extension__ ({\</span>
<a name="l00739"></a>00739 <span class="preprocessor">    int intpart_frexp_bug = intpart_frexp_bug;\</span>
<a name="l00740"></a>00740 <span class="preprocessor">    double result_frexp_bug = frexp((_X), &amp;intpart_frexp_bug);\</span>
<a name="l00741"></a>00741 <span class="preprocessor">    *(_Y) = intpart_frexp_bug;\</span>
<a name="l00742"></a>00742 <span class="preprocessor">    result_frexp_bug;\</span>
<a name="l00743"></a>00743 <span class="preprocessor">})</span>
<a name="l00744"></a>00744 <span class="preprocessor"></span><span class="preprocessor">#define modf(_X, _Y) __extension__ ({\</span>
<a name="l00745"></a>00745 <span class="preprocessor">    double intpart_modf_bug = intpart_modf_bug;\</span>
<a name="l00746"></a>00746 <span class="preprocessor">    double result_modf_bug = modf((_X), &amp;intpart_modf_bug);\</span>
<a name="l00747"></a>00747 <span class="preprocessor">    *(_Y) = intpart_modf_bug;\</span>
<a name="l00748"></a>00748 <span class="preprocessor">    result_modf_bug;\</span>
<a name="l00749"></a>00749 <span class="preprocessor">})</span>
<a name="l00750"></a>00750 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00751"></a>00751 <span class="preprocessor"></span>
<a name="l00752"></a>00752 <span class="preprocessor">#if defined(__cplusplus)</span>
<a name="l00753"></a>00753 <span class="preprocessor"></span><span class="preprocessor">#if 0</span>
<a name="l00754"></a>00754 <span class="preprocessor"></span>{ <span class="comment">/* satisfy cc-mode */</span>
<a name="l00755"></a>00755 <span class="preprocessor">#endif</span>
<a name="l00756"></a>00756 <span class="preprocessor"></span>}  <span class="comment">/* extern &quot;C&quot; { */</span>
<a name="l00757"></a>00757 <span class="preprocessor">#endif</span>
<a name="l00758"></a>00758 <span class="preprocessor"></span>
<a name="l00759"></a>00759 <span class="preprocessor">#ifdef __MINGW64__</span>
<a name="l00760"></a>00760 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00761"></a>00761 <span class="comment"> * Use powl() instead of broken pow() of x86_64-w64-mingw32.</span>
<a name="l00762"></a>00762 <span class="comment"> * This workaround will fix test failures in test_bignum.rb,</span>
<a name="l00763"></a>00763 <span class="comment"> * test_fixnum.rb and test_float.rb etc.</span>
<a name="l00764"></a>00764 <span class="comment"> */</span>
<a name="l00765"></a>00765 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">double</span>
<a name="l00766"></a>00766 rb_w32_pow(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)
<a name="l00767"></a>00767 {
<a name="l00768"></a>00768     <span class="keywordflow">return</span> powl(x, y);
<a name="l00769"></a>00769 }
<a name="l00770"></a>00770 <span class="preprocessor">#define pow rb_w32_pow</span>
<a name="l00771"></a>00771 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00772"></a>00772 <span class="preprocessor"></span>
<a name="l00773"></a>00773 <span class="preprocessor">#endif </span><span class="comment">/* RUBY_WIN32_H */</span>
<a name="l00774"></a>00774 
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Mar 2013 for Ruby by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Ruby: ext/bigdecimal/bigdecimal.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>ext/bigdecimal/bigdecimal.h</h1><a href="../../d0/da5/bigdecimal_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * Ruby BigDecimal(Variable decimal precision) extension library.</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * Copyright(C) 2002 by Shigeo Kobayashi(shigeo@tinyforest.gr.jp)</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * You may distribute under the terms of either the GNU General Public</span>
<a name="l00008"></a>00008 <span class="comment"> * License or the Artistic License, as specified in the README file</span>
<a name="l00009"></a>00009 <span class="comment"> * of this BigDecimal distribution.</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> * NOTES:</span>
<a name="l00012"></a>00012 <span class="comment"> *   2003-03-28 V1.0 checked in.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> */</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="preprocessor">#ifndef  RUBY_BIG_DECIMAL_H</span>
<a name="l00017"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#af205ac44190c226abd21c1cc06045d15">00017</a> <span class="preprocessor"></span><span class="preprocessor">#define  RUBY_BIG_DECIMAL_H 1</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="../../de/de6/ruby_2ruby_8h.html">ruby/ruby.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;float.h&gt;</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#if defined(__cplusplus)</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00024"></a>00024 <span class="preprocessor">#endif</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="preprocessor">#ifndef HAVE_LABS</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">long</span>
<a name="l00028"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a69e2f610e28017bdef9984074de483ba">00028</a> <a class="code" href="../../d0/da5/bigdecimal_8h.html#a69e2f610e28017bdef9984074de483ba">labs</a>(<span class="keywordtype">long</span> <span class="keyword">const</span> x)
<a name="l00029"></a>00029 {
<a name="l00030"></a>00030     <span class="keywordflow">if</span> (x &lt; 0) <span class="keywordflow">return</span> -x;
<a name="l00031"></a>00031     <span class="keywordflow">return</span> x;
<a name="l00032"></a>00032 }
<a name="l00033"></a>00033 <span class="preprocessor">#endif</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 <span class="preprocessor">#ifndef HAVE_LLABS</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span> LONG_LONG
<a name="l00037"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ab87ab935eb732b5d88169add138a19a5">00037</a> <a class="code" href="../../d0/da5/bigdecimal_8h.html#ab87ab935eb732b5d88169add138a19a5">llabs</a>(LONG_LONG <span class="keyword">const</span> x)
<a name="l00038"></a>00038 {
<a name="l00039"></a>00039     <span class="keywordflow">if</span> (x &lt; 0) <span class="keywordflow">return</span> -x;
<a name="l00040"></a>00040     <span class="keywordflow">return</span> x;
<a name="l00041"></a>00041 }
<a name="l00042"></a>00042 <span class="preprocessor">#endif</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="preprocessor">#ifdef vabs</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span><span class="preprocessor"># undef vabs</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#if SIZEOF_VALUE &lt;= SIZEOF_INT</span>
<a name="l00048"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#abf17759081311ec02831783b090a3155">00048</a> <span class="preprocessor"></span><span class="preprocessor"># define vabs abs</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="preprocessor">#elif SIZEOF_VALUE &lt;= SIZEOF_LONG</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor"># define vabs labs</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#elif SIZEOF_VALUE &lt;= SIZEOF_LONG_LONG</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor"># define vabs llabs</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 <span class="keyword">extern</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/d07/bigdecimal_8c.html#a35d65a2fc42642866f63112a60f4ef1d">rb_cBigDecimal</a>;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="preprocessor">#if 0 || SIZEOF_BDIGITS &gt;= 16</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor"># define RMPD_COMPONENT_FIGURES 38</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span><span class="preprocessor"># define RMPD_BASE ((BDIGIT)100000000000000000000000000000000000000U)</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span><span class="preprocessor">#elif SIZEOF_BDIGITS &gt;= 8</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span><span class="preprocessor"># define RMPD_COMPONENT_FIGURES 19</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span><span class="preprocessor"># define RMPD_BASE ((BDIGIT)10000000000000000000U)</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span><span class="preprocessor">#elif SIZEOF_BDIGITS &gt;= 4</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span><span class="preprocessor"># define RMPD_COMPONENT_FIGURES 9</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span><span class="preprocessor"># define RMPD_BASE ((BDIGIT)1000000000U)</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span><span class="preprocessor">#elif SIZEOF_BDIGITS &gt;= 2</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span><span class="preprocessor"># define RMPD_COMPONENT_FIGURES 4</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span><span class="preprocessor"># define RMPD_BASE ((BDIGIT)10000U)</span>
<a name="l00069"></a>00069 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00070"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#aebdb81193f2641d965dcbfae803d6389">00070</a> <span class="preprocessor"></span><span class="preprocessor"># define RMPD_COMPONENT_FIGURES 2</span>
<a name="l00071"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a9b00183632362768bd2631414158ef01">00071</a> <span class="preprocessor"></span><span class="preprocessor"># define RMPD_BASE ((BDIGIT)100U)</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span>
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 <span class="comment">/*</span>
<a name="l00076"></a>00076 <span class="comment"> *  NaN &amp; Infinity</span>
<a name="l00077"></a>00077 <span class="comment"> */</span>
<a name="l00078"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ac475b913ca9cacf8ca385497984443ed">00078</a> <span class="preprocessor">#define SZ_NaN  &quot;NaN&quot;</span>
<a name="l00079"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a187abc9b9b2cc7e2e5fe8201d95b5a8b">00079</a> <span class="preprocessor"></span><span class="preprocessor">#define SZ_INF  &quot;Infinity&quot;</span>
<a name="l00080"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ad1624a0486f932d09473f3dd9483918d">00080</a> <span class="preprocessor"></span><span class="preprocessor">#define SZ_PINF &quot;+Infinity&quot;</span>
<a name="l00081"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a019dcf0bc571a8243d08d531df7914cf">00081</a> <span class="preprocessor"></span><span class="preprocessor">#define SZ_NINF &quot;-Infinity&quot;</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span>
<a name="l00083"></a>00083 <span class="comment">/*</span>
<a name="l00084"></a>00084 <span class="comment"> *   #define VP_EXPORT other than static to let VP_ routines</span>
<a name="l00085"></a>00085 <span class="comment"> *   be called from outside of this module.</span>
<a name="l00086"></a>00086 <span class="comment"> */</span>
<a name="l00087"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">00087</a> <span class="preprocessor">#define VP_EXPORT static</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span>
<a name="l00089"></a>00089 <span class="comment">/* Exception codes */</span>
<a name="l00090"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#abec6bb5a28206ba19d42a7ef58329505">00090</a> <span class="preprocessor">#define VP_EXCEPTION_ALL        ((unsigned short)0x00FF)</span>
<a name="l00091"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ae5ce2e7bed3d29b5374a33fcf1aeb4df">00091</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_EXCEPTION_INFINITY   ((unsigned short)0x0001)</span>
<a name="l00092"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ae4f0bd83ddbf9df96f4d58caeaa1b0b2">00092</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_EXCEPTION_NaN        ((unsigned short)0x0002)</span>
<a name="l00093"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a4d258ed06d27f12d2fc90ef96143624f">00093</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_EXCEPTION_UNDERFLOW  ((unsigned short)0x0004)</span>
<a name="l00094"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ab2726f87fe36be3177b3aef61eb82c46">00094</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_EXCEPTION_OVERFLOW   ((unsigned short)0x0001) </span><span class="comment">/* 0x0008) */</span>
<a name="l00095"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a0524f33a596e305be700dcf44797c143">00095</a> <span class="preprocessor">#define VP_EXCEPTION_ZERODIVIDE ((unsigned short)0x0010)</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span>
<a name="l00097"></a>00097 <span class="comment">/* Following 2 exceptions cann&apos;t controlled by user */</span>
<a name="l00098"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a43b90532bc1f6dd50659892aef2b2886">00098</a> <span class="preprocessor">#define VP_EXCEPTION_OP         ((unsigned short)0x0020)</span>
<a name="l00099"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ad9466c565e6130efe66aba4ee4262ce2">00099</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_EXCEPTION_MEMORY     ((unsigned short)0x0040)</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span>
<a name="l00101"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a9828831d7d8bbd6188470806e6d35e1d">00101</a> <span class="preprocessor">#define RMPD_EXCEPTION_MODE_DEFAULT 0U</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span>
<a name="l00103"></a>00103 <span class="comment">/* Computation mode */</span>
<a name="l00104"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ae80ec6562f2f6a9efdcadbc9206f6a2e">00104</a> <span class="preprocessor">#define VP_ROUND_MODE            ((unsigned short)0x0100)</span>
<a name="l00105"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#acc54e540534a259d314f5be704e41dbd">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_ROUND_UP         1</span>
<a name="l00106"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a1b439c6523d46899372d9ef3c782bb03">00106</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_ROUND_DOWN       2</span>
<a name="l00107"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#aee9c0b939acd1671730ec28bb6fedf6e">00107</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_ROUND_HALF_UP    3</span>
<a name="l00108"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a77487cab033862462c80f665bb3693b0">00108</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_ROUND_HALF_DOWN  4</span>
<a name="l00109"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a6b6cfe4b9887bb7df3f0aa93be6c84d8">00109</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_ROUND_CEIL       5</span>
<a name="l00110"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a1d3a9340c3ddf42971d90abea37cc2ab">00110</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_ROUND_FLOOR      6</span>
<a name="l00111"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a2372d42c88c84f677d64f400574f730c">00111</a> <span class="preprocessor"></span><span class="preprocessor">#define VP_ROUND_HALF_EVEN  7</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span>
<a name="l00113"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a787f6068d92a99906fbaf26bb598d23c">00113</a> <span class="preprocessor">#define RMPD_ROUNDING_MODE_DEFAULT  VP_ROUND_HALF_UP</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span>
<a name="l00115"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a0195dac9e7a72161fc32a26dd8408dae">00115</a> <span class="preprocessor">#define VP_SIGN_NaN                0 </span><span class="comment">/* NaN                      */</span>
<a name="l00116"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a22784e02086ce1ef3f4d8394804e76fa">00116</a> <span class="preprocessor">#define VP_SIGN_POSITIVE_ZERO      1 </span><span class="comment">/* Positive zero            */</span>
<a name="l00117"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#aa8f544c7ad94d9b0e0e6d5ca550f709c">00117</a> <span class="preprocessor">#define VP_SIGN_NEGATIVE_ZERO     -1 </span><span class="comment">/* Negative zero            */</span>
<a name="l00118"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ad0c8fd5bcbd21b0a8e0cf974faf48d6f">00118</a> <span class="preprocessor">#define VP_SIGN_POSITIVE_FINITE    2 </span><span class="comment">/* Positive finite number   */</span>
<a name="l00119"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a7daa3bf02d8ef9d59675ae5b83abd70c">00119</a> <span class="preprocessor">#define VP_SIGN_NEGATIVE_FINITE   -2 </span><span class="comment">/* Negative finite number   */</span>
<a name="l00120"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ab1bc31d57e2eecadb93b4a90d29a1a28">00120</a> <span class="preprocessor">#define VP_SIGN_POSITIVE_INFINITE  3 </span><span class="comment">/* Positive infinite number */</span>
<a name="l00121"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a220d58cb4a7494b09bd0a4bf3ad23ddb">00121</a> <span class="preprocessor">#define VP_SIGN_NEGATIVE_INFINITE -3 </span><span class="comment">/* Negative infinite number */</span>
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="comment">/*</span>
<a name="l00124"></a>00124 <span class="comment"> * VP representation</span>
<a name="l00125"></a>00125 <span class="comment"> *  r = 0.xxxxxxxxx *BASE**exponent</span>
<a name="l00126"></a>00126 <span class="comment"> */</span>
<a name="l00127"></a><a class="code" href="../../d9/d5a/struct_real.html">00127</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00128"></a><a class="code" href="../../d9/d5a/struct_real.html#aa878828141e79fece743d1710501cc8a">00128</a>     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>  obj;     <span class="comment">/* Back pointer(VALUE) for Ruby object.     */</span>
<a name="l00129"></a><a class="code" href="../../d9/d5a/struct_real.html#a131950c8e8ab21e20556567d1b98e9e4">00129</a>     <span class="keywordtype">size_t</span> MaxPrec; <span class="comment">/* Maximum precision size                   */</span>
<a name="l00130"></a>00130                     <span class="comment">/* This is the actual size of pfrac[]       */</span>
<a name="l00131"></a>00131                     <span class="comment">/*(frac[0] to frac[MaxPrec] are available). */</span>
<a name="l00132"></a><a class="code" href="../../d9/d5a/struct_real.html#a7420e87925b9e8c60052ba0b527c8e47">00132</a>     <span class="keywordtype">size_t</span> Prec;    <span class="comment">/* Current precision size.                  */</span>
<a name="l00133"></a>00133                     <span class="comment">/* This indicates how much the.             */</span>
<a name="l00134"></a>00134                     <span class="comment">/* the array frac[] is actually used.       */</span>
<a name="l00135"></a><a class="code" href="../../d9/d5a/struct_real.html#a6f1bf765523a6d809566dc1a4d1d781e">00135</a>     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac1cf124db1e117ff7d61d608024f63ee">SIGNED_VALUE</a> <a class="code" href="../../da/d50/vsnprintf_8c.html#aaa560fd33afd89229389993871b23ee8">exponent</a>; <span class="comment">/* Exponent part.                    */</span>
<a name="l00136"></a><a class="code" href="../../d9/d5a/struct_real.html#ab1608b5cd19c0dbec4d7993116fb9ca3">00136</a>     <span class="keywordtype">short</span>  sign;    <span class="comment">/* Attributes of the value.                 */</span>
<a name="l00137"></a>00137                     <span class="comment">/*</span>
<a name="l00138"></a>00138 <span class="comment">                     *        ==0 : NaN</span>
<a name="l00139"></a>00139 <span class="comment">                     *          1 : Positive zero</span>
<a name="l00140"></a>00140 <span class="comment">                     *         -1 : Negative zero</span>
<a name="l00141"></a>00141 <span class="comment">                     *          2 : Positive number</span>
<a name="l00142"></a>00142 <span class="comment">                     *         -2 : Negative number</span>
<a name="l00143"></a>00143 <span class="comment">                     *          3 : Positive infinite number</span>
<a name="l00144"></a>00144 <span class="comment">                     *         -3 : Negative infinite number</span>
<a name="l00145"></a>00145 <span class="comment">                     */</span>
<a name="l00146"></a><a class="code" href="../../d9/d5a/struct_real.html#a80c119986de14ffcb3a7af06267af1e5">00146</a>     <span class="keywordtype">short</span>  flag;    <span class="comment">/* Not used in vp_routines,space for user.  */</span>
<a name="l00147"></a><a class="code" href="../../d9/d5a/struct_real.html#a850b76498de010bd5a32bded5131b6b1">00147</a>     <a class="code" href="../../d8/db0/defines_8h.html#aae70f10dc28a3f9db157d600d5ceab8b">BDIGIT</a> frac[1]; <span class="comment">/* Pointer to array of fraction part.       */</span>
<a name="l00148"></a>00148 } <a class="code" href="../../d9/d5a/struct_real.html">Real</a>;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 <span class="comment">/*</span>
<a name="l00151"></a>00151 <span class="comment"> *  ------------------</span>
<a name="l00152"></a>00152 <span class="comment"> *   EXPORTables.</span>
<a name="l00153"></a>00153 <span class="comment"> *  ------------------</span>
<a name="l00154"></a>00154 <span class="comment"> */</span>
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a>  <a class="code" href="../../d9/d5a/struct_real.html">Real</a> *
<a name="l00157"></a>00157 <a class="code" href="../../de/d07/bigdecimal_8c.html#a7b22d7e4fa63b870de87082a06e7c875">VpNewRbClass</a>(<span class="keywordtype">size_t</span> mx, <span class="keywordtype">char</span> <span class="keyword">const</span> *str, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass);
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a>  <a class="code" href="../../d9/d5a/struct_real.html">Real</a> *<a class="code" href="../../de/d07/bigdecimal_8c.html#ad29861371973b03f2b91cb3c74839756">VpCreateRbObject</a>(<span class="keywordtype">size_t</span> mx,<span class="keyword">const</span> <span class="keywordtype">char</span> *str);
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="../../d8/db0/defines_8h.html#aae70f10dc28a3f9db157d600d5ceab8b">BDIGIT</a>
<a name="l00162"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#aa73d33225d07f182d9e57c55bcbb2b28">00162</a> <a class="code" href="../../d0/da5/bigdecimal_8h.html#aa73d33225d07f182d9e57c55bcbb2b28">rmpd_base_value</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> <a class="code" href="../../d0/da5/bigdecimal_8h.html#a9b00183632362768bd2631414158ef01">RMPD_BASE</a>; }
<a name="l00163"></a>00163 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">size_t</span>
<a name="l00164"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ac63dca0b49d570d200de05bd01280d88">00164</a> <a class="code" href="../../d0/da5/bigdecimal_8h.html#ac63dca0b49d570d200de05bd01280d88">rmpd_component_figures</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> <a class="code" href="../../d0/da5/bigdecimal_8h.html#aebdb81193f2641d965dcbfae803d6389">RMPD_COMPONENT_FIGURES</a>; }
<a name="l00165"></a>00165 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">size_t</span>
<a name="l00166"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a6b5078bd8a4ea16b640f366b41991206">00166</a> <a class="code" href="../../d0/da5/bigdecimal_8h.html#a6b5078bd8a4ea16b640f366b41991206">rmpd_double_figures</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> 1+<a class="code" href="../../d6/d27/numeric_8c.html#ab51e57479919fd1978d19ccbb3e5b167">DBL_DIG</a>; }
<a name="l00167"></a>00167 
<a name="l00168"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#aad2d85c2a778dad3c10f9c6ef5d2a970">00168</a> <span class="preprocessor">#define VpBaseFig() rmpd_component_figures()</span>
<a name="l00169"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a62d613b3e8b07bf043833a3c1e86d092">00169</a> <span class="preprocessor"></span><span class="preprocessor">#define VpDblFig() rmpd_double_figures()</span>
<a name="l00170"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a394f908a36012a7fe5901cb16c96498e">00170</a> <span class="preprocessor"></span><span class="preprocessor">#define VpBaseVal() rmpd_base_value()</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span>
<a name="l00172"></a>00172 <span class="comment">/* Zero,Inf,NaN (isinf(),isnan() used to check) */</span>
<a name="l00173"></a>00173 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a29ab437440f914874fe2b27230788da5">VpGetDoubleNaN</a>(<span class="keywordtype">void</span>);
<a name="l00174"></a>00174 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#afa988d7eb61defaac42ece03d19c2e66">VpGetDoublePosInf</a>(<span class="keywordtype">void</span>);
<a name="l00175"></a>00175 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a39cee6a07315ceb32c6e25024197b054">VpGetDoubleNegInf</a>(<span class="keywordtype">void</span>);
<a name="l00176"></a>00176 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a00dc82065d4f33b92dce7ae4bf136476">VpGetDoubleNegZero</a>(<span class="keywordtype">void</span>);
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 <span class="comment">/* These 2 functions added at v1.1.7 */</span>
<a name="l00179"></a>00179 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">size_t</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a71e22bd0fe22d9368aa1e77c45211a55">VpGetPrecLimit</a>(<span class="keywordtype">void</span>);
<a name="l00180"></a>00180 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">size_t</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a7b89f69d68840615f8b978c791579624">VpSetPrecLimit</a>(<span class="keywordtype">size_t</span> n);
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 <span class="comment">/* Round mode */</span>
<a name="l00183"></a>00183 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span>            <a class="code" href="../../de/d07/bigdecimal_8c.html#a2080f29dbc4005c2b343ebd59ef45bc0">VpIsRoundMode</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> n);
<a name="l00184"></a>00184 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a4b6c6a842817d1e9093a218dee48b0ce">VpGetRoundMode</a>(<span class="keywordtype">void</span>);
<a name="l00185"></a>00185 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a73e5550509e9695d11bcb1ce410e6ea0">VpSetRoundMode</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> n);
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#adb416501e79900f33e8d5f41d8b6d56a">VpException</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> f,<span class="keyword">const</span> <span class="keywordtype">char</span> *str,<span class="keywordtype">int</span> always);
<a name="l00188"></a>00188 <span class="preprocessor">#if 0  </span><span class="comment">/* unused */</span>
<a name="l00189"></a>00189 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> VpIsNegDoubleZero(<span class="keywordtype">double</span> v);
<a name="l00190"></a>00190 <span class="preprocessor">#endif</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span><a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">size_t</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a7e19bc6386622de700e993bbd70d731c">VpNumOfChars</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *vp,<span class="keyword">const</span> <span class="keywordtype">char</span> *pszFmt);
<a name="l00192"></a>00192 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">size_t</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a234ec5ef29b45597dd84498046e76bbc">VpInit</a>(<a class="code" href="../../d8/db0/defines_8h.html#aae70f10dc28a3f9db157d600d5ceab8b">BDIGIT</a> BaseVal);
<a name="l00193"></a>00193 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">void</span> *<a class="code" href="../../de/d07/bigdecimal_8c.html#a944776a89be837f13996b7da03db6b75">VpMemAlloc</a>(<span class="keywordtype">size_t</span> mb);
<a name="l00194"></a>00194 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">void</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#af88c239a6c13cbdb27f0a36531f81e87">VpFree</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *pv);
<a name="l00195"></a>00195 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <a class="code" href="../../d9/d5a/struct_real.html">Real</a> *<a class="code" href="../../de/d07/bigdecimal_8c.html#ab58e7165de25d4d6346c5a3f05c8c5f5">VpAlloc</a>(<span class="keywordtype">size_t</span> mx, <span class="keyword">const</span> <span class="keywordtype">char</span> *szVal);
<a name="l00196"></a>00196 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">size_t</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#af6d69b50c3d56f2aadcf8a13a8b4cc0e">VpAsgn</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *c, <a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a, <span class="keywordtype">int</span> isw);
<a name="l00197"></a>00197 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">size_t</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a70d5c29d60a254ce8938b64cf4f502ac">VpAddSub</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *c,<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a,<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *b,<span class="keywordtype">int</span> operation);
<a name="l00198"></a>00198 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">size_t</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a53aa57346ca7974861cb2ddb3ce5c4fd">VpMult</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *c,<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a,<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *b);
<a name="l00199"></a>00199 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">size_t</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a02d79484ac6b0630e115c760bce71f62">VpDivd</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *c,<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *r,<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a,<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *b);
<a name="l00200"></a>00200 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#ab6b6adf3ebcd85281ee3c158a738824d">VpComp</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a,<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *b);
<a name="l00201"></a>00201 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> ssize_t <a class="code" href="../../de/d07/bigdecimal_8c.html#a68f01aa0c3a853c8ebf001e29f47b7ff">VpExponent10</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a);
<a name="l00202"></a>00202 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">void</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a7d6a953aa9a638c5215f8de7af8988f8">VpSzMantissa</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a,<span class="keywordtype">char</span> *psz);
<a name="l00203"></a>00203 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#af9ebdab1bed9055313ef4067974b16af">VpToSpecialString</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a,<span class="keywordtype">char</span> *psz,<span class="keywordtype">int</span> fPlus);
<a name="l00204"></a>00204 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">void</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a211c1231a80bd2b30ead108f0b6029a6">VpToString</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a, <span class="keywordtype">char</span> *psz, <span class="keywordtype">size_t</span> fFmt, <span class="keywordtype">int</span> fPlus);
<a name="l00205"></a>00205 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">void</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#aea58d43c3de31eb0d21df5b2c55667a5">VpToFString</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a, <span class="keywordtype">char</span> *psz, <span class="keywordtype">size_t</span> fFmt, <span class="keywordtype">int</span> fPlus);
<a name="l00206"></a>00206 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#af80e9f5558a00f504e05021fddfbf09f">VpCtoV</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d27/numeric_8c.html#a0da7e310168d9887cb3d04746072e638">int_chr</a>, <span class="keywordtype">size_t</span> ni, <span class="keyword">const</span> <span class="keywordtype">char</span> *frac, <span class="keywordtype">size_t</span> nf, <span class="keyword">const</span> <span class="keywordtype">char</span> *exp_chr, <span class="keywordtype">size_t</span> <a class="code" href="../../df/d73/time_8c.html#a54e8d54faf71d1f7a0cf8dcfc21a26db">ne</a>);
<a name="l00207"></a>00207 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#aea51d27b9066ae3647c1451fce515a74">VpVtoD</a>(<span class="keywordtype">double</span> *d, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac1cf124db1e117ff7d61d608024f63ee">SIGNED_VALUE</a> *e, <a class="code" href="../../d9/d5a/struct_real.html">Real</a> *m);
<a name="l00208"></a>00208 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">void</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a4be1a4728b4b84da9b53c6b8896def68">VpDtoV</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *m,<span class="keywordtype">double</span> d);
<a name="l00209"></a>00209 <span class="preprocessor">#if 0  </span><span class="comment">/* unused */</span>
<a name="l00210"></a>00210 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">void</span> VpItoV(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *m,S_INT ival);
<a name="l00211"></a>00211 <span class="preprocessor">#endif</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span><a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a814bbbe6c0e4d9242e89f96dd259a984">VpSqrt</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *y,<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *x);
<a name="l00213"></a>00213 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a55bb56400ea123b655bfdd48d9eb15f3">VpActiveRound</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *y, <a class="code" href="../../d9/d5a/struct_real.html">Real</a> *x, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> f, ssize_t il);
<a name="l00214"></a>00214 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#abddd7d4048c1702709da58ecadda0bda">VpMidRound</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *y, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> f, ssize_t nf);
<a name="l00215"></a>00215 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a6e860086606548ae1c97d98aa5ad0ee9">VpLeftRound</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *y, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> f, ssize_t nf);
<a name="l00216"></a>00216 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">void</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#a61b4400d4f983db01b999edf52387ced">VpFrac</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *y, <a class="code" href="../../d9/d5a/struct_real.html">Real</a> *x);
<a name="l00217"></a>00217 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> <a class="code" href="../../de/d07/bigdecimal_8c.html#ae29a5249c8de18d0273189734679ac84">VpPower</a>(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *y, <a class="code" href="../../d9/d5a/struct_real.html">Real</a> *x, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac1cf124db1e117ff7d61d608024f63ee">SIGNED_VALUE</a> n);
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="comment">/* VP constants */</span>
<a name="l00220"></a>00220 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <a class="code" href="../../d9/d5a/struct_real.html">Real</a> *<a class="code" href="../../de/d07/bigdecimal_8c.html#a4ac23be3d17896c15da333d6bfa0bf8b">VpOne</a>(<span class="keywordtype">void</span>);
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 <span class="comment">/*</span>
<a name="l00223"></a>00223 <span class="comment"> *  ------------------</span>
<a name="l00224"></a>00224 <span class="comment"> *  MACRO definitions.</span>
<a name="l00225"></a>00225 <span class="comment"> *  ------------------</span>
<a name="l00226"></a>00226 <span class="comment"> */</span>
<a name="l00227"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ae56b0282c58a65969c092e1eeeedd6f5">00227</a> <span class="preprocessor">#define Abs(a)     (((a)&gt;= 0)?(a):(-(a)))</span>
<a name="l00228"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a4886a8f966a69949cefc46a6a3468006">00228</a> <span class="preprocessor"></span><span class="preprocessor">#define Max(a, b)  (((a)&gt;(b))?(a):(b))</span>
<a name="l00229"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a9e04209162ea72f9985338596262b657">00229</a> <span class="preprocessor"></span><span class="preprocessor">#define Min(a, b)  (((a)&gt;(b))?(b):(a))</span>
<a name="l00230"></a>00230 <span class="preprocessor"></span>
<a name="l00231"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a1018c17daa626eb4946c20bbd6de2e3d">00231</a> <span class="preprocessor">#define VpMaxPrec(a)   ((a)-&gt;MaxPrec)</span>
<a name="l00232"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a2f2ca8f714fe9aa28d6e8720c761c5b9">00232</a> <span class="preprocessor"></span><span class="preprocessor">#define VpPrec(a)      ((a)-&gt;Prec)</span>
<a name="l00233"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ae25b94dee75d6923f8cf4f460cbab1e3">00233</a> <span class="preprocessor"></span><span class="preprocessor">#define VpGetFlag(a)   ((a)-&gt;flag)</span>
<a name="l00234"></a>00234 <span class="preprocessor"></span>
<a name="l00235"></a>00235 <span class="comment">/* Sign */</span>
<a name="l00236"></a>00236 
<a name="l00237"></a>00237 <span class="comment">/* VpGetSign(a) returns 1,-1 if a&gt;0,a&lt;0 respectively */</span>
<a name="l00238"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a874271ac5e9b754f41ed51ddd66ca7b5">00238</a> <span class="preprocessor">#define VpGetSign(a) (((a)-&gt;sign&gt;0)?1:(-1))</span>
<a name="l00239"></a>00239 <span class="preprocessor"></span><span class="comment">/* Change sign of a to a&gt;0,a&lt;0 if s = 1,-1 respectively */</span>
<a name="l00240"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a26e8ca52288bcfb6a58376d71764d7a2">00240</a> <span class="preprocessor">#define VpChangeSign(a,s) {if((s)&gt;0) (a)-&gt;sign=(short)Abs((ssize_t)(a)-&gt;sign);else (a)-&gt;sign=-(short)Abs((ssize_t)(a)-&gt;sign);}</span>
<a name="l00241"></a>00241 <span class="preprocessor"></span><span class="comment">/* Sets sign of a to a&gt;0,a&lt;0 if s = 1,-1 respectively */</span>
<a name="l00242"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a77d9e0e76e412a3adf144cbe9f5ea9bc">00242</a> <span class="preprocessor">#define VpSetSign(a,s)    {if((s)&gt;0) (a)-&gt;sign=(short)VP_SIGN_POSITIVE_FINITE;else (a)-&gt;sign=(short)VP_SIGN_NEGATIVE_FINITE;}</span>
<a name="l00243"></a>00243 <span class="preprocessor"></span>
<a name="l00244"></a>00244 <span class="comment">/* 1 */</span>
<a name="l00245"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#abb58d264eb0ad3060a67c1f74734fd51">00245</a> <span class="preprocessor">#define VpSetOne(a)       {(a)-&gt;Prec=(a)-&gt;exponent=(a)-&gt;frac[0]=1;(a)-&gt;sign=VP_SIGN_POSITIVE_FINITE;}</span>
<a name="l00246"></a>00246 <span class="preprocessor"></span>
<a name="l00247"></a>00247 <span class="comment">/* ZEROs */</span>
<a name="l00248"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ad19b3f3e78e9911ac2b3b63b0c0bc566">00248</a> <span class="preprocessor">#define VpIsPosZero(a)  ((a)-&gt;sign==VP_SIGN_POSITIVE_ZERO)</span>
<a name="l00249"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#aa2db04020f69e752eb8b9fea2e68058d">00249</a> <span class="preprocessor"></span><span class="preprocessor">#define VpIsNegZero(a)  ((a)-&gt;sign==VP_SIGN_NEGATIVE_ZERO)</span>
<a name="l00250"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a57e78164b65740e5601afb87774fc7fe">00250</a> <span class="preprocessor"></span><span class="preprocessor">#define VpIsZero(a)     (VpIsPosZero(a) || VpIsNegZero(a))</span>
<a name="l00251"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a1924a71b6c42913c620202cc684e5768">00251</a> <span class="preprocessor"></span><span class="preprocessor">#define VpSetPosZero(a) ((a)-&gt;frac[0]=0,(a)-&gt;Prec=1,(a)-&gt;sign=VP_SIGN_POSITIVE_ZERO)</span>
<a name="l00252"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a1de427a3cc65c71b1fb5f1653d08f19f">00252</a> <span class="preprocessor"></span><span class="preprocessor">#define VpSetNegZero(a) ((a)-&gt;frac[0]=0,(a)-&gt;Prec=1,(a)-&gt;sign=VP_SIGN_NEGATIVE_ZERO)</span>
<a name="l00253"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#afd170e363a4c64742d2406af2c59aaf4">00253</a> <span class="preprocessor"></span><span class="preprocessor">#define VpSetZero(a,s)  ( ((s)&gt;0)?VpSetPosZero(a):VpSetNegZero(a) )</span>
<a name="l00254"></a>00254 <span class="preprocessor"></span>
<a name="l00255"></a>00255 <span class="comment">/* NaN */</span>
<a name="l00256"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a12f1f8d381910ddaabcb67c2e910e14f">00256</a> <span class="preprocessor">#define VpIsNaN(a)      ((a)-&gt;sign==VP_SIGN_NaN)</span>
<a name="l00257"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a36b64216bbf295d4d792730a81e8ea29">00257</a> <span class="preprocessor"></span><span class="preprocessor">#define VpSetNaN(a)     ((a)-&gt;frac[0]=0,(a)-&gt;Prec=1,(a)-&gt;sign=VP_SIGN_NaN)</span>
<a name="l00258"></a>00258 <span class="preprocessor"></span>
<a name="l00259"></a>00259 <span class="comment">/* Infinity */</span>
<a name="l00260"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a743d884df5747a7bde2403ced5ed765a">00260</a> <span class="preprocessor">#define VpIsPosInf(a)   ((a)-&gt;sign==VP_SIGN_POSITIVE_INFINITE)</span>
<a name="l00261"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#aa68eb996702aae8d94938a5bba8cc792">00261</a> <span class="preprocessor"></span><span class="preprocessor">#define VpIsNegInf(a)   ((a)-&gt;sign==VP_SIGN_NEGATIVE_INFINITE)</span>
<a name="l00262"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a10ccfbeb8379b8f6e6a290afaa28ff69">00262</a> <span class="preprocessor"></span><span class="preprocessor">#define VpIsInf(a)      (VpIsPosInf(a) || VpIsNegInf(a))</span>
<a name="l00263"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a1893e44fac3615235a6667a3b80c220f">00263</a> <span class="preprocessor"></span><span class="preprocessor">#define VpIsDef(a)      ( !(VpIsNaN(a)||VpIsInf(a)) )</span>
<a name="l00264"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a673e6a8fba8f6c050464fc4dcce9b1fd">00264</a> <span class="preprocessor"></span><span class="preprocessor">#define VpSetPosInf(a)  ((a)-&gt;frac[0]=0,(a)-&gt;Prec=1,(a)-&gt;sign=VP_SIGN_POSITIVE_INFINITE)</span>
<a name="l00265"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a96b2e932934d1a83d0dfe9f02f4a17e9">00265</a> <span class="preprocessor"></span><span class="preprocessor">#define VpSetNegInf(a)  ((a)-&gt;frac[0]=0,(a)-&gt;Prec=1,(a)-&gt;sign=VP_SIGN_NEGATIVE_INFINITE)</span>
<a name="l00266"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a5c95f313a27a0c4fd2b23af990eb0e3e">00266</a> <span class="preprocessor"></span><span class="preprocessor">#define VpSetInf(a,s)   ( ((s)&gt;0)?VpSetPosInf(a):VpSetNegInf(a) )</span>
<a name="l00267"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a8425bde5e3250f1f2a4387812658771c">00267</a> <span class="preprocessor"></span><span class="preprocessor">#define VpHasVal(a)     (a-&gt;frac[0])</span>
<a name="l00268"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#ae7bf8bc2b959425907b421b2823199c3">00268</a> <span class="preprocessor"></span><span class="preprocessor">#define VpIsOne(a)      ((a-&gt;Prec==1)&amp;&amp;(a-&gt;frac[0]==1)&amp;&amp;(a-&gt;exponent==1))</span>
<a name="l00269"></a><a class="code" href="../../d0/da5/bigdecimal_8h.html#a259239e879c9775ae7f626d4031522f7">00269</a> <span class="preprocessor"></span><span class="preprocessor">#define VpExponent(a)   (a-&gt;exponent)</span>
<a name="l00270"></a>00270 <span class="preprocessor"></span><span class="preprocessor">#ifdef BIGDECIMAL_DEBUG</span>
<a name="l00271"></a>00271 <span class="preprocessor"></span><span class="keywordtype">int</span> VpVarCheck(<a class="code" href="../../d9/d5a/struct_real.html">Real</a> * v);
<a name="l00272"></a>00272 <a class="code" href="../../d0/da5/bigdecimal_8h.html#a192368175060b042b21a130df1dc3998">VP_EXPORT</a> <span class="keywordtype">int</span> VPrint(<a class="code" href="../../db/ddf/struct____s_f_i_l_e.html">FILE</a> *fp,<span class="keyword">const</span> <span class="keywordtype">char</span> *cntl_chr,<a class="code" href="../../d9/d5a/struct_real.html">Real</a> *a);
<a name="l00273"></a>00273 <span class="preprocessor">#endif </span><span class="comment">/* BIGDECIMAL_DEBUG */</span>
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 <span class="preprocessor">#if defined(__cplusplus)</span>
<a name="l00276"></a>00276 <span class="preprocessor"></span>}  <span class="comment">/* extern &quot;C&quot; { */</span>
<a name="l00277"></a>00277 <span class="preprocessor">#endif</span>
<a name="l00278"></a>00278 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* RUBY_BIG_DECIMAL_H */</span>
<a name="l00279"></a>00279 
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Mar 2013 for Ruby by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>

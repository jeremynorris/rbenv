<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Ruby: object.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>object.c</h1><a href="../../d0/de1/object_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/**********************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">  object.c -</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">  $Author: naruse $</span>
<a name="l00006"></a>00006 <span class="comment">  created at: Thu Jul 15 12:01:24 JST 1993</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">  Copyright (C) 1993-2007 Yukihiro Matsumoto</span>
<a name="l00009"></a>00009 <span class="comment">  Copyright (C) 2000  Network Applied Communication Laboratory, Inc.</span>
<a name="l00010"></a>00010 <span class="comment">  Copyright (C) 2000  Information-technology Promotion Agency, Japan</span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="comment">**********************************************************************/</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="../../de/de6/ruby_2ruby_8h.html">ruby/ruby.h</a>&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/d24/st_8h.html">ruby/st.h</a>&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/d3c/util_8h.html">ruby/util.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;errno.h&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;ctype.h&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;float.h&gt;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/d17/constant_8h.html">constant.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="../../db/dde/internal_8h.html">internal.h</a>&quot;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a><a class="code" href="../../d0/de1/object_8c.html#aaa2cd152ba72f43ebdd4bb154919293a">00025</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>;
<a name="l00026"></a><a class="code" href="../../d0/de1/object_8c.html#a1b6aa85d3f6c9187a37c9ae996f786cf">00026</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>;
<a name="l00027"></a><a class="code" href="../../d0/de1/object_8c.html#a3089f205b1a3c3b15fa0282cbb55fcb7">00027</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a57c96ead3ef230b4838e65fe037c346e">rb_cObject</a>;
<a name="l00028"></a><a class="code" href="../../d0/de1/object_8c.html#aae7c5c46eca7cd0df49381b691953b0c">00028</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>;
<a name="l00029"></a><a class="code" href="../../d0/de1/object_8c.html#a008b28b831935c8dfcbd7d77b784d3a4">00029</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a>;
<a name="l00030"></a><a class="code" href="../../d0/de1/object_8c.html#afaaf37b56a90dea996980b9e8e3ef853">00030</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39cf94183e6d744167ae5f6a7bde0363">rb_cData</a>;
<a name="l00031"></a>00031 
<a name="l00032"></a><a class="code" href="../../d0/de1/object_8c.html#a5c844269cf0840485a0a9824cd180f02">00032</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>;
<a name="l00033"></a><a class="code" href="../../d0/de1/object_8c.html#aef9c23220ba598e74c828e74bce2e76d">00033</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a047e3cef3a992aadc362f6a91c505e79">rb_cTrueClass</a>;
<a name="l00034"></a><a class="code" href="../../d0/de1/object_8c.html#a80f628b3b0be670d0308116b8bf51448">00034</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a7ef1aa70373f6097524f90851f71d304">rb_cFalseClass</a>;
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="../../d0/de1/object_8c.html#a8e7061c3662bc362825c8f794af18f04">00036</a> <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <a class="code" href="../../d0/de1/object_8c.html#a304cbbab7bd5573ab33773f6506d3345">id_eq</a>, <a class="code" href="../../d0/de1/object_8c.html#a80e6af6a1e60ffc9ced27c60eccacbf5">id_eql</a>, <a class="code" href="../../d1/d81/complex_8c.html#a5c5832b08c7533e48d3fa8bf3e0190c2">id_match</a>, <a class="code" href="../../d0/de1/object_8c.html#a1c40847cbc02b1ff39840107b2b5cda7">id_inspect</a>;
<a name="l00037"></a><a class="code" href="../../d0/de1/object_8c.html#a048d52f3063da428ff6a2587c04527e5">00037</a> <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <a class="code" href="../../d0/de1/object_8c.html#ae86986d3f60e11184341bcccaaf2a39d">id_init_copy</a>, <a class="code" href="../../d0/de1/object_8c.html#a59458220c73031a2abe9a34bdbb2de6f">id_init_clone</a>, <a class="code" href="../../d0/de1/object_8c.html#a048d52f3063da428ff6a2587c04527e5">id_init_dup</a>;
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="comment">/*</span>
<a name="l00040"></a>00040 <span class="comment"> *  call-seq:</span>
<a name="l00041"></a>00041 <span class="comment"> *     obj === other   -&gt; true or false</span>
<a name="l00042"></a>00042 <span class="comment"> *</span>
<a name="l00043"></a>00043 <span class="comment"> *  Case Equality---For class &lt;code&gt;Object&lt;/code&gt;, effectively the same</span>
<a name="l00044"></a>00044 <span class="comment"> *  as calling  &lt;code&gt;#==&lt;/code&gt;, but typically overridden by descendants</span>
<a name="l00045"></a>00045 <span class="comment"> *  to provide meaningful semantics in &lt;code&gt;case&lt;/code&gt; statements.</span>
<a name="l00046"></a>00046 <span class="comment"> */</span>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00049"></a><a class="code" href="../../d0/de1/object_8c.html#ac3fb1c3e880793543a51a474861557f9">00049</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ae0d75edc88a608fc05dd386edf53208f">rb_equal</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj1, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l00050"></a>00050 {
<a name="l00051"></a>00051     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d8/d90/nkf_8c.html#a5ea5ac7abf5cce39283e422add1067d5">result</a>;
<a name="l00052"></a>00052 
<a name="l00053"></a>00053     <span class="keywordflow">if</span> (obj1 == obj2) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00054"></a>00054     result = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6a973fe624aa9aa9ba0cdeb6792d3187" title="Calls a method.">rb_funcall</a>(obj1, <a class="code" href="../../d0/de1/object_8c.html#a304cbbab7bd5573ab33773f6506d3345">id_eq</a>, 1, obj2);
<a name="l00055"></a>00055     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(result)) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00056"></a>00056     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l00057"></a>00057 }
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="keywordtype">int</span>
<a name="l00060"></a><a class="code" href="../../d0/de1/object_8c.html#a764ed15d8d37207ab8bfea07f139e534">00060</a> <a class="code" href="../../db/d2e/intern_8h.html#a180c7fb8680438a968a03f26cfb7b542">rb_eql</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj1, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l00061"></a>00061 {
<a name="l00062"></a>00062     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6a973fe624aa9aa9ba0cdeb6792d3187" title="Calls a method.">rb_funcall</a>(obj1, <a class="code" href="../../d0/de1/object_8c.html#a80e6af6a1e60ffc9ced27c60eccacbf5">id_eql</a>, 1, obj2));
<a name="l00063"></a>00063 }
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="comment">/*</span>
<a name="l00066"></a>00066 <span class="comment"> *  call-seq:</span>
<a name="l00067"></a>00067 <span class="comment"> *     obj == other        -&gt; true or false</span>
<a name="l00068"></a>00068 <span class="comment"> *     obj.equal?(other)   -&gt; true or false</span>
<a name="l00069"></a>00069 <span class="comment"> *     obj.eql?(other)     -&gt; true or false</span>
<a name="l00070"></a>00070 <span class="comment"> *</span>
<a name="l00071"></a>00071 <span class="comment"> *  Equality---At the &lt;code&gt;Object&lt;/code&gt; level, &lt;code&gt;==&lt;/code&gt; returns</span>
<a name="l00072"></a>00072 <span class="comment"> *  &lt;code&gt;true&lt;/code&gt; only if &lt;i&gt;obj&lt;/i&gt; and &lt;i&gt;other&lt;/i&gt; are the</span>
<a name="l00073"></a>00073 <span class="comment"> *  same object. Typically, this method is overridden in descendant</span>
<a name="l00074"></a>00074 <span class="comment"> *  classes to provide class-specific meaning.</span>
<a name="l00075"></a>00075 <span class="comment"> *</span>
<a name="l00076"></a>00076 <span class="comment"> *  Unlike &lt;code&gt;==&lt;/code&gt;, the &lt;code&gt;equal?&lt;/code&gt; method should never be</span>
<a name="l00077"></a>00077 <span class="comment"> *  overridden by subclasses: it is used to determine object identity</span>
<a name="l00078"></a>00078 <span class="comment"> *  (that is, &lt;code&gt;a.equal?(b)&lt;/code&gt; iff &lt;code&gt;a&lt;/code&gt; is the same</span>
<a name="l00079"></a>00079 <span class="comment"> *  object as &lt;code&gt;b&lt;/code&gt;).</span>
<a name="l00080"></a>00080 <span class="comment"> *</span>
<a name="l00081"></a>00081 <span class="comment"> *  The &lt;code&gt;eql?&lt;/code&gt; method returns &lt;code&gt;true&lt;/code&gt; if</span>
<a name="l00082"></a>00082 <span class="comment"> *  &lt;i&gt;obj&lt;/i&gt; and &lt;i&gt;anObject&lt;/i&gt; have the same value. Used by</span>
<a name="l00083"></a>00083 <span class="comment"> *  &lt;code&gt;Hash&lt;/code&gt; to test members for equality.  For objects of</span>
<a name="l00084"></a>00084 <span class="comment"> *  class &lt;code&gt;Object&lt;/code&gt;, &lt;code&gt;eql?&lt;/code&gt; is synonymous with</span>
<a name="l00085"></a>00085 <span class="comment"> *  &lt;code&gt;==&lt;/code&gt;. Subclasses normally continue this tradition, but</span>
<a name="l00086"></a>00086 <span class="comment"> *  there are exceptions. &lt;code&gt;Numeric&lt;/code&gt; types, for example,</span>
<a name="l00087"></a>00087 <span class="comment"> *  perform type conversion across &lt;code&gt;==&lt;/code&gt;, but not across</span>
<a name="l00088"></a>00088 <span class="comment"> *  &lt;code&gt;eql?&lt;/code&gt;, so:</span>
<a name="l00089"></a>00089 <span class="comment"> *</span>
<a name="l00090"></a>00090 <span class="comment"> *     1 == 1.0     #=&gt; true</span>
<a name="l00091"></a>00091 <span class="comment"> *     1.eql? 1.0   #=&gt; false</span>
<a name="l00092"></a>00092 <span class="comment"> */</span>
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00095"></a><a class="code" href="../../d0/de1/object_8c.html#a7630f8c287de66794f825910b9f342cf">00095</a> <a class="code" href="../../d0/de1/object_8c.html#a7630f8c287de66794f825910b9f342cf">rb_obj_equal</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj1, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l00096"></a>00096 {
<a name="l00097"></a>00097     <span class="keywordflow">if</span> (obj1 == obj2) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00098"></a>00098     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l00099"></a>00099 }
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="comment">/*</span>
<a name="l00102"></a>00102 <span class="comment"> * Generates a &lt;code&gt;Fixnum&lt;/code&gt; hash value for this object.</span>
<a name="l00103"></a>00103 <span class="comment"> * This function must have the property that a.eql?(b) implies</span>
<a name="l00104"></a>00104 <span class="comment"> * a.hash &lt;code&gt;==&lt;/code&gt; b.hash.</span>
<a name="l00105"></a>00105 <span class="comment"> * The hash value is used by class &lt;code&gt;Hash&lt;/code&gt;.</span>
<a name="l00106"></a>00106 <span class="comment"> * Any hash value that exceeds the capacity of a &lt;code&gt;Fixnum&lt;/code&gt; will be</span>
<a name="l00107"></a>00107 <span class="comment"> * truncated before being used.</span>
<a name="l00108"></a>00108 <span class="comment"> *</span>
<a name="l00109"></a>00109 <span class="comment"> *      &quot;waffle&quot;.hash #=&gt; -910576647</span>
<a name="l00110"></a>00110 <span class="comment"> */</span>
<a name="l00111"></a>00111 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00112"></a><a class="code" href="../../d0/de1/object_8c.html#aef4bb37dad81eae2a9786bf310f29f02">00112</a> <a class="code" href="../../d0/de1/object_8c.html#aef4bb37dad81eae2a9786bf310f29f02">rb_obj_hash</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00113"></a>00113 {
<a name="l00114"></a>00114     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> oid = <a class="code" href="../../d8/d16/gc_8c.html#a56eb26ff20f077eecdca272b83df1652">rb_obj_id</a>(obj);
<a name="l00115"></a>00115     <a class="code" href="../../dd/d24/st_8h.html#ac214e5cdcf0de6a2108b9643e7fc12e0">st_index_t</a> h = <a class="code" href="../../db/d2e/intern_8h.html#a2394b60da89a848717643532411efcbd">rb_hash_end</a>(<a class="code" href="../../db/d2e/intern_8h.html#a574cdfa6fbf8c714858e4e7fb9c89019">rb_hash_start</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a93f154f3dcc08027f475bf0c3cc287bd">NUM2LONG</a>(oid)));
<a name="l00116"></a>00116     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2ead2f64c81efed352e79e89f29b8fc8">LONG2FIX</a>(h);
<a name="l00117"></a>00117 }
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="comment">/*</span>
<a name="l00120"></a>00120 <span class="comment"> *  call-seq:</span>
<a name="l00121"></a>00121 <span class="comment"> *     !obj    -&gt; true or false</span>
<a name="l00122"></a>00122 <span class="comment"> *</span>
<a name="l00123"></a>00123 <span class="comment"> *  Boolean negate.</span>
<a name="l00124"></a>00124 <span class="comment"> */</span>
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00127"></a><a class="code" href="../../d0/de1/object_8c.html#ad4f6b70f1b2a21e2a379a70cf53fae4e">00127</a> <a class="code" href="../../d0/de1/object_8c.html#ad4f6b70f1b2a21e2a379a70cf53fae4e">rb_obj_not</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00128"></a>00128 {
<a name="l00129"></a>00129     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(obj) ? <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a> : <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00130"></a>00130 }
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 <span class="comment">/*</span>
<a name="l00133"></a>00133 <span class="comment"> *  call-seq:</span>
<a name="l00134"></a>00134 <span class="comment"> *     obj != other        -&gt; true or false</span>
<a name="l00135"></a>00135 <span class="comment"> *</span>
<a name="l00136"></a>00136 <span class="comment"> *  Returns true if two objects are not-equal, otherwise false.</span>
<a name="l00137"></a>00137 <span class="comment"> */</span>
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00140"></a><a class="code" href="../../d0/de1/object_8c.html#a1511c824e7c9d15c13729175e6f95d26">00140</a> <a class="code" href="../../d0/de1/object_8c.html#a1511c824e7c9d15c13729175e6f95d26">rb_obj_not_equal</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj1, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l00141"></a>00141 {
<a name="l00142"></a>00142     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d8/d90/nkf_8c.html#a5ea5ac7abf5cce39283e422add1067d5">result</a> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6a973fe624aa9aa9ba0cdeb6792d3187" title="Calls a method.">rb_funcall</a>(obj1, <a class="code" href="../../d0/de1/object_8c.html#a304cbbab7bd5573ab33773f6506d3345">id_eq</a>, 1, obj2);
<a name="l00143"></a>00143     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(result) ? <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a> : <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00144"></a>00144 }
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00147"></a><a class="code" href="../../d0/de1/object_8c.html#ab9b3817b9557403438176f301fa11b93">00147</a> <a class="code" href="../../db/d2e/intern_8h.html#ab4b2dc0dd79654335ec8fc99ed9880d6">rb_class_real</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> cl)
<a name="l00148"></a>00148 {
<a name="l00149"></a>00149     <span class="keywordflow">if</span> (cl == 0)
<a name="l00150"></a>00150         <span class="keywordflow">return</span> 0;
<a name="l00151"></a>00151     <span class="keywordflow">while</span> ((<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(cl)-&gt;flags &amp; <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a081b5172ef37829bb3a258cd1ad393bc">FL_SINGLETON</a>) || <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aee74f540353cd2d77d1cb37a3714bd7d">BUILTIN_TYPE</a>(cl) == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a82c8c4569748b9645c958b9eaeaabb81">T_ICLASS</a>) {
<a name="l00152"></a>00152         cl = <a class="code" href="../../d3/d09/ripper_8y.html#a19d17315b6b34045cdffec9912342b91">RCLASS_SUPER</a>(cl);
<a name="l00153"></a>00153     }
<a name="l00154"></a>00154     <span class="keywordflow">return</span> cl;
<a name="l00155"></a>00155 }
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 <span class="comment">/*</span>
<a name="l00158"></a>00158 <span class="comment"> *  call-seq:</span>
<a name="l00159"></a>00159 <span class="comment"> *     obj.class    -&gt; class</span>
<a name="l00160"></a>00160 <span class="comment"> *</span>
<a name="l00161"></a>00161 <span class="comment"> *  Returns the class of &lt;i&gt;obj&lt;/i&gt;. This method must always be</span>
<a name="l00162"></a>00162 <span class="comment"> *  called with an explicit receiver, as &lt;code&gt;class&lt;/code&gt; is also a</span>
<a name="l00163"></a>00163 <span class="comment"> *  reserved word in Ruby.</span>
<a name="l00164"></a>00164 <span class="comment"> *</span>
<a name="l00165"></a>00165 <span class="comment"> *     1.class      #=&gt; Fixnum</span>
<a name="l00166"></a>00166 <span class="comment"> *     self.class   #=&gt; Object</span>
<a name="l00167"></a>00167 <span class="comment"> */</span>
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00170"></a><a class="code" href="../../d0/de1/object_8c.html#a9338e4719b257b9dbe33c829306c317f">00170</a> <a class="code" href="../../db/d2e/intern_8h.html#ac2be7243e739fa8f5dce6be0c8ee5f6d">rb_obj_class</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00171"></a>00171 {
<a name="l00172"></a>00172     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#ab4b2dc0dd79654335ec8fc99ed9880d6">rb_class_real</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad07df58de9895cbc33c10f02540d2d4d">CLASS_OF</a>(obj));
<a name="l00173"></a>00173 }
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="comment">/*</span>
<a name="l00176"></a>00176 <span class="comment"> *  call-seq:</span>
<a name="l00177"></a>00177 <span class="comment"> *     obj.singleton_class    -&gt; class</span>
<a name="l00178"></a>00178 <span class="comment"> *</span>
<a name="l00179"></a>00179 <span class="comment"> *  Returns the singleton class of &lt;i&gt;obj&lt;/i&gt;.  This method creates</span>
<a name="l00180"></a>00180 <span class="comment"> *  a new singleton class if &lt;i&gt;obj&lt;/i&gt; does not have it.</span>
<a name="l00181"></a>00181 <span class="comment"> *</span>
<a name="l00182"></a>00182 <span class="comment"> *  If &lt;i&gt;obj&lt;/i&gt; is &lt;code&gt;nil&lt;/code&gt;, &lt;code&gt;true&lt;/code&gt;, or</span>
<a name="l00183"></a>00183 <span class="comment"> *  &lt;code&gt;false&lt;/code&gt;, it returns NilClass, TrueClass, or FalseClass,</span>
<a name="l00184"></a>00184 <span class="comment"> *  respectively.</span>
<a name="l00185"></a>00185 <span class="comment"> *  If &lt;i&gt;obj&lt;/i&gt; is a Fixnum or a Symbol, it raises a TypeError.</span>
<a name="l00186"></a>00186 <span class="comment"> *</span>
<a name="l00187"></a>00187 <span class="comment"> *     Object.new.singleton_class  #=&gt; #&lt;Class:#&lt;Object:0xb7ce1e24&gt;&gt;</span>
<a name="l00188"></a>00188 <span class="comment"> *     String.singleton_class      #=&gt; #&lt;Class:String&gt;</span>
<a name="l00189"></a>00189 <span class="comment"> *     nil.singleton_class         #=&gt; NilClass</span>
<a name="l00190"></a>00190 <span class="comment"> */</span>
<a name="l00191"></a>00191 
<a name="l00192"></a>00192 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00193"></a><a class="code" href="../../d0/de1/object_8c.html#aef0e2afa0f7b8bc9d3148c2200173e69">00193</a> <a class="code" href="../../d0/de1/object_8c.html#aef0e2afa0f7b8bc9d3148c2200173e69">rb_obj_singleton_class</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00194"></a>00194 {
<a name="l00195"></a>00195     <span class="keywordflow">return</span> <a class="code" href="../../de/ddf/group__class.html#ga3778543a2798adab7bc12ed325c0b5d0" title="Returns the singleton class of obj.">rb_singleton_class</a>(obj);
<a name="l00196"></a>00196 }
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00199"></a><a class="code" href="../../d0/de1/object_8c.html#ade48b0038293be31fbc481d732161560">00199</a> <a class="code" href="../../d0/de1/object_8c.html#ade48b0038293be31fbc481d732161560">init_copy</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> dest, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00200"></a>00200 {
<a name="l00201"></a>00201     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a73db79f74bad2fb5258a2ae7ee6ef117">OBJ_FROZEN</a>(dest)) {
<a name="l00202"></a>00202         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;[bug] frozen object (%s) allocated&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(dest));
<a name="l00203"></a>00203     }
<a name="l00204"></a>00204     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(dest)-&gt;flags &amp;= ~(<a class="code" href="../../d7/d6c/md5_8c.html#a2d8a5083a030f6b36bc9a5fe6d71b519">T_MASK</a>|<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0eecbc9617756148ca4e1c4c0a8c9de6">FL_EXIVAR</a>);
<a name="l00205"></a>00205     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(dest)-&gt;flags |= <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(obj)-&gt;flags &amp; (<a class="code" href="../../d7/d6c/md5_8c.html#a2d8a5083a030f6b36bc9a5fe6d71b519">T_MASK</a>|<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0eecbc9617756148ca4e1c4c0a8c9de6">FL_EXIVAR</a>|<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aada6cee56453d224febc8a330e6bafdb">FL_TAINT</a>|<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a286c82e73243296cb52dafb7dae7ea70">FL_UNTRUSTED</a>);
<a name="l00206"></a>00206     <a class="code" href="../../db/d2e/intern_8h.html#a1cef2a25d67c70a0dd3b7564180eff0c">rb_copy_generic_ivar</a>(dest, obj);
<a name="l00207"></a>00207     <a class="code" href="../../d8/d16/gc_8c.html#a91b16b02874a4eafdfeb18fb2f33be3b">rb_gc_copy_finalizer</a>(dest, obj);
<a name="l00208"></a>00208     <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(obj)) {
<a name="l00209"></a>00209       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#abed71c72d5c3083041d52ad25630270e">T_OBJECT</a>:
<a name="l00210"></a>00210         <span class="keywordflow">if</span> (!(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(dest)-&gt;flags &amp; <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a49df79f2c7c1ec147dad9a122de1a7d7">ROBJECT_EMBED</a>) &amp;&amp; <a class="code" href="../../de/de6/ruby_2ruby_8h.html#adfa7e6250c07b5504c39bf163892462d">ROBJECT_IVPTR</a>(dest)) {
<a name="l00211"></a>00211             <a class="code" href="../../d8/db0/defines_8h.html#a2c3897f7c46ca54a2e0dd7b24a40c7cb">xfree</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#adfa7e6250c07b5504c39bf163892462d">ROBJECT_IVPTR</a>(dest));
<a name="l00212"></a>00212             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(dest)-&gt;as.heap.ivptr = 0;
<a name="l00213"></a>00213             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(dest)-&gt;as.heap.numiv = 0;
<a name="l00214"></a>00214             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(dest)-&gt;as.heap.iv_index_tbl = 0;
<a name="l00215"></a>00215         }
<a name="l00216"></a>00216         <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(obj)-&gt;flags &amp; ROBJECT_EMBED) {
<a name="l00217"></a>00217             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a04ab67335215e8362c63ed27ae2d1c40">MEMCPY</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(dest)-&gt;as.ary, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(obj)-&gt;as.ary, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a36fa6d5c8d38a7ed8299aa98de6e26f8">ROBJECT_EMBED_LEN_MAX</a>);
<a name="l00218"></a>00218             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(dest)-&gt;flags |= ROBJECT_EMBED;
<a name="l00219"></a>00219         }
<a name="l00220"></a>00220         <span class="keywordflow">else</span> {
<a name="l00221"></a>00221             <span class="keywordtype">long</span> <a class="code" href="../../d3/d15/name2ctype_8h.html#aed1cc4dca5d94cb452f79691f54f7423">len</a> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(obj)-&gt;as.heap.numiv;
<a name="l00222"></a>00222             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *ptr = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a79041aa2bc7439c11906a86f82a52eb6">ALLOC_N</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>, len);
<a name="l00223"></a>00223             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a04ab67335215e8362c63ed27ae2d1c40">MEMCPY</a>(ptr, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(obj)-&gt;as.heap.ivptr, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>, len);
<a name="l00224"></a>00224             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(dest)-&gt;as.heap.ivptr = ptr;
<a name="l00225"></a>00225             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(dest)-&gt;as.heap.numiv = len;
<a name="l00226"></a>00226             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(dest)-&gt;as.heap.iv_index_tbl = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0331536132945278462f08825b169f7e">ROBJECT</a>(obj)-&gt;as.heap.iv_index_tbl;
<a name="l00227"></a>00227             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(dest)-&gt;flags &amp;= ~ROBJECT_EMBED;
<a name="l00228"></a>00228         }
<a name="l00229"></a>00229         <span class="keywordflow">break</span>;
<a name="l00230"></a>00230       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad04c63d175774c6d6e7dfaf0f0a982c9">T_CLASS</a>:
<a name="l00231"></a>00231       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6cdc7dfe8f84777325da08a96ae5f795">T_MODULE</a>:
<a name="l00232"></a>00232         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d09/ripper_8y.html#a7f7f2dbf958976d9bf317167396992d4">RCLASS_IV_TBL</a>(dest)) {
<a name="l00233"></a>00233             <a class="code" href="../../dd/d24/st_8h.html#acb004847ef312373d65bfb0d1a21c5b3">st_free_table</a>(<a class="code" href="../../d3/d09/ripper_8y.html#a7f7f2dbf958976d9bf317167396992d4">RCLASS_IV_TBL</a>(dest));
<a name="l00234"></a>00234             <a class="code" href="../../d3/d09/ripper_8y.html#a7f7f2dbf958976d9bf317167396992d4">RCLASS_IV_TBL</a>(dest) = 0;
<a name="l00235"></a>00235         }
<a name="l00236"></a>00236         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d09/ripper_8y.html#a9dfcc3730f2a2a5ef643c2b6c3e606d1">RCLASS_CONST_TBL</a>(dest)) {
<a name="l00237"></a>00237             <a class="code" href="../../dd/d17/constant_8h.html#ac0930709fa9ea2985f4513b9ea1631eb">rb_free_const_table</a>(<a class="code" href="../../d3/d09/ripper_8y.html#a9dfcc3730f2a2a5ef643c2b6c3e606d1">RCLASS_CONST_TBL</a>(dest));
<a name="l00238"></a>00238             <a class="code" href="../../d3/d09/ripper_8y.html#a9dfcc3730f2a2a5ef643c2b6c3e606d1">RCLASS_CONST_TBL</a>(dest) = 0;
<a name="l00239"></a>00239         }
<a name="l00240"></a>00240         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d09/ripper_8y.html#a7f7f2dbf958976d9bf317167396992d4">RCLASS_IV_TBL</a>(obj)) {
<a name="l00241"></a>00241             <a class="code" href="../../d3/d09/ripper_8y.html#a7f7f2dbf958976d9bf317167396992d4">RCLASS_IV_TBL</a>(dest) = <a class="code" href="../../dd/d24/st_8h.html#a7dbfd8e3a251a09c8543b301bcef0cb5">st_copy</a>(<a class="code" href="../../d3/d09/ripper_8y.html#a7f7f2dbf958976d9bf317167396992d4">RCLASS_IV_TBL</a>(obj));
<a name="l00242"></a>00242         }
<a name="l00243"></a>00243         <span class="keywordflow">break</span>;
<a name="l00244"></a>00244     }
<a name="l00245"></a>00245 }
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 <span class="comment">/*</span>
<a name="l00248"></a>00248 <span class="comment"> *  call-seq:</span>
<a name="l00249"></a>00249 <span class="comment"> *     obj.clone -&gt; an_object</span>
<a name="l00250"></a>00250 <span class="comment"> *</span>
<a name="l00251"></a>00251 <span class="comment"> *  Produces a shallow copy of &lt;i&gt;obj&lt;/i&gt;---the instance variables of</span>
<a name="l00252"></a>00252 <span class="comment"> *  &lt;i&gt;obj&lt;/i&gt; are copied, but not the objects they reference. Copies</span>
<a name="l00253"></a>00253 <span class="comment"> *  the frozen and tainted state of &lt;i&gt;obj&lt;/i&gt;. See also the discussion</span>
<a name="l00254"></a>00254 <span class="comment"> *  under &lt;code&gt;Object#dup&lt;/code&gt;.</span>
<a name="l00255"></a>00255 <span class="comment"> *</span>
<a name="l00256"></a>00256 <span class="comment"> *     class Klass</span>
<a name="l00257"></a>00257 <span class="comment"> *        attr_accessor :str</span>
<a name="l00258"></a>00258 <span class="comment"> *     end</span>
<a name="l00259"></a>00259 <span class="comment"> *     s1 = Klass.new      #=&gt; #&lt;Klass:0x401b3a38&gt;</span>
<a name="l00260"></a>00260 <span class="comment"> *     s1.str = &quot;Hello&quot;    #=&gt; &quot;Hello&quot;</span>
<a name="l00261"></a>00261 <span class="comment"> *     s2 = s1.clone       #=&gt; #&lt;Klass:0x401b3998 @str=&quot;Hello&quot;&gt;</span>
<a name="l00262"></a>00262 <span class="comment"> *     s2.str[1,4] = &quot;i&quot;   #=&gt; &quot;i&quot;</span>
<a name="l00263"></a>00263 <span class="comment"> *     s1.inspect          #=&gt; &quot;#&lt;Klass:0x401b3a38 @str=\&quot;Hi\&quot;&gt;&quot;</span>
<a name="l00264"></a>00264 <span class="comment"> *     s2.inspect          #=&gt; &quot;#&lt;Klass:0x401b3998 @str=\&quot;Hi\&quot;&gt;&quot;</span>
<a name="l00265"></a>00265 <span class="comment"> *</span>
<a name="l00266"></a>00266 <span class="comment"> *  This method may have class-specific behavior.  If so, that</span>
<a name="l00267"></a>00267 <span class="comment"> *  behavior will be documented under the #+initialize_copy+ method of</span>
<a name="l00268"></a>00268 <span class="comment"> *  the class.</span>
<a name="l00269"></a>00269 <span class="comment"> */</span>
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00272"></a><a class="code" href="../../d0/de1/object_8c.html#ac51fcaf893d95816eb70bf43c3f1e239">00272</a> <a class="code" href="../../db/d2e/intern_8h.html#ac94270bbb4df159e10c3c2fadf0376a2">rb_obj_clone</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00273"></a>00273 {
<a name="l00274"></a>00274     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> clone;
<a name="l00275"></a>00275 
<a name="l00276"></a>00276     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a71420fb92a2a1c8a3af58c50dff37ccb">rb_special_const_p</a>(obj)) {
<a name="l00277"></a>00277         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t clone %s&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(obj));
<a name="l00278"></a>00278     }
<a name="l00279"></a>00279     clone = <a class="code" href="../../db/d2e/intern_8h.html#a4419d9ed52af0d0dbdcb02f491b1d88d">rb_obj_alloc</a>(<a class="code" href="../../db/d2e/intern_8h.html#ac2be7243e739fa8f5dce6be0c8ee5f6d">rb_obj_class</a>(obj));
<a name="l00280"></a>00280     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(clone)-&gt;klass = <a class="code" href="../../de/ddf/group__class.html#ga1ee97616fa7c3a3a8a672218a0386ad7">rb_singleton_class_clone</a>(obj);
<a name="l00281"></a>00281     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(clone)-&gt;flags = (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(obj)-&gt;flags | <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1ae918b6cc84188a9dc6ab545f732e4d">FL_TEST</a>(clone, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aada6cee56453d224febc8a330e6bafdb">FL_TAINT</a>) | <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1ae918b6cc84188a9dc6ab545f732e4d">FL_TEST</a>(clone, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a286c82e73243296cb52dafb7dae7ea70">FL_UNTRUSTED</a>)) &amp; ~(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#add9724fac75da918bf16b12a04120ba8">FL_FREEZE</a>|<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6c5ccf5e4d375da1c8f418ccd41c92bb">FL_FINALIZE</a>|<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39ebc82a159cc4776f6ca7037cbd2e26">FL_MARK</a>);
<a name="l00282"></a>00282     <a class="code" href="../../d0/de1/object_8c.html#ade48b0038293be31fbc481d732161560">init_copy</a>(clone, obj);
<a name="l00283"></a>00283     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6a973fe624aa9aa9ba0cdeb6792d3187" title="Calls a method.">rb_funcall</a>(clone, <a class="code" href="../../d0/de1/object_8c.html#a59458220c73031a2abe9a34bdbb2de6f">id_init_clone</a>, 1, obj);
<a name="l00284"></a>00284     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(clone)-&gt;flags |= <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(obj)-&gt;flags &amp; <a class="code" href="../../de/de6/ruby_2ruby_8h.html#add9724fac75da918bf16b12a04120ba8">FL_FREEZE</a>;
<a name="l00285"></a>00285 
<a name="l00286"></a>00286     <span class="keywordflow">return</span> clone;
<a name="l00287"></a>00287 }
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 <span class="comment">/*</span>
<a name="l00290"></a>00290 <span class="comment"> *  call-seq:</span>
<a name="l00291"></a>00291 <span class="comment"> *     obj.dup -&gt; an_object</span>
<a name="l00292"></a>00292 <span class="comment"> *</span>
<a name="l00293"></a>00293 <span class="comment"> *  Produces a shallow copy of &lt;i&gt;obj&lt;/i&gt;---the instance variables of</span>
<a name="l00294"></a>00294 <span class="comment"> *  &lt;i&gt;obj&lt;/i&gt; are copied, but not the objects they reference.</span>
<a name="l00295"></a>00295 <span class="comment"> *  &lt;code&gt;dup&lt;/code&gt; copies the tainted state of &lt;i&gt;obj&lt;/i&gt;. See also</span>
<a name="l00296"></a>00296 <span class="comment"> *  the discussion under &lt;code&gt;Object#clone&lt;/code&gt;. In general,</span>
<a name="l00297"></a>00297 <span class="comment"> *  &lt;code&gt;clone&lt;/code&gt; and &lt;code&gt;dup&lt;/code&gt; may have different semantics</span>
<a name="l00298"></a>00298 <span class="comment"> *  in descendant classes. While &lt;code&gt;clone&lt;/code&gt; is used to duplicate</span>
<a name="l00299"></a>00299 <span class="comment"> *  an object, including its internal state, &lt;code&gt;dup&lt;/code&gt; typically</span>
<a name="l00300"></a>00300 <span class="comment"> *  uses the class of the descendant object to create the new instance.</span>
<a name="l00301"></a>00301 <span class="comment"> *</span>
<a name="l00302"></a>00302 <span class="comment"> *  This method may have class-specific behavior.  If so, that</span>
<a name="l00303"></a>00303 <span class="comment"> *  behavior will be documented under the #+initialize_copy+ method of</span>
<a name="l00304"></a>00304 <span class="comment"> *  the class.</span>
<a name="l00305"></a>00305 <span class="comment"> */</span>
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00308"></a><a class="code" href="../../d0/de1/object_8c.html#a9cd897d7aadfe6936558c3d143e99e97">00308</a> <a class="code" href="../../db/d2e/intern_8h.html#a303b384bd946cba1101841237c5c27d0">rb_obj_dup</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00309"></a>00309 {
<a name="l00310"></a>00310     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> dup;
<a name="l00311"></a>00311 
<a name="l00312"></a>00312     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a71420fb92a2a1c8a3af58c50dff37ccb">rb_special_const_p</a>(obj)) {
<a name="l00313"></a>00313         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t dup %s&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(obj));
<a name="l00314"></a>00314     }
<a name="l00315"></a>00315     dup = <a class="code" href="../../db/d2e/intern_8h.html#a4419d9ed52af0d0dbdcb02f491b1d88d">rb_obj_alloc</a>(<a class="code" href="../../db/d2e/intern_8h.html#ac2be7243e739fa8f5dce6be0c8ee5f6d">rb_obj_class</a>(obj));
<a name="l00316"></a>00316     <a class="code" href="../../d0/de1/object_8c.html#ade48b0038293be31fbc481d732161560">init_copy</a>(dup, obj);
<a name="l00317"></a>00317     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6a973fe624aa9aa9ba0cdeb6792d3187" title="Calls a method.">rb_funcall</a>(dup, <a class="code" href="../../d0/de1/object_8c.html#a048d52f3063da428ff6a2587c04527e5">id_init_dup</a>, 1, obj);
<a name="l00318"></a>00318 
<a name="l00319"></a>00319     <span class="keywordflow">return</span> dup;
<a name="l00320"></a>00320 }
<a name="l00321"></a>00321 
<a name="l00322"></a>00322 <span class="comment">/* :nodoc: */</span>
<a name="l00323"></a>00323 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00324"></a><a class="code" href="../../d0/de1/object_8c.html#a74371d7bdf7133a5efad7b6ece0792e8">00324</a> <a class="code" href="../../db/d2e/intern_8h.html#a4d288ecd1aa624a3f59d3984a8a4376f">rb_obj_init_copy</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> orig)
<a name="l00325"></a>00325 {
<a name="l00326"></a>00326     <span class="keywordflow">if</span> (obj == orig) <span class="keywordflow">return</span> obj;
<a name="l00327"></a>00327     <a class="code" href="../../db/d2e/intern_8h.html#a372d6acb27d271ee4fc2e88c7022c485">rb_check_frozen</a>(obj);
<a name="l00328"></a>00328     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(obj) != <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(orig) || <a class="code" href="../../db/d2e/intern_8h.html#ac2be7243e739fa8f5dce6be0c8ee5f6d">rb_obj_class</a>(obj) != <a class="code" href="../../db/d2e/intern_8h.html#ac2be7243e739fa8f5dce6be0c8ee5f6d">rb_obj_class</a>(orig)) {
<a name="l00329"></a>00329         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;initialize_copy should take same class object&quot;</span>);
<a name="l00330"></a>00330     }
<a name="l00331"></a>00331     <span class="keywordflow">return</span> obj;
<a name="l00332"></a>00332 }
<a name="l00333"></a>00333 
<a name="l00334"></a>00334 <span class="comment">/* :nodoc: */</span>
<a name="l00335"></a>00335 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00336"></a><a class="code" href="../../d0/de1/object_8c.html#abb4ca06effe815192c489d87f5c1f5cc">00336</a> <a class="code" href="../../d0/de1/object_8c.html#abb4ca06effe815192c489d87f5c1f5cc">rb_obj_init_dup_clone</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> orig)
<a name="l00337"></a>00337 {
<a name="l00338"></a>00338     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6a973fe624aa9aa9ba0cdeb6792d3187" title="Calls a method.">rb_funcall</a>(obj, <a class="code" href="../../d0/de1/object_8c.html#ae86986d3f60e11184341bcccaaf2a39d">id_init_copy</a>, 1, orig);
<a name="l00339"></a>00339     <span class="keywordflow">return</span> obj;
<a name="l00340"></a>00340 }
<a name="l00341"></a>00341 
<a name="l00342"></a>00342 <span class="comment">/*</span>
<a name="l00343"></a>00343 <span class="comment"> *  call-seq:</span>
<a name="l00344"></a>00344 <span class="comment"> *     obj.to_s    -&gt; string</span>
<a name="l00345"></a>00345 <span class="comment"> *</span>
<a name="l00346"></a>00346 <span class="comment"> *  Returns a string representing &lt;i&gt;obj&lt;/i&gt;. The default</span>
<a name="l00347"></a>00347 <span class="comment"> *  &lt;code&gt;to_s&lt;/code&gt; prints the object&apos;s class and an encoding of the</span>
<a name="l00348"></a>00348 <span class="comment"> *  object id. As a special case, the top-level object that is the</span>
<a name="l00349"></a>00349 <span class="comment"> *  initial execution context of Ruby programs returns ``main.&apos;&apos;</span>
<a name="l00350"></a>00350 <span class="comment"> */</span>
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00353"></a><a class="code" href="../../d0/de1/object_8c.html#a30dd8a456e993da8aac50f5510cf07ab">00353</a> <a class="code" href="../../db/d2e/intern_8h.html#a24afa0db60cabea2fb47545b1ff9edf4">rb_any_to_s</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00354"></a>00354 {
<a name="l00355"></a>00355     <span class="keyword">const</span> <span class="keywordtype">char</span> *cname = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(obj);
<a name="l00356"></a>00356     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> str;
<a name="l00357"></a>00357 
<a name="l00358"></a>00358     str = <a class="code" href="../../d9/d2d/sprintf_8c.html#a05c34a91ab36c6a463c861df47808fae">rb_sprintf</a>(<span class="stringliteral">&quot;#&lt;%s:%p&gt;&quot;</span>, cname, (<span class="keywordtype">void</span>*)obj);
<a name="l00359"></a>00359     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3bf9ab455a1e0e3e8cfc6ebabd8f12df">OBJ_INFECT</a>(str, obj);
<a name="l00360"></a>00360 
<a name="l00361"></a>00361     <span class="keywordflow">return</span> str;
<a name="l00362"></a>00362 }
<a name="l00363"></a>00363 
<a name="l00364"></a>00364 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00365"></a><a class="code" href="../../d0/de1/object_8c.html#a9e2095c762dfd7aa2710e49896687679">00365</a> <a class="code" href="../../db/d2e/intern_8h.html#acbb281bacf6b80f460143348e26142e9">rb_inspect</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00366"></a>00366 {
<a name="l00367"></a>00367     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#acae5350f5d539c4654e4e33690256a9f">rb_obj_as_string</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6a973fe624aa9aa9ba0cdeb6792d3187" title="Calls a method.">rb_funcall</a>(obj, <a class="code" href="../../d0/de1/object_8c.html#a1c40847cbc02b1ff39840107b2b5cda7">id_inspect</a>, 0, 0));
<a name="l00368"></a>00368 }
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00371"></a><a class="code" href="../../d0/de1/object_8c.html#a38460700e7fd3f61a88f21e351b4fd91">00371</a> <a class="code" href="../../d0/de1/object_8c.html#a38460700e7fd3f61a88f21e351b4fd91">inspect_i</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <span class="keywordtype">id</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> value, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> str)
<a name="l00372"></a>00372 {
<a name="l00373"></a>00373     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> str2;
<a name="l00374"></a>00374     <span class="keyword">const</span> <span class="keywordtype">char</span> *ivname;
<a name="l00375"></a>00375 
<a name="l00376"></a>00376     <span class="comment">/* need not to show internal data */</span>
<a name="l00377"></a>00377     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad07df58de9895cbc33c10f02540d2d4d">CLASS_OF</a>(value) == 0) <span class="keywordflow">return</span> <a class="code" href="../../dd/d24/st_8h.html#a0c6a172fd99de7928916e65034ed8b1fac99fc55c7f355bf9071739a4bc2ea139">ST_CONTINUE</a>;
<a name="l00378"></a>00378     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d11/ripper_8c.html#a80c6077ae7854872440eaa76a512786f">rb_is_instance_id</a>(<span class="keywordtype">id</span>)) <span class="keywordflow">return</span> <a class="code" href="../../dd/d24/st_8h.html#a0c6a172fd99de7928916e65034ed8b1fac99fc55c7f355bf9071739a4bc2ea139">ST_CONTINUE</a>;
<a name="l00379"></a>00379     <span class="keywordflow">if</span> (<a class="code" href="../../d8/df4/generator_8h.html#aa0c7097c0d82c8372072fbab5a604e39">RSTRING_PTR</a>(str)[0] == <span class="charliteral">&apos;-&apos;</span>) { <span class="comment">/* first element */</span>
<a name="l00380"></a>00380         <a class="code" href="../../d8/df4/generator_8h.html#aa0c7097c0d82c8372072fbab5a604e39">RSTRING_PTR</a>(str)[0] = <span class="charliteral">&apos;#&apos;</span>;
<a name="l00381"></a>00381         <a class="code" href="../../db/d2e/intern_8h.html#a5bd27db3e38af6131db24321c7cf9ec6">rb_str_cat2</a>(str, <span class="stringliteral">&quot; &quot;</span>);
<a name="l00382"></a>00382     }
<a name="l00383"></a>00383     <span class="keywordflow">else</span> {
<a name="l00384"></a>00384         <a class="code" href="../../db/d2e/intern_8h.html#a5bd27db3e38af6131db24321c7cf9ec6">rb_str_cat2</a>(str, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l00385"></a>00385     }
<a name="l00386"></a>00386     ivname = <a class="code" href="../../d5/d11/ripper_8c.html#a877bc58c495643fcf49dc64c44631e72">rb_id2name</a>(<span class="keywordtype">id</span>);
<a name="l00387"></a>00387     <a class="code" href="../../db/d2e/intern_8h.html#a5bd27db3e38af6131db24321c7cf9ec6">rb_str_cat2</a>(str, ivname);
<a name="l00388"></a>00388     <a class="code" href="../../db/d2e/intern_8h.html#a5bd27db3e38af6131db24321c7cf9ec6">rb_str_cat2</a>(str, <span class="stringliteral">&quot;=&quot;</span>);
<a name="l00389"></a>00389     str2 = <a class="code" href="../../db/d2e/intern_8h.html#acbb281bacf6b80f460143348e26142e9">rb_inspect</a>(value);
<a name="l00390"></a>00390     <a class="code" href="../../db/d2e/intern_8h.html#ab592dcd9e193dea76fb0ff58b5d907e4">rb_str_append</a>(str, str2);
<a name="l00391"></a>00391     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3bf9ab455a1e0e3e8cfc6ebabd8f12df">OBJ_INFECT</a>(str, str2);
<a name="l00392"></a>00392 
<a name="l00393"></a>00393     <span class="keywordflow">return</span> <a class="code" href="../../dd/d24/st_8h.html#a0c6a172fd99de7928916e65034ed8b1fac99fc55c7f355bf9071739a4bc2ea139">ST_CONTINUE</a>;
<a name="l00394"></a>00394 }
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00397"></a><a class="code" href="../../d0/de1/object_8c.html#af8130cd5ec691e4cefb9368d44a837cc">00397</a> <a class="code" href="../../d0/de1/object_8c.html#af8130cd5ec691e4cefb9368d44a837cc">inspect_obj</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> str, <span class="keywordtype">int</span> <a class="code" href="../../d9/df5/date__strptime_8c.html#a554631207e429ff3f75bc8bacf3806d4">recur</a>)
<a name="l00398"></a>00398 {
<a name="l00399"></a>00399     <span class="keywordflow">if</span> (recur) {
<a name="l00400"></a>00400         <a class="code" href="../../db/d2e/intern_8h.html#a5bd27db3e38af6131db24321c7cf9ec6">rb_str_cat2</a>(str, <span class="stringliteral">&quot; ...&quot;</span>);
<a name="l00401"></a>00401     }
<a name="l00402"></a>00402     <span class="keywordflow">else</span> {
<a name="l00403"></a>00403         <a class="code" href="../../db/d2e/intern_8h.html#ac9dbbbd406ed22273c8d27f2f833fe3c">rb_ivar_foreach</a>(obj, <a class="code" href="../../d0/de1/object_8c.html#a38460700e7fd3f61a88f21e351b4fd91">inspect_i</a>, str);
<a name="l00404"></a>00404     }
<a name="l00405"></a>00405     <a class="code" href="../../db/d2e/intern_8h.html#a5bd27db3e38af6131db24321c7cf9ec6">rb_str_cat2</a>(str, <span class="stringliteral">&quot;&gt;&quot;</span>);
<a name="l00406"></a>00406     <a class="code" href="../../d8/df4/generator_8h.html#aa0c7097c0d82c8372072fbab5a604e39">RSTRING_PTR</a>(str)[0] = <span class="charliteral">&apos;#&apos;</span>;
<a name="l00407"></a>00407     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3bf9ab455a1e0e3e8cfc6ebabd8f12df">OBJ_INFECT</a>(str, obj);
<a name="l00408"></a>00408 
<a name="l00409"></a>00409     <span class="keywordflow">return</span> str;
<a name="l00410"></a>00410 }
<a name="l00411"></a>00411 
<a name="l00412"></a>00412 <span class="comment">/*</span>
<a name="l00413"></a>00413 <span class="comment"> *  call-seq:</span>
<a name="l00414"></a>00414 <span class="comment"> *     obj.inspect   -&gt; string</span>
<a name="l00415"></a>00415 <span class="comment"> *</span>
<a name="l00416"></a>00416 <span class="comment"> *  Returns a string containing a human-readable representation of</span>
<a name="l00417"></a>00417 <span class="comment"> *  &lt;i&gt;obj&lt;/i&gt;. If not overridden and no instance variables, uses the</span>
<a name="l00418"></a>00418 <span class="comment"> *  &lt;code&gt;to_s&lt;/code&gt; method to generate the string.</span>
<a name="l00419"></a>00419 <span class="comment"> *  &lt;i&gt;obj&lt;/i&gt;.  If not overridden, uses the &lt;code&gt;to_s&lt;/code&gt; method to</span>
<a name="l00420"></a>00420 <span class="comment"> *  generate the string.</span>
<a name="l00421"></a>00421 <span class="comment"> *</span>
<a name="l00422"></a>00422 <span class="comment"> *     [ 1, 2, 3..4, &apos;five&apos; ].inspect   #=&gt; &quot;[1, 2, 3..4, \&quot;five\&quot;]&quot;</span>
<a name="l00423"></a>00423 <span class="comment"> *     Time.new.inspect                 #=&gt; &quot;2008-03-08 19:43:39 +0900&quot;</span>
<a name="l00424"></a>00424 <span class="comment"> */</span>
<a name="l00425"></a>00425 
<a name="l00426"></a>00426 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00427"></a><a class="code" href="../../d0/de1/object_8c.html#a05a04497b3b3dab050bed2548b8337ca">00427</a> <a class="code" href="../../d0/de1/object_8c.html#a05a04497b3b3dab050bed2548b8337ca">rb_obj_inspect</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00428"></a>00428 {
<a name="l00429"></a>00429     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(obj) == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#abed71c72d5c3083041d52ad25630270e">T_OBJECT</a> &amp;&amp; <a class="code" href="../../d7/d19/group__defmethod.html#ga07effd5839c844d927a3261412203061">rb_obj_basic_to_s_p</a>(obj)) {
<a name="l00430"></a>00430         <span class="keywordtype">int</span> has_ivar = 0;
<a name="l00431"></a>00431         <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *ptr = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#adfa7e6250c07b5504c39bf163892462d">ROBJECT_IVPTR</a>(obj);
<a name="l00432"></a>00432         <span class="keywordtype">long</span> <a class="code" href="../../d3/d15/name2ctype_8h.html#aed1cc4dca5d94cb452f79691f54f7423">len</a> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afd3b3bb33823e7f8e0196f56e3870dd4">ROBJECT_NUMIV</a>(obj);
<a name="l00433"></a>00433         <span class="keywordtype">long</span> i;
<a name="l00434"></a>00434 
<a name="l00435"></a>00435         <span class="keywordflow">for</span> (i = 0; i &lt; len; i++) {
<a name="l00436"></a>00436             <span class="keywordflow">if</span> (ptr[i] != <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2edf6990280eb2637623ccd421dee4f0">Qundef</a>) {
<a name="l00437"></a>00437                 has_ivar = 1;
<a name="l00438"></a>00438                 <span class="keywordflow">break</span>;
<a name="l00439"></a>00439             }
<a name="l00440"></a>00440         }
<a name="l00441"></a>00441 
<a name="l00442"></a>00442         <span class="keywordflow">if</span> (has_ivar) {
<a name="l00443"></a>00443             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> str;
<a name="l00444"></a>00444             <span class="keyword">const</span> <span class="keywordtype">char</span> *c = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(obj);
<a name="l00445"></a>00445 
<a name="l00446"></a>00446             str = <a class="code" href="../../d9/d2d/sprintf_8c.html#a05c34a91ab36c6a463c861df47808fae">rb_sprintf</a>(<span class="stringliteral">&quot;-&lt;%s:%p&quot;</span>, c, (<span class="keywordtype">void</span>*)obj);
<a name="l00447"></a>00447             <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#ae2fc1974c9016956fcb6152effb4fdaa">rb_exec_recursive</a>(<a class="code" href="../../d0/de1/object_8c.html#af8130cd5ec691e4cefb9368d44a837cc">inspect_obj</a>, obj, str);
<a name="l00448"></a>00448         }
<a name="l00449"></a>00449         <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a24afa0db60cabea2fb47545b1ff9edf4">rb_any_to_s</a>(obj);
<a name="l00450"></a>00450     }
<a name="l00451"></a>00451     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6a973fe624aa9aa9ba0cdeb6792d3187" title="Calls a method.">rb_funcall</a>(obj, <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;to_s&quot;</span>), 0, 0);
<a name="l00452"></a>00452 }
<a name="l00453"></a>00453 
<a name="l00454"></a>00454 
<a name="l00455"></a>00455 <span class="comment">/*</span>
<a name="l00456"></a>00456 <span class="comment"> *  call-seq:</span>
<a name="l00457"></a>00457 <span class="comment"> *     obj.instance_of?(class)    -&gt; true or false</span>
<a name="l00458"></a>00458 <span class="comment"> *</span>
<a name="l00459"></a>00459 <span class="comment"> *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;obj&lt;/i&gt; is an instance of the given</span>
<a name="l00460"></a>00460 <span class="comment"> *  class. See also &lt;code&gt;Object#kind_of?&lt;/code&gt;.</span>
<a name="l00461"></a>00461 <span class="comment"> *</span>
<a name="l00462"></a>00462 <span class="comment"> *     class A;     end</span>
<a name="l00463"></a>00463 <span class="comment"> *     class B &lt; A; end</span>
<a name="l00464"></a>00464 <span class="comment"> *     class C &lt; B; end</span>
<a name="l00465"></a>00465 <span class="comment"> *</span>
<a name="l00466"></a>00466 <span class="comment"> *     b = B.new</span>
<a name="l00467"></a>00467 <span class="comment"> *     b.instance_of? A   #=&gt; false</span>
<a name="l00468"></a>00468 <span class="comment"> *     b.instance_of? B   #=&gt; true</span>
<a name="l00469"></a>00469 <span class="comment"> *     b.instance_of? C   #=&gt; false</span>
<a name="l00470"></a>00470 <span class="comment"> */</span>
<a name="l00471"></a>00471 
<a name="l00472"></a>00472 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00473"></a><a class="code" href="../../d0/de1/object_8c.html#ab1b70414d07e7de585f47ee50a64a86c">00473</a> <a class="code" href="../../db/d2e/intern_8h.html#a04d0862c584bd79f66702d353af335af">rb_obj_is_instance_of</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> c)
<a name="l00474"></a>00474 {
<a name="l00475"></a>00475     <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(c)) {
<a name="l00476"></a>00476       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6cdc7dfe8f84777325da08a96ae5f795">T_MODULE</a>:
<a name="l00477"></a>00477       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad04c63d175774c6d6e7dfaf0f0a982c9">T_CLASS</a>:
<a name="l00478"></a>00478       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a82c8c4569748b9645c958b9eaeaabb81">T_ICLASS</a>:
<a name="l00479"></a>00479         <span class="keywordflow">break</span>;
<a name="l00480"></a>00480       <span class="keywordflow">default</span>:
<a name="l00481"></a>00481         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;class or module required&quot;</span>);
<a name="l00482"></a>00482     }
<a name="l00483"></a>00483 
<a name="l00484"></a>00484     <span class="keywordflow">if</span> (<a class="code" href="../../db/d2e/intern_8h.html#ac2be7243e739fa8f5dce6be0c8ee5f6d">rb_obj_class</a>(obj) == c) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00485"></a>00485     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l00486"></a>00486 }
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 
<a name="l00489"></a>00489 <span class="comment">/*</span>
<a name="l00490"></a>00490 <span class="comment"> *  call-seq:</span>
<a name="l00491"></a>00491 <span class="comment"> *     obj.is_a?(class)       -&gt; true or false</span>
<a name="l00492"></a>00492 <span class="comment"> *     obj.kind_of?(class)    -&gt; true or false</span>
<a name="l00493"></a>00493 <span class="comment"> *</span>
<a name="l00494"></a>00494 <span class="comment"> *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;class&lt;/i&gt; is the class of</span>
<a name="l00495"></a>00495 <span class="comment"> *  &lt;i&gt;obj&lt;/i&gt;, or if &lt;i&gt;class&lt;/i&gt; is one of the superclasses of</span>
<a name="l00496"></a>00496 <span class="comment"> *  &lt;i&gt;obj&lt;/i&gt; or modules included in &lt;i&gt;obj&lt;/i&gt;.</span>
<a name="l00497"></a>00497 <span class="comment"> *</span>
<a name="l00498"></a>00498 <span class="comment"> *     module M;    end</span>
<a name="l00499"></a>00499 <span class="comment"> *     class A</span>
<a name="l00500"></a>00500 <span class="comment"> *       include M</span>
<a name="l00501"></a>00501 <span class="comment"> *     end</span>
<a name="l00502"></a>00502 <span class="comment"> *     class B &lt; A; end</span>
<a name="l00503"></a>00503 <span class="comment"> *     class C &lt; B; end</span>
<a name="l00504"></a>00504 <span class="comment"> *</span>
<a name="l00505"></a>00505 <span class="comment"> *     b = B.new</span>
<a name="l00506"></a>00506 <span class="comment"> *     b.is_a? A          #=&gt; true</span>
<a name="l00507"></a>00507 <span class="comment"> *     b.is_a? B          #=&gt; true</span>
<a name="l00508"></a>00508 <span class="comment"> *     b.is_a? C          #=&gt; false</span>
<a name="l00509"></a>00509 <span class="comment"> *     b.is_a? M          #=&gt; true</span>
<a name="l00510"></a>00510 <span class="comment"> *</span>
<a name="l00511"></a>00511 <span class="comment"> *     b.kind_of? A       #=&gt; true</span>
<a name="l00512"></a>00512 <span class="comment"> *     b.kind_of? B       #=&gt; true</span>
<a name="l00513"></a>00513 <span class="comment"> *     b.kind_of? C       #=&gt; false</span>
<a name="l00514"></a>00514 <span class="comment"> *     b.kind_of? M       #=&gt; true</span>
<a name="l00515"></a>00515 <span class="comment"> */</span>
<a name="l00516"></a>00516 
<a name="l00517"></a>00517 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00518"></a><a class="code" href="../../d0/de1/object_8c.html#acf554ed5c1aab2060cff44fad406c5fc">00518</a> <a class="code" href="../../db/d2e/intern_8h.html#a6e65fc310dd65ebd60d68ada991da6f6">rb_obj_is_kind_of</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> c)
<a name="l00519"></a>00519 {
<a name="l00520"></a>00520     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> cl = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad07df58de9895cbc33c10f02540d2d4d">CLASS_OF</a>(obj);
<a name="l00521"></a>00521 
<a name="l00522"></a>00522     <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(c)) {
<a name="l00523"></a>00523       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6cdc7dfe8f84777325da08a96ae5f795">T_MODULE</a>:
<a name="l00524"></a>00524       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad04c63d175774c6d6e7dfaf0f0a982c9">T_CLASS</a>:
<a name="l00525"></a>00525       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a82c8c4569748b9645c958b9eaeaabb81">T_ICLASS</a>:
<a name="l00526"></a>00526         <span class="keywordflow">break</span>;
<a name="l00527"></a>00527 
<a name="l00528"></a>00528       <span class="keywordflow">default</span>:
<a name="l00529"></a>00529         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;class or module required&quot;</span>);
<a name="l00530"></a>00530     }
<a name="l00531"></a>00531 
<a name="l00532"></a>00532     <span class="keywordflow">while</span> (cl) {
<a name="l00533"></a>00533         <span class="keywordflow">if</span> (cl == c || <a class="code" href="../../d3/d09/ripper_8y.html#ab59ea80cdf15f3f19bbae0346314c9ad">RCLASS_M_TBL</a>(cl) == <a class="code" href="../../d3/d09/ripper_8y.html#ab59ea80cdf15f3f19bbae0346314c9ad">RCLASS_M_TBL</a>(c))
<a name="l00534"></a>00534             <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00535"></a>00535         cl = <a class="code" href="../../d3/d09/ripper_8y.html#a19d17315b6b34045cdffec9912342b91">RCLASS_SUPER</a>(cl);
<a name="l00536"></a>00536     }
<a name="l00537"></a>00537     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l00538"></a>00538 }
<a name="l00539"></a>00539 
<a name="l00540"></a>00540 
<a name="l00541"></a>00541 <span class="comment">/*</span>
<a name="l00542"></a>00542 <span class="comment"> *  call-seq:</span>
<a name="l00543"></a>00543 <span class="comment"> *     obj.tap{|x|...}    -&gt; obj</span>
<a name="l00544"></a>00544 <span class="comment"> *</span>
<a name="l00545"></a>00545 <span class="comment"> *  Yields &lt;code&gt;x&lt;/code&gt; to the block, and then returns &lt;code&gt;x&lt;/code&gt;.</span>
<a name="l00546"></a>00546 <span class="comment"> *  The primary purpose of this method is to &quot;tap into&quot; a method chain,</span>
<a name="l00547"></a>00547 <span class="comment"> *  in order to perform operations on intermediate results within the chain.</span>
<a name="l00548"></a>00548 <span class="comment"> *</span>
<a name="l00549"></a>00549 <span class="comment"> *      (1..10)                .tap {|x| puts &quot;original: #{x.inspect}&quot;}</span>
<a name="l00550"></a>00550 <span class="comment"> *        .to_a                .tap {|x| puts &quot;array: #{x.inspect}&quot;}</span>
<a name="l00551"></a>00551 <span class="comment"> *        .select {|x| x%2==0} .tap {|x| puts &quot;evens: #{x.inspect}&quot;}</span>
<a name="l00552"></a>00552 <span class="comment"> *        .map { |x| x*x }     .tap {|x| puts &quot;squares: #{x.inspect}&quot;}</span>
<a name="l00553"></a>00553 <span class="comment"> *</span>
<a name="l00554"></a>00554 <span class="comment"> */</span>
<a name="l00555"></a>00555 
<a name="l00556"></a>00556 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00557"></a><a class="code" href="../../d0/de1/object_8c.html#a646c7172c3b68d60df1c477bedc861c7">00557</a> <a class="code" href="../../d0/de1/object_8c.html#a646c7172c3b68d60df1c477bedc861c7">rb_obj_tap</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00558"></a>00558 {
<a name="l00559"></a>00559     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ae6bd0c4ea4db971ebd569ca8f05c6b4a">rb_yield</a>(obj);
<a name="l00560"></a>00560     <span class="keywordflow">return</span> obj;
<a name="l00561"></a>00561 }
<a name="l00562"></a>00562 
<a name="l00563"></a>00563 
<a name="l00564"></a>00564 <span class="comment">/*</span>
<a name="l00565"></a>00565 <span class="comment"> * Document-method: inherited</span>
<a name="l00566"></a>00566 <span class="comment"> *</span>
<a name="l00567"></a>00567 <span class="comment"> * call-seq:</span>
<a name="l00568"></a>00568 <span class="comment"> *    inherited(subclass)</span>
<a name="l00569"></a>00569 <span class="comment"> *</span>
<a name="l00570"></a>00570 <span class="comment"> * Callback invoked whenever a subclass of the current class is created.</span>
<a name="l00571"></a>00571 <span class="comment"> *</span>
<a name="l00572"></a>00572 <span class="comment"> * Example:</span>
<a name="l00573"></a>00573 <span class="comment"> *</span>
<a name="l00574"></a>00574 <span class="comment"> *    class Foo</span>
<a name="l00575"></a>00575 <span class="comment"> *       def self.inherited(subclass)</span>
<a name="l00576"></a>00576 <span class="comment"> *          puts &quot;New subclass: #{subclass}&quot;</span>
<a name="l00577"></a>00577 <span class="comment"> *       end</span>
<a name="l00578"></a>00578 <span class="comment"> *    end</span>
<a name="l00579"></a>00579 <span class="comment"> *</span>
<a name="l00580"></a>00580 <span class="comment"> *    class Bar &lt; Foo</span>
<a name="l00581"></a>00581 <span class="comment"> *    end</span>
<a name="l00582"></a>00582 <span class="comment"> *</span>
<a name="l00583"></a>00583 <span class="comment"> *    class Baz &lt; Bar</span>
<a name="l00584"></a>00584 <span class="comment"> *    end</span>
<a name="l00585"></a>00585 <span class="comment"> *</span>
<a name="l00586"></a>00586 <span class="comment"> * produces:</span>
<a name="l00587"></a>00587 <span class="comment"> *</span>
<a name="l00588"></a>00588 <span class="comment"> *    New subclass: Bar</span>
<a name="l00589"></a>00589 <span class="comment"> *    New subclass: Baz</span>
<a name="l00590"></a>00590 <span class="comment"> */</span>
<a name="l00591"></a>00591 
<a name="l00592"></a>00592 <span class="comment">/* Document-method: method_added</span>
<a name="l00593"></a>00593 <span class="comment"> *</span>
<a name="l00594"></a>00594 <span class="comment"> * call-seq:</span>
<a name="l00595"></a>00595 <span class="comment"> *   method_added(method_name)</span>
<a name="l00596"></a>00596 <span class="comment"> *</span>
<a name="l00597"></a>00597 <span class="comment"> * Invoked as a callback whenever an instance method is added to the</span>
<a name="l00598"></a>00598 <span class="comment"> * receiver.</span>
<a name="l00599"></a>00599 <span class="comment"> *</span>
<a name="l00600"></a>00600 <span class="comment"> *   module Chatty</span>
<a name="l00601"></a>00601 <span class="comment"> *     def self.method_added(method_name)</span>
<a name="l00602"></a>00602 <span class="comment"> *       puts &quot;Adding #{method_name.inspect}&quot;</span>
<a name="l00603"></a>00603 <span class="comment"> *     end</span>
<a name="l00604"></a>00604 <span class="comment"> *     def self.some_class_method() end</span>
<a name="l00605"></a>00605 <span class="comment"> *     def some_instance_method() end</span>
<a name="l00606"></a>00606 <span class="comment"> *   end</span>
<a name="l00607"></a>00607 <span class="comment"> *</span>
<a name="l00608"></a>00608 <span class="comment"> * produces:</span>
<a name="l00609"></a>00609 <span class="comment"> *</span>
<a name="l00610"></a>00610 <span class="comment"> *   Adding :some_instance_method</span>
<a name="l00611"></a>00611 <span class="comment"> *</span>
<a name="l00612"></a>00612 <span class="comment"> */</span>
<a name="l00613"></a>00613 
<a name="l00614"></a>00614 <span class="comment">/* Document-method: method_removed</span>
<a name="l00615"></a>00615 <span class="comment"> *</span>
<a name="l00616"></a>00616 <span class="comment"> * call-seq:</span>
<a name="l00617"></a>00617 <span class="comment"> *   method_removed(method_name)</span>
<a name="l00618"></a>00618 <span class="comment"> *</span>
<a name="l00619"></a>00619 <span class="comment"> * Invoked as a callback whenever an instance method is removed from the</span>
<a name="l00620"></a>00620 <span class="comment"> * receiver.</span>
<a name="l00621"></a>00621 <span class="comment"> *</span>
<a name="l00622"></a>00622 <span class="comment"> *   module Chatty</span>
<a name="l00623"></a>00623 <span class="comment"> *     def self.method_removed(method_name)</span>
<a name="l00624"></a>00624 <span class="comment"> *       puts &quot;Removing #{method_name.inspect}&quot;</span>
<a name="l00625"></a>00625 <span class="comment"> *     end</span>
<a name="l00626"></a>00626 <span class="comment"> *     def self.some_class_method() end</span>
<a name="l00627"></a>00627 <span class="comment"> *     def some_instance_method() end</span>
<a name="l00628"></a>00628 <span class="comment"> *     class &lt;&lt; self</span>
<a name="l00629"></a>00629 <span class="comment"> *       remove_method :some_class_method</span>
<a name="l00630"></a>00630 <span class="comment"> *     end</span>
<a name="l00631"></a>00631 <span class="comment"> *     remove_method :some_instance_method</span>
<a name="l00632"></a>00632 <span class="comment"> *   end</span>
<a name="l00633"></a>00633 <span class="comment"> *</span>
<a name="l00634"></a>00634 <span class="comment"> * produces:</span>
<a name="l00635"></a>00635 <span class="comment"> *</span>
<a name="l00636"></a>00636 <span class="comment"> *   Removing :some_instance_method</span>
<a name="l00637"></a>00637 <span class="comment"> *</span>
<a name="l00638"></a>00638 <span class="comment"> */</span>
<a name="l00639"></a>00639 
<a name="l00640"></a>00640 <span class="comment">/*</span>
<a name="l00641"></a>00641 <span class="comment"> * Document-method: singleton_method_added</span>
<a name="l00642"></a>00642 <span class="comment"> *</span>
<a name="l00643"></a>00643 <span class="comment"> *  call-seq:</span>
<a name="l00644"></a>00644 <span class="comment"> *     singleton_method_added(symbol)</span>
<a name="l00645"></a>00645 <span class="comment"> *</span>
<a name="l00646"></a>00646 <span class="comment"> *  Invoked as a callback whenever a singleton method is added to the</span>
<a name="l00647"></a>00647 <span class="comment"> *  receiver.</span>
<a name="l00648"></a>00648 <span class="comment"> *</span>
<a name="l00649"></a>00649 <span class="comment"> *     module Chatty</span>
<a name="l00650"></a>00650 <span class="comment"> *       def Chatty.singleton_method_added(id)</span>
<a name="l00651"></a>00651 <span class="comment"> *         puts &quot;Adding #{id.id2name}&quot;</span>
<a name="l00652"></a>00652 <span class="comment"> *       end</span>
<a name="l00653"></a>00653 <span class="comment"> *       def self.one()     end</span>
<a name="l00654"></a>00654 <span class="comment"> *       def two()          end</span>
<a name="l00655"></a>00655 <span class="comment"> *       def Chatty.three() end</span>
<a name="l00656"></a>00656 <span class="comment"> *     end</span>
<a name="l00657"></a>00657 <span class="comment"> *</span>
<a name="l00658"></a>00658 <span class="comment"> *  &lt;em&gt;produces:&lt;/em&gt;</span>
<a name="l00659"></a>00659 <span class="comment"> *</span>
<a name="l00660"></a>00660 <span class="comment"> *     Adding singleton_method_added</span>
<a name="l00661"></a>00661 <span class="comment"> *     Adding one</span>
<a name="l00662"></a>00662 <span class="comment"> *     Adding three</span>
<a name="l00663"></a>00663 <span class="comment"> *</span>
<a name="l00664"></a>00664 <span class="comment"> */</span>
<a name="l00665"></a>00665 
<a name="l00666"></a>00666 <span class="comment">/*</span>
<a name="l00667"></a>00667 <span class="comment"> * Document-method: singleton_method_removed</span>
<a name="l00668"></a>00668 <span class="comment"> *</span>
<a name="l00669"></a>00669 <span class="comment"> *  call-seq:</span>
<a name="l00670"></a>00670 <span class="comment"> *     singleton_method_removed(symbol)</span>
<a name="l00671"></a>00671 <span class="comment"> *</span>
<a name="l00672"></a>00672 <span class="comment"> *  Invoked as a callback whenever a singleton method is removed from</span>
<a name="l00673"></a>00673 <span class="comment"> *  the receiver.</span>
<a name="l00674"></a>00674 <span class="comment"> *</span>
<a name="l00675"></a>00675 <span class="comment"> *     module Chatty</span>
<a name="l00676"></a>00676 <span class="comment"> *       def Chatty.singleton_method_removed(id)</span>
<a name="l00677"></a>00677 <span class="comment"> *         puts &quot;Removing #{id.id2name}&quot;</span>
<a name="l00678"></a>00678 <span class="comment"> *       end</span>
<a name="l00679"></a>00679 <span class="comment"> *       def self.one()     end</span>
<a name="l00680"></a>00680 <span class="comment"> *       def two()          end</span>
<a name="l00681"></a>00681 <span class="comment"> *       def Chatty.three() end</span>
<a name="l00682"></a>00682 <span class="comment"> *       class &lt;&lt; self</span>
<a name="l00683"></a>00683 <span class="comment"> *         remove_method :three</span>
<a name="l00684"></a>00684 <span class="comment"> *         remove_method :one</span>
<a name="l00685"></a>00685 <span class="comment"> *       end</span>
<a name="l00686"></a>00686 <span class="comment"> *     end</span>
<a name="l00687"></a>00687 <span class="comment"> *</span>
<a name="l00688"></a>00688 <span class="comment"> *  &lt;em&gt;produces:&lt;/em&gt;</span>
<a name="l00689"></a>00689 <span class="comment"> *</span>
<a name="l00690"></a>00690 <span class="comment"> *     Removing three</span>
<a name="l00691"></a>00691 <span class="comment"> *     Removing one</span>
<a name="l00692"></a>00692 <span class="comment"> */</span>
<a name="l00693"></a>00693 
<a name="l00694"></a>00694 <span class="comment">/*</span>
<a name="l00695"></a>00695 <span class="comment"> * Document-method: singleton_method_undefined</span>
<a name="l00696"></a>00696 <span class="comment"> *</span>
<a name="l00697"></a>00697 <span class="comment"> *  call-seq:</span>
<a name="l00698"></a>00698 <span class="comment"> *     singleton_method_undefined(symbol)</span>
<a name="l00699"></a>00699 <span class="comment"> *</span>
<a name="l00700"></a>00700 <span class="comment"> *  Invoked as a callback whenever a singleton method is undefined in</span>
<a name="l00701"></a>00701 <span class="comment"> *  the receiver.</span>
<a name="l00702"></a>00702 <span class="comment"> *</span>
<a name="l00703"></a>00703 <span class="comment"> *     module Chatty</span>
<a name="l00704"></a>00704 <span class="comment"> *       def Chatty.singleton_method_undefined(id)</span>
<a name="l00705"></a>00705 <span class="comment"> *         puts &quot;Undefining #{id.id2name}&quot;</span>
<a name="l00706"></a>00706 <span class="comment"> *       end</span>
<a name="l00707"></a>00707 <span class="comment"> *       def Chatty.one()   end</span>
<a name="l00708"></a>00708 <span class="comment"> *       class &lt;&lt; self</span>
<a name="l00709"></a>00709 <span class="comment"> *          undef_method(:one)</span>
<a name="l00710"></a>00710 <span class="comment"> *       end</span>
<a name="l00711"></a>00711 <span class="comment"> *     end</span>
<a name="l00712"></a>00712 <span class="comment"> *</span>
<a name="l00713"></a>00713 <span class="comment"> *  &lt;em&gt;produces:&lt;/em&gt;</span>
<a name="l00714"></a>00714 <span class="comment"> *</span>
<a name="l00715"></a>00715 <span class="comment"> *     Undefining one</span>
<a name="l00716"></a>00716 <span class="comment"> */</span>
<a name="l00717"></a>00717 
<a name="l00718"></a>00718 
<a name="l00719"></a>00719 <span class="comment">/*</span>
<a name="l00720"></a>00720 <span class="comment"> * Document-method: included</span>
<a name="l00721"></a>00721 <span class="comment"> *</span>
<a name="l00722"></a>00722 <span class="comment"> * call-seq:</span>
<a name="l00723"></a>00723 <span class="comment"> *    included( othermod )</span>
<a name="l00724"></a>00724 <span class="comment"> *</span>
<a name="l00725"></a>00725 <span class="comment"> * Callback invoked whenever the receiver is included in another</span>
<a name="l00726"></a>00726 <span class="comment"> * module or class. This should be used in preference to</span>
<a name="l00727"></a>00727 <span class="comment"> * &lt;tt&gt;Module.append_features&lt;/tt&gt; if your code wants to perform some</span>
<a name="l00728"></a>00728 <span class="comment"> * action when a module is included in another.</span>
<a name="l00729"></a>00729 <span class="comment"> *</span>
<a name="l00730"></a>00730 <span class="comment"> *        module A</span>
<a name="l00731"></a>00731 <span class="comment"> *          def A.included(mod)</span>
<a name="l00732"></a>00732 <span class="comment"> *            puts &quot;#{self} included in #{mod}&quot;</span>
<a name="l00733"></a>00733 <span class="comment"> *          end</span>
<a name="l00734"></a>00734 <span class="comment"> *        end</span>
<a name="l00735"></a>00735 <span class="comment"> *        module Enumerable</span>
<a name="l00736"></a>00736 <span class="comment"> *          include A</span>
<a name="l00737"></a>00737 <span class="comment"> *        end</span>
<a name="l00738"></a>00738 <span class="comment"> */</span>
<a name="l00739"></a>00739 
<a name="l00740"></a>00740 <span class="comment">/*</span>
<a name="l00741"></a>00741 <span class="comment"> * Document-method: initialize</span>
<a name="l00742"></a>00742 <span class="comment"> *</span>
<a name="l00743"></a>00743 <span class="comment"> * call-seq:</span>
<a name="l00744"></a>00744 <span class="comment"> *    BasicObject.new</span>
<a name="l00745"></a>00745 <span class="comment"> *</span>
<a name="l00746"></a>00746 <span class="comment"> * Returns a new BasicObject.</span>
<a name="l00747"></a>00747 <span class="comment"> */</span>
<a name="l00748"></a>00748 
<a name="l00749"></a>00749 <span class="comment">/*</span>
<a name="l00750"></a>00750 <span class="comment"> * Not documented</span>
<a name="l00751"></a>00751 <span class="comment"> */</span>
<a name="l00752"></a>00752 
<a name="l00753"></a>00753 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00754"></a><a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">00754</a> <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>(<span class="keywordtype">void</span>)
<a name="l00755"></a>00755 {
<a name="l00756"></a>00756     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l00757"></a>00757 }
<a name="l00758"></a>00758 
<a name="l00759"></a>00759 <span class="comment">/*</span>
<a name="l00760"></a>00760 <span class="comment"> *  call-seq:</span>
<a name="l00761"></a>00761 <span class="comment"> *     obj.tainted?    -&gt; true or false</span>
<a name="l00762"></a>00762 <span class="comment"> *</span>
<a name="l00763"></a>00763 <span class="comment"> *  Returns &lt;code&gt;true&lt;/code&gt; if the object is tainted.</span>
<a name="l00764"></a>00764 <span class="comment"> */</span>
<a name="l00765"></a>00765 
<a name="l00766"></a>00766 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00767"></a><a class="code" href="../../d0/de1/object_8c.html#af52815003ad78032666450d9915e5c60">00767</a> <a class="code" href="../../db/d2e/intern_8h.html#afe2852d18f5b87e05b170e2c92fa37b1">rb_obj_tainted</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00768"></a>00768 {
<a name="l00769"></a>00769     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a621bc62b1fd82640c1078daf90e1c061">OBJ_TAINTED</a>(obj))
<a name="l00770"></a>00770         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00771"></a>00771     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l00772"></a>00772 }
<a name="l00773"></a>00773 
<a name="l00774"></a>00774 <span class="comment">/*</span>
<a name="l00775"></a>00775 <span class="comment"> *  call-seq:</span>
<a name="l00776"></a>00776 <span class="comment"> *     obj.taint -&gt; obj</span>
<a name="l00777"></a>00777 <span class="comment"> *</span>
<a name="l00778"></a>00778 <span class="comment"> *  Marks &lt;i&gt;obj&lt;/i&gt; as tainted---if the &lt;code&gt;$SAFE&lt;/code&gt; level is</span>
<a name="l00779"></a>00779 <span class="comment"> *  set appropriately, many method calls which might alter the running</span>
<a name="l00780"></a>00780 <span class="comment"> *  programs environment will refuse to accept tainted strings.</span>
<a name="l00781"></a>00781 <span class="comment"> */</span>
<a name="l00782"></a>00782 
<a name="l00783"></a>00783 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00784"></a><a class="code" href="../../d0/de1/object_8c.html#a07c251c8597146f58edea9b01d0dbf3e">00784</a> <a class="code" href="../../db/d2e/intern_8h.html#ac576fb80a2fb4fcc3f359f75d0daf2bd">rb_obj_taint</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00785"></a>00785 {
<a name="l00786"></a>00786     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a98b91af598acb64fe8497413ce498766">rb_secure</a>(4);
<a name="l00787"></a>00787     <span class="keywordflow">if</span> (!<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a621bc62b1fd82640c1078daf90e1c061">OBJ_TAINTED</a>(obj)) {
<a name="l00788"></a>00788         <a class="code" href="../../db/d2e/intern_8h.html#a372d6acb27d271ee4fc2e88c7022c485">rb_check_frozen</a>(obj);
<a name="l00789"></a>00789         <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afd75ea0cb81c17e76c73e593d1d8a860">OBJ_TAINT</a>(obj);
<a name="l00790"></a>00790     }
<a name="l00791"></a>00791     <span class="keywordflow">return</span> obj;
<a name="l00792"></a>00792 }
<a name="l00793"></a>00793 
<a name="l00794"></a>00794 
<a name="l00795"></a>00795 <span class="comment">/*</span>
<a name="l00796"></a>00796 <span class="comment"> *  call-seq:</span>
<a name="l00797"></a>00797 <span class="comment"> *     obj.untaint    -&gt; obj</span>
<a name="l00798"></a>00798 <span class="comment"> *</span>
<a name="l00799"></a>00799 <span class="comment"> *  Removes the taint from &lt;i&gt;obj&lt;/i&gt;.</span>
<a name="l00800"></a>00800 <span class="comment"> */</span>
<a name="l00801"></a>00801 
<a name="l00802"></a>00802 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00803"></a><a class="code" href="../../d0/de1/object_8c.html#af202fee0c33dfc0fbf9319c6b41fca3b">00803</a> <a class="code" href="../../db/d2e/intern_8h.html#a1d7044e9051f0b3a38f4e81ce0c38612">rb_obj_untaint</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00804"></a>00804 {
<a name="l00805"></a>00805     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a98b91af598acb64fe8497413ce498766">rb_secure</a>(3);
<a name="l00806"></a>00806     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a621bc62b1fd82640c1078daf90e1c061">OBJ_TAINTED</a>(obj)) {
<a name="l00807"></a>00807         <a class="code" href="../../db/d2e/intern_8h.html#a372d6acb27d271ee4fc2e88c7022c485">rb_check_frozen</a>(obj);
<a name="l00808"></a>00808         <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6db7676c6cc4059a7cf021be34f53840">FL_UNSET</a>(obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aada6cee56453d224febc8a330e6bafdb">FL_TAINT</a>);
<a name="l00809"></a>00809     }
<a name="l00810"></a>00810     <span class="keywordflow">return</span> obj;
<a name="l00811"></a>00811 }
<a name="l00812"></a>00812 
<a name="l00813"></a>00813 <span class="comment">/*</span>
<a name="l00814"></a>00814 <span class="comment"> *  call-seq:</span>
<a name="l00815"></a>00815 <span class="comment"> *     obj.untrusted?    -&gt; true or false</span>
<a name="l00816"></a>00816 <span class="comment"> *</span>
<a name="l00817"></a>00817 <span class="comment"> *  Returns &lt;code&gt;true&lt;/code&gt; if the object is untrusted.</span>
<a name="l00818"></a>00818 <span class="comment"> */</span>
<a name="l00819"></a>00819 
<a name="l00820"></a>00820 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00821"></a><a class="code" href="../../d0/de1/object_8c.html#ae4a8011952ff7528525210151edce4c8">00821</a> <a class="code" href="../../db/d2e/intern_8h.html#a8587fc9dd28c586b9e61e6cacb5f715c">rb_obj_untrusted</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00822"></a>00822 {
<a name="l00823"></a>00823     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a981ef70b505df85f89fba2b5c2d8b462">OBJ_UNTRUSTED</a>(obj))
<a name="l00824"></a>00824         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00825"></a>00825     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l00826"></a>00826 }
<a name="l00827"></a>00827 
<a name="l00828"></a>00828 <span class="comment">/*</span>
<a name="l00829"></a>00829 <span class="comment"> *  call-seq:</span>
<a name="l00830"></a>00830 <span class="comment"> *     obj.untrust -&gt; obj</span>
<a name="l00831"></a>00831 <span class="comment"> *</span>
<a name="l00832"></a>00832 <span class="comment"> *  Marks &lt;i&gt;obj&lt;/i&gt; as untrusted.</span>
<a name="l00833"></a>00833 <span class="comment"> */</span>
<a name="l00834"></a>00834 
<a name="l00835"></a>00835 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00836"></a><a class="code" href="../../d0/de1/object_8c.html#ab13187d7f86f1a74b66757caf11eb0f7">00836</a> <a class="code" href="../../db/d2e/intern_8h.html#a7931b25e010d7aa79592c0fcb512ec98">rb_obj_untrust</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00837"></a>00837 {
<a name="l00838"></a>00838     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a98b91af598acb64fe8497413ce498766">rb_secure</a>(4);
<a name="l00839"></a>00839     <span class="keywordflow">if</span> (!<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a981ef70b505df85f89fba2b5c2d8b462">OBJ_UNTRUSTED</a>(obj)) {
<a name="l00840"></a>00840         <a class="code" href="../../db/d2e/intern_8h.html#a372d6acb27d271ee4fc2e88c7022c485">rb_check_frozen</a>(obj);
<a name="l00841"></a>00841         <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a745e96f2caf067a003f10eef662ea161">OBJ_UNTRUST</a>(obj);
<a name="l00842"></a>00842     }
<a name="l00843"></a>00843     <span class="keywordflow">return</span> obj;
<a name="l00844"></a>00844 }
<a name="l00845"></a>00845 
<a name="l00846"></a>00846 
<a name="l00847"></a>00847 <span class="comment">/*</span>
<a name="l00848"></a>00848 <span class="comment"> *  call-seq:</span>
<a name="l00849"></a>00849 <span class="comment"> *     obj.trust    -&gt; obj</span>
<a name="l00850"></a>00850 <span class="comment"> *</span>
<a name="l00851"></a>00851 <span class="comment"> *  Removes the untrusted mark from &lt;i&gt;obj&lt;/i&gt;.</span>
<a name="l00852"></a>00852 <span class="comment"> */</span>
<a name="l00853"></a>00853 
<a name="l00854"></a>00854 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00855"></a><a class="code" href="../../d0/de1/object_8c.html#a0ddaed1c782623f632656762cd5181ff">00855</a> <a class="code" href="../../db/d2e/intern_8h.html#a7e06116225523d17397b6d607977ddcf">rb_obj_trust</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00856"></a>00856 {
<a name="l00857"></a>00857     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a98b91af598acb64fe8497413ce498766">rb_secure</a>(3);
<a name="l00858"></a>00858     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a981ef70b505df85f89fba2b5c2d8b462">OBJ_UNTRUSTED</a>(obj)) {
<a name="l00859"></a>00859         <a class="code" href="../../db/d2e/intern_8h.html#a372d6acb27d271ee4fc2e88c7022c485">rb_check_frozen</a>(obj);
<a name="l00860"></a>00860         <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6db7676c6cc4059a7cf021be34f53840">FL_UNSET</a>(obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a286c82e73243296cb52dafb7dae7ea70">FL_UNTRUSTED</a>);
<a name="l00861"></a>00861     }
<a name="l00862"></a>00862     <span class="keywordflow">return</span> obj;
<a name="l00863"></a>00863 }
<a name="l00864"></a>00864 
<a name="l00865"></a>00865 <span class="keywordtype">void</span>
<a name="l00866"></a><a class="code" href="../../d0/de1/object_8c.html#aeb22f7b6342c6f9fff890750a3667fb2">00866</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6947af19f4d5a4e4546112cc35fa8557">rb_obj_infect</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj1, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l00867"></a>00867 {
<a name="l00868"></a>00868     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3bf9ab455a1e0e3e8cfc6ebabd8f12df">OBJ_INFECT</a>(obj1, obj2);
<a name="l00869"></a>00869 }
<a name="l00870"></a>00870 
<a name="l00871"></a><a class="code" href="../../d0/de1/object_8c.html#a45962ab395d07734bcfd6ad54b383817">00871</a> <span class="keyword">static</span> <a class="code" href="../../d0/ddd/structst__table.html">st_table</a> *<a class="code" href="../../d0/de1/object_8c.html#a45962ab395d07734bcfd6ad54b383817">immediate_frozen_tbl</a> = 0;
<a name="l00872"></a>00872 
<a name="l00873"></a>00873 <span class="comment">/*</span>
<a name="l00874"></a>00874 <span class="comment"> *  call-seq:</span>
<a name="l00875"></a>00875 <span class="comment"> *     obj.freeze    -&gt; obj</span>
<a name="l00876"></a>00876 <span class="comment"> *</span>
<a name="l00877"></a>00877 <span class="comment"> *  Prevents further modifications to &lt;i&gt;obj&lt;/i&gt;. A</span>
<a name="l00878"></a>00878 <span class="comment"> *  &lt;code&gt;RuntimeError&lt;/code&gt; will be raised if modification is attempted.</span>
<a name="l00879"></a>00879 <span class="comment"> *  There is no way to unfreeze a frozen object. See also</span>
<a name="l00880"></a>00880 <span class="comment"> *  &lt;code&gt;Object#frozen?&lt;/code&gt;.</span>
<a name="l00881"></a>00881 <span class="comment"> *</span>
<a name="l00882"></a>00882 <span class="comment"> *  This method returns self.</span>
<a name="l00883"></a>00883 <span class="comment"> *</span>
<a name="l00884"></a>00884 <span class="comment"> *     a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]</span>
<a name="l00885"></a>00885 <span class="comment"> *     a.freeze</span>
<a name="l00886"></a>00886 <span class="comment"> *     a &lt;&lt; &quot;z&quot;</span>
<a name="l00887"></a>00887 <span class="comment"> *</span>
<a name="l00888"></a>00888 <span class="comment"> *  &lt;em&gt;produces:&lt;/em&gt;</span>
<a name="l00889"></a>00889 <span class="comment"> *</span>
<a name="l00890"></a>00890 <span class="comment"> *     prog.rb:3:in `&lt;&lt;&apos;: can&apos;t modify frozen array (RuntimeError)</span>
<a name="l00891"></a>00891 <span class="comment"> *      from prog.rb:3</span>
<a name="l00892"></a>00892 <span class="comment"> */</span>
<a name="l00893"></a>00893 
<a name="l00894"></a>00894 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00895"></a><a class="code" href="../../d0/de1/object_8c.html#ad58afd32b21e85acfad9ba3a70ac0fcb">00895</a> <a class="code" href="../../db/d2e/intern_8h.html#a8ea3742679211f408cb5769de6cf0d46">rb_obj_freeze</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00896"></a>00896 {
<a name="l00897"></a>00897     <span class="keywordflow">if</span> (!<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a73db79f74bad2fb5258a2ae7ee6ef117">OBJ_FROZEN</a>(obj)) {
<a name="l00898"></a>00898         <span class="keywordflow">if</span> (<a class="code" href="../../d5/d9d/tcltklib_8c.html#a6f520624fabb8332dc98fd223491bf8d">rb_safe_level</a>() &gt;= 4 &amp;&amp; !<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a981ef70b505df85f89fba2b5c2d8b462">OBJ_UNTRUSTED</a>(obj)) {
<a name="l00899"></a>00899             <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#ae53f1d228c34c2a7715d7d39ab1a2991">rb_eSecurityError</a>, <span class="stringliteral">&quot;Insecure: can&apos;t freeze object&quot;</span>);
<a name="l00900"></a>00900         }
<a name="l00901"></a>00901         <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a7ae8fa209abf837905d53c1c4be7c75d">OBJ_FREEZE</a>(obj);
<a name="l00902"></a>00902         <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac59489a7ed093e29019047d13e79c009">SPECIAL_CONST_P</a>(obj)) {
<a name="l00903"></a>00903             <span class="keywordflow">if</span> (!immediate_frozen_tbl) {
<a name="l00904"></a>00904                 immediate_frozen_tbl = <a class="code" href="../../dd/d24/st_8h.html#a955c6e936b9681649ab9ffa4aa741949">st_init_numtable</a>();
<a name="l00905"></a>00905             }
<a name="l00906"></a>00906             <a class="code" href="../../dd/d24/st_8h.html#acdc42c01229b7537ea5a4c6965c7e47a">st_insert</a>(immediate_frozen_tbl, obj, (<a class="code" href="../../de/dce/syck_8h.html#a8a45dfe133c1fd041e1b902bda9e43e8">st_data_t</a>)<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>);
<a name="l00907"></a>00907         }
<a name="l00908"></a>00908     }
<a name="l00909"></a>00909     <span class="keywordflow">return</span> obj;
<a name="l00910"></a>00910 }
<a name="l00911"></a>00911 
<a name="l00912"></a>00912 <span class="comment">/*</span>
<a name="l00913"></a>00913 <span class="comment"> *  call-seq:</span>
<a name="l00914"></a>00914 <span class="comment"> *     obj.frozen?    -&gt; true or false</span>
<a name="l00915"></a>00915 <span class="comment"> *</span>
<a name="l00916"></a>00916 <span class="comment"> *  Returns the freeze status of &lt;i&gt;obj&lt;/i&gt;.</span>
<a name="l00917"></a>00917 <span class="comment"> *</span>
<a name="l00918"></a>00918 <span class="comment"> *     a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]</span>
<a name="l00919"></a>00919 <span class="comment"> *     a.freeze    #=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span>
<a name="l00920"></a>00920 <span class="comment"> *     a.frozen?   #=&gt; true</span>
<a name="l00921"></a>00921 <span class="comment"> */</span>
<a name="l00922"></a>00922 
<a name="l00923"></a>00923 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00924"></a><a class="code" href="../../d0/de1/object_8c.html#a6d967c0f84c618bc68dacd45fce2826e">00924</a> <a class="code" href="../../db/d2e/intern_8h.html#a32e1cf74b0c1e89537bc0fde175cff8c">rb_obj_frozen_p</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00925"></a>00925 {
<a name="l00926"></a>00926     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a73db79f74bad2fb5258a2ae7ee6ef117">OBJ_FROZEN</a>(obj)) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00927"></a>00927     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac59489a7ed093e29019047d13e79c009">SPECIAL_CONST_P</a>(obj)) {
<a name="l00928"></a>00928         <span class="keywordflow">if</span> (!immediate_frozen_tbl) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l00929"></a>00929         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d24/st_8h.html#a2d85287fbdaf7dcbc22d45e925c29fea">st_lookup</a>(immediate_frozen_tbl, obj, 0)) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l00930"></a>00930     }
<a name="l00931"></a>00931     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l00932"></a>00932 }
<a name="l00933"></a>00933 
<a name="l00934"></a>00934 
<a name="l00935"></a>00935 <span class="comment">/*</span>
<a name="l00936"></a>00936 <span class="comment"> * Document-class: NilClass</span>
<a name="l00937"></a>00937 <span class="comment"> *</span>
<a name="l00938"></a>00938 <span class="comment"> *  The class of the singleton object &lt;code&gt;nil&lt;/code&gt;.</span>
<a name="l00939"></a>00939 <span class="comment"> */</span>
<a name="l00940"></a>00940 
<a name="l00941"></a>00941 <span class="comment">/*</span>
<a name="l00942"></a>00942 <span class="comment"> *  call-seq:</span>
<a name="l00943"></a>00943 <span class="comment"> *     nil.to_i -&gt; 0</span>
<a name="l00944"></a>00944 <span class="comment"> *</span>
<a name="l00945"></a>00945 <span class="comment"> *  Always returns zero.</span>
<a name="l00946"></a>00946 <span class="comment"> *</span>
<a name="l00947"></a>00947 <span class="comment"> *     nil.to_i   #=&gt; 0</span>
<a name="l00948"></a>00948 <span class="comment"> */</span>
<a name="l00949"></a>00949 
<a name="l00950"></a>00950 
<a name="l00951"></a>00951 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00952"></a><a class="code" href="../../d0/de1/object_8c.html#a824b57deddc20d3dd0134196b91d11db">00952</a> <a class="code" href="../../d0/de1/object_8c.html#a824b57deddc20d3dd0134196b91d11db">nil_to_i</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00953"></a>00953 {
<a name="l00954"></a>00954     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac55fae7f748afd3fc2533d0d7d06cf5a">INT2FIX</a>(0);
<a name="l00955"></a>00955 }
<a name="l00956"></a>00956 
<a name="l00957"></a>00957 <span class="comment">/*</span>
<a name="l00958"></a>00958 <span class="comment"> *  call-seq:</span>
<a name="l00959"></a>00959 <span class="comment"> *     nil.to_f    -&gt; 0.0</span>
<a name="l00960"></a>00960 <span class="comment"> *</span>
<a name="l00961"></a>00961 <span class="comment"> *  Always returns zero.</span>
<a name="l00962"></a>00962 <span class="comment"> *</span>
<a name="l00963"></a>00963 <span class="comment"> *     nil.to_f   #=&gt; 0.0</span>
<a name="l00964"></a>00964 <span class="comment"> */</span>
<a name="l00965"></a>00965 
<a name="l00966"></a>00966 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00967"></a><a class="code" href="../../d0/de1/object_8c.html#ab5e2b97315b5b50a6cbdc52b1dcee354">00967</a> <a class="code" href="../../d0/de1/object_8c.html#ab5e2b97315b5b50a6cbdc52b1dcee354">nil_to_f</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00968"></a>00968 {
<a name="l00969"></a>00969     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4affd02e0f0fe17593cd4ecd78cf9064">DBL2NUM</a>(0.0);
<a name="l00970"></a>00970 }
<a name="l00971"></a>00971 
<a name="l00972"></a>00972 <span class="comment">/*</span>
<a name="l00973"></a>00973 <span class="comment"> *  call-seq:</span>
<a name="l00974"></a>00974 <span class="comment"> *     nil.to_s    -&gt; &quot;&quot;</span>
<a name="l00975"></a>00975 <span class="comment"> *</span>
<a name="l00976"></a>00976 <span class="comment"> *  Always returns the empty string.</span>
<a name="l00977"></a>00977 <span class="comment"> */</span>
<a name="l00978"></a>00978 
<a name="l00979"></a>00979 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00980"></a><a class="code" href="../../d0/de1/object_8c.html#a84909738106d0a77d92052812dedf46a">00980</a> <a class="code" href="../../d0/de1/object_8c.html#a84909738106d0a77d92052812dedf46a">nil_to_s</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00981"></a>00981 {
<a name="l00982"></a>00982     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#aed107a4eacd5f626b554d2d341b58bd5">rb_usascii_str_new</a>(0, 0);
<a name="l00983"></a>00983 }
<a name="l00984"></a>00984 
<a name="l00985"></a>00985 <span class="comment">/*</span>
<a name="l00986"></a>00986 <span class="comment"> * Document-method: to_a</span>
<a name="l00987"></a>00987 <span class="comment"> *</span>
<a name="l00988"></a>00988 <span class="comment"> *  call-seq:</span>
<a name="l00989"></a>00989 <span class="comment"> *     nil.to_a    -&gt; []</span>
<a name="l00990"></a>00990 <span class="comment"> *</span>
<a name="l00991"></a>00991 <span class="comment"> *  Always returns an empty array.</span>
<a name="l00992"></a>00992 <span class="comment"> *</span>
<a name="l00993"></a>00993 <span class="comment"> *     nil.to_a   #=&gt; []</span>
<a name="l00994"></a>00994 <span class="comment"> */</span>
<a name="l00995"></a>00995 
<a name="l00996"></a>00996 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l00997"></a><a class="code" href="../../d0/de1/object_8c.html#a78aa80b68dfecaa23f8c6adbffe8656c">00997</a> <a class="code" href="../../d0/de1/object_8c.html#a78aa80b68dfecaa23f8c6adbffe8656c">nil_to_a</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l00998"></a>00998 {
<a name="l00999"></a>00999     <span class="keywordflow">return</span> <a class="code" href="../../dc/dcc/array_8c.html#a43a7bd246935ab63c233b4ae34d61d75">rb_ary_new2</a>(0);
<a name="l01000"></a>01000 }
<a name="l01001"></a>01001 
<a name="l01002"></a>01002 <span class="comment">/*</span>
<a name="l01003"></a>01003 <span class="comment"> *  call-seq:</span>
<a name="l01004"></a>01004 <span class="comment"> *    nil.inspect  -&gt; &quot;nil&quot;</span>
<a name="l01005"></a>01005 <span class="comment"> *</span>
<a name="l01006"></a>01006 <span class="comment"> *  Always returns the string &quot;nil&quot;.</span>
<a name="l01007"></a>01007 <span class="comment"> */</span>
<a name="l01008"></a>01008 
<a name="l01009"></a>01009 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01010"></a><a class="code" href="../../d0/de1/object_8c.html#acbda49fb85b858e82cff88188f7e0519">01010</a> <a class="code" href="../../d0/de1/object_8c.html#acbda49fb85b858e82cff88188f7e0519">nil_inspect</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l01011"></a>01011 {
<a name="l01012"></a>01012     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a99895fce59be905b7c7f0a88bd32fa1f">rb_usascii_str_new2</a>(<span class="stringliteral">&quot;nil&quot;</span>);
<a name="l01013"></a>01013 }
<a name="l01014"></a>01014 
<a name="l01015"></a>01015 <span class="comment">/***********************************************************************</span>
<a name="l01016"></a>01016 <span class="comment"> *  Document-class: TrueClass</span>
<a name="l01017"></a>01017 <span class="comment"> *</span>
<a name="l01018"></a>01018 <span class="comment"> *  The global value &lt;code&gt;true&lt;/code&gt; is the only instance of class</span>
<a name="l01019"></a>01019 <span class="comment"> *  &lt;code&gt;TrueClass&lt;/code&gt; and represents a logically true value in</span>
<a name="l01020"></a>01020 <span class="comment"> *  boolean expressions. The class provides operators allowing</span>
<a name="l01021"></a>01021 <span class="comment"> *  &lt;code&gt;true&lt;/code&gt; to be used in logical expressions.</span>
<a name="l01022"></a>01022 <span class="comment"> */</span>
<a name="l01023"></a>01023 
<a name="l01024"></a>01024 
<a name="l01025"></a>01025 <span class="comment">/*</span>
<a name="l01026"></a>01026 <span class="comment"> * call-seq:</span>
<a name="l01027"></a>01027 <span class="comment"> *   true.to_s   -&gt;  &quot;true&quot;</span>
<a name="l01028"></a>01028 <span class="comment"> *</span>
<a name="l01029"></a>01029 <span class="comment"> * The string representation of &lt;code&gt;true&lt;/code&gt; is &quot;true&quot;.</span>
<a name="l01030"></a>01030 <span class="comment"> */</span>
<a name="l01031"></a>01031 
<a name="l01032"></a>01032 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01033"></a><a class="code" href="../../d0/de1/object_8c.html#a0da6d2668a3256c82dcd3d3186195d1f">01033</a> <a class="code" href="../../d0/de1/object_8c.html#a0da6d2668a3256c82dcd3d3186195d1f">true_to_s</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l01034"></a>01034 {
<a name="l01035"></a>01035     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a99895fce59be905b7c7f0a88bd32fa1f">rb_usascii_str_new2</a>(<span class="stringliteral">&quot;true&quot;</span>);
<a name="l01036"></a>01036 }
<a name="l01037"></a>01037 
<a name="l01038"></a>01038 
<a name="l01039"></a>01039 <span class="comment">/*</span>
<a name="l01040"></a>01040 <span class="comment"> *  call-seq:</span>
<a name="l01041"></a>01041 <span class="comment"> *     true &amp; obj    -&gt; true or false</span>
<a name="l01042"></a>01042 <span class="comment"> *</span>
<a name="l01043"></a>01043 <span class="comment"> *  And---Returns &lt;code&gt;false&lt;/code&gt; if &lt;i&gt;obj&lt;/i&gt; is</span>
<a name="l01044"></a>01044 <span class="comment"> *  &lt;code&gt;nil&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;, &lt;code&gt;true&lt;/code&gt; otherwise.</span>
<a name="l01045"></a>01045 <span class="comment"> */</span>
<a name="l01046"></a>01046 
<a name="l01047"></a>01047 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01048"></a><a class="code" href="../../d0/de1/object_8c.html#a2ee94dcf7b32444b67aed86054c2a82d">01048</a> <a class="code" href="../../d0/de1/object_8c.html#a2ee94dcf7b32444b67aed86054c2a82d">true_and</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l01049"></a>01049 {
<a name="l01050"></a>01050     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(obj2)?<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>:<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l01051"></a>01051 }
<a name="l01052"></a>01052 
<a name="l01053"></a>01053 <span class="comment">/*</span>
<a name="l01054"></a>01054 <span class="comment"> *  call-seq:</span>
<a name="l01055"></a>01055 <span class="comment"> *     true | obj   -&gt; true</span>
<a name="l01056"></a>01056 <span class="comment"> *</span>
<a name="l01057"></a>01057 <span class="comment"> *  Or---Returns &lt;code&gt;true&lt;/code&gt;. As &lt;i&gt;anObject&lt;/i&gt; is an argument to</span>
<a name="l01058"></a>01058 <span class="comment"> *  a method call, it is always evaluated; there is no short-circuit</span>
<a name="l01059"></a>01059 <span class="comment"> *  evaluation in this case.</span>
<a name="l01060"></a>01060 <span class="comment"> *</span>
<a name="l01061"></a>01061 <span class="comment"> *     true |  puts(&quot;or&quot;)</span>
<a name="l01062"></a>01062 <span class="comment"> *     true || puts(&quot;logical or&quot;)</span>
<a name="l01063"></a>01063 <span class="comment"> *</span>
<a name="l01064"></a>01064 <span class="comment"> *  &lt;em&gt;produces:&lt;/em&gt;</span>
<a name="l01065"></a>01065 <span class="comment"> *</span>
<a name="l01066"></a>01066 <span class="comment"> *     or</span>
<a name="l01067"></a>01067 <span class="comment"> */</span>
<a name="l01068"></a>01068 
<a name="l01069"></a>01069 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01070"></a><a class="code" href="../../d0/de1/object_8c.html#aa4cf7dcc7689b53baf2b32d5cafb64d7">01070</a> <a class="code" href="../../d0/de1/object_8c.html#aa4cf7dcc7689b53baf2b32d5cafb64d7">true_or</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l01071"></a>01071 {
<a name="l01072"></a>01072     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l01073"></a>01073 }
<a name="l01074"></a>01074 
<a name="l01075"></a>01075 
<a name="l01076"></a>01076 <span class="comment">/*</span>
<a name="l01077"></a>01077 <span class="comment"> *  call-seq:</span>
<a name="l01078"></a>01078 <span class="comment"> *     true ^ obj   -&gt; !obj</span>
<a name="l01079"></a>01079 <span class="comment"> *</span>
<a name="l01080"></a>01080 <span class="comment"> *  Exclusive Or---Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;obj&lt;/i&gt; is</span>
<a name="l01081"></a>01081 <span class="comment"> *  &lt;code&gt;nil&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;, &lt;code&gt;false&lt;/code&gt;</span>
<a name="l01082"></a>01082 <span class="comment"> *  otherwise.</span>
<a name="l01083"></a>01083 <span class="comment"> */</span>
<a name="l01084"></a>01084 
<a name="l01085"></a>01085 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01086"></a><a class="code" href="../../d0/de1/object_8c.html#a36ff2541229b1b1f80d000045687ff15">01086</a> <a class="code" href="../../d0/de1/object_8c.html#a36ff2541229b1b1f80d000045687ff15">true_xor</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l01087"></a>01087 {
<a name="l01088"></a>01088     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(obj2)?<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>:<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l01089"></a>01089 }
<a name="l01090"></a>01090 
<a name="l01091"></a>01091 
<a name="l01092"></a>01092 <span class="comment">/*</span>
<a name="l01093"></a>01093 <span class="comment"> *  Document-class: FalseClass</span>
<a name="l01094"></a>01094 <span class="comment"> *</span>
<a name="l01095"></a>01095 <span class="comment"> *  The global value &lt;code&gt;false&lt;/code&gt; is the only instance of class</span>
<a name="l01096"></a>01096 <span class="comment"> *  &lt;code&gt;FalseClass&lt;/code&gt; and represents a logically false value in</span>
<a name="l01097"></a>01097 <span class="comment"> *  boolean expressions. The class provides operators allowing</span>
<a name="l01098"></a>01098 <span class="comment"> *  &lt;code&gt;false&lt;/code&gt; to participate correctly in logical expressions.</span>
<a name="l01099"></a>01099 <span class="comment"> *</span>
<a name="l01100"></a>01100 <span class="comment"> */</span>
<a name="l01101"></a>01101 
<a name="l01102"></a>01102 <span class="comment">/*</span>
<a name="l01103"></a>01103 <span class="comment"> * call-seq:</span>
<a name="l01104"></a>01104 <span class="comment"> *   false.to_s   -&gt;  &quot;false&quot;</span>
<a name="l01105"></a>01105 <span class="comment"> *</span>
<a name="l01106"></a>01106 <span class="comment"> * &apos;nuf said...</span>
<a name="l01107"></a>01107 <span class="comment"> */</span>
<a name="l01108"></a>01108 
<a name="l01109"></a>01109 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01110"></a><a class="code" href="../../d0/de1/object_8c.html#aa2b3195af6d92a7f2be0c455a18e0380">01110</a> <a class="code" href="../../d0/de1/object_8c.html#aa2b3195af6d92a7f2be0c455a18e0380">false_to_s</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l01111"></a>01111 {
<a name="l01112"></a>01112     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a99895fce59be905b7c7f0a88bd32fa1f">rb_usascii_str_new2</a>(<span class="stringliteral">&quot;false&quot;</span>);
<a name="l01113"></a>01113 }
<a name="l01114"></a>01114 
<a name="l01115"></a>01115 <span class="comment">/*</span>
<a name="l01116"></a>01116 <span class="comment"> *  call-seq:</span>
<a name="l01117"></a>01117 <span class="comment"> *     false &amp; obj   -&gt; false</span>
<a name="l01118"></a>01118 <span class="comment"> *     nil &amp; obj     -&gt; false</span>
<a name="l01119"></a>01119 <span class="comment"> *</span>
<a name="l01120"></a>01120 <span class="comment"> *  And---Returns &lt;code&gt;false&lt;/code&gt;. &lt;i&gt;obj&lt;/i&gt; is always</span>
<a name="l01121"></a>01121 <span class="comment"> *  evaluated as it is the argument to a method call---there is no</span>
<a name="l01122"></a>01122 <span class="comment"> *  short-circuit evaluation in this case.</span>
<a name="l01123"></a>01123 <span class="comment"> */</span>
<a name="l01124"></a>01124 
<a name="l01125"></a>01125 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01126"></a><a class="code" href="../../d0/de1/object_8c.html#a6bb2d4164858ed9c528e2a3d1f214fe6">01126</a> <a class="code" href="../../d0/de1/object_8c.html#a6bb2d4164858ed9c528e2a3d1f214fe6">false_and</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l01127"></a>01127 {
<a name="l01128"></a>01128     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l01129"></a>01129 }
<a name="l01130"></a>01130 
<a name="l01131"></a>01131 
<a name="l01132"></a>01132 <span class="comment">/*</span>
<a name="l01133"></a>01133 <span class="comment"> *  call-seq:</span>
<a name="l01134"></a>01134 <span class="comment"> *     false | obj   -&gt;   true or false</span>
<a name="l01135"></a>01135 <span class="comment"> *     nil   | obj   -&gt;   true or false</span>
<a name="l01136"></a>01136 <span class="comment"> *</span>
<a name="l01137"></a>01137 <span class="comment"> *  Or---Returns &lt;code&gt;false&lt;/code&gt; if &lt;i&gt;obj&lt;/i&gt; is</span>
<a name="l01138"></a>01138 <span class="comment"> *  &lt;code&gt;nil&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;; &lt;code&gt;true&lt;/code&gt; otherwise.</span>
<a name="l01139"></a>01139 <span class="comment"> */</span>
<a name="l01140"></a>01140 
<a name="l01141"></a>01141 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01142"></a><a class="code" href="../../d0/de1/object_8c.html#a25342596fdfa49563298dffe0e78ed18">01142</a> <a class="code" href="../../d0/de1/object_8c.html#a25342596fdfa49563298dffe0e78ed18">false_or</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l01143"></a>01143 {
<a name="l01144"></a>01144     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(obj2)?<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>:<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l01145"></a>01145 }
<a name="l01146"></a>01146 
<a name="l01147"></a>01147 
<a name="l01148"></a>01148 
<a name="l01149"></a>01149 <span class="comment">/*</span>
<a name="l01150"></a>01150 <span class="comment"> *  call-seq:</span>
<a name="l01151"></a>01151 <span class="comment"> *     false ^ obj    -&gt; true or false</span>
<a name="l01152"></a>01152 <span class="comment"> *     nil   ^ obj    -&gt; true or false</span>
<a name="l01153"></a>01153 <span class="comment"> *</span>
<a name="l01154"></a>01154 <span class="comment"> *  Exclusive Or---If &lt;i&gt;obj&lt;/i&gt; is &lt;code&gt;nil&lt;/code&gt; or</span>
<a name="l01155"></a>01155 <span class="comment"> *  &lt;code&gt;false&lt;/code&gt;, returns &lt;code&gt;false&lt;/code&gt;; otherwise, returns</span>
<a name="l01156"></a>01156 <span class="comment"> *  &lt;code&gt;true&lt;/code&gt;.</span>
<a name="l01157"></a>01157 <span class="comment"> *</span>
<a name="l01158"></a>01158 <span class="comment"> */</span>
<a name="l01159"></a>01159 
<a name="l01160"></a>01160 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01161"></a><a class="code" href="../../d0/de1/object_8c.html#ab7674594088586676c217d3dbe7d8a80">01161</a> <a class="code" href="../../d0/de1/object_8c.html#ab7674594088586676c217d3dbe7d8a80">false_xor</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l01162"></a>01162 {
<a name="l01163"></a>01163     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(obj2)?<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>:<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l01164"></a>01164 }
<a name="l01165"></a>01165 
<a name="l01166"></a>01166 <span class="comment">/*</span>
<a name="l01167"></a>01167 <span class="comment"> * call_seq:</span>
<a name="l01168"></a>01168 <span class="comment"> *   nil.nil?               -&gt; true</span>
<a name="l01169"></a>01169 <span class="comment"> *</span>
<a name="l01170"></a>01170 <span class="comment"> * Only the object &lt;i&gt;nil&lt;/i&gt; responds &lt;code&gt;true&lt;/code&gt; to &lt;code&gt;nil?&lt;/code&gt;.</span>
<a name="l01171"></a>01171 <span class="comment"> */</span>
<a name="l01172"></a>01172 
<a name="l01173"></a>01173 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01174"></a><a class="code" href="../../d0/de1/object_8c.html#a778d7e0affb6da1159dc114ea4cfbe2e">01174</a> <a class="code" href="../../d0/de1/object_8c.html#a778d7e0affb6da1159dc114ea4cfbe2e">rb_true</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l01175"></a>01175 {
<a name="l01176"></a>01176     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l01177"></a>01177 }
<a name="l01178"></a>01178 
<a name="l01179"></a>01179 <span class="comment">/*</span>
<a name="l01180"></a>01180 <span class="comment"> * call_seq:</span>
<a name="l01181"></a>01181 <span class="comment"> *   nil.nil?               -&gt; true</span>
<a name="l01182"></a>01182 <span class="comment"> *   &lt;anything_else&gt;.nil?   -&gt; false</span>
<a name="l01183"></a>01183 <span class="comment"> *</span>
<a name="l01184"></a>01184 <span class="comment"> * Only the object &lt;i&gt;nil&lt;/i&gt; responds &lt;code&gt;true&lt;/code&gt; to &lt;code&gt;nil?&lt;/code&gt;.</span>
<a name="l01185"></a>01185 <span class="comment"> */</span>
<a name="l01186"></a>01186 
<a name="l01187"></a>01187 
<a name="l01188"></a>01188 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01189"></a><a class="code" href="../../d0/de1/object_8c.html#a82c8e607d9db10156991a1e1db9e3e29">01189</a> <a class="code" href="../../d0/de1/object_8c.html#a82c8e607d9db10156991a1e1db9e3e29">rb_false</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l01190"></a>01190 {
<a name="l01191"></a>01191     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l01192"></a>01192 }
<a name="l01193"></a>01193 
<a name="l01194"></a>01194 
<a name="l01195"></a>01195 <span class="comment">/*</span>
<a name="l01196"></a>01196 <span class="comment"> *  call-seq:</span>
<a name="l01197"></a>01197 <span class="comment"> *     obj =~ other  -&gt; nil</span>
<a name="l01198"></a>01198 <span class="comment"> *</span>
<a name="l01199"></a>01199 <span class="comment"> *  Pattern Match---Overridden by descendants (notably</span>
<a name="l01200"></a>01200 <span class="comment"> *  &lt;code&gt;Regexp&lt;/code&gt; and &lt;code&gt;String&lt;/code&gt;) to provide meaningful</span>
<a name="l01201"></a>01201 <span class="comment"> *  pattern-match semantics.</span>
<a name="l01202"></a>01202 <span class="comment"> */</span>
<a name="l01203"></a>01203 
<a name="l01204"></a>01204 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01205"></a><a class="code" href="../../d0/de1/object_8c.html#aa894fc66f4057262f0ace6dad0b99198">01205</a> <a class="code" href="../../d0/de1/object_8c.html#aa894fc66f4057262f0ace6dad0b99198">rb_obj_match</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj1, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l01206"></a>01206 {
<a name="l01207"></a>01207     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01208"></a>01208 }
<a name="l01209"></a>01209 
<a name="l01210"></a>01210 <span class="comment">/*</span>
<a name="l01211"></a>01211 <span class="comment"> *  call-seq:</span>
<a name="l01212"></a>01212 <span class="comment"> *     obj !~ other  -&gt; true or false</span>
<a name="l01213"></a>01213 <span class="comment"> *</span>
<a name="l01214"></a>01214 <span class="comment"> *  Returns true if two objects do not match (using the &lt;i&gt;=~&lt;/i&gt;</span>
<a name="l01215"></a>01215 <span class="comment"> *  method), otherwise false.</span>
<a name="l01216"></a>01216 <span class="comment"> */</span>
<a name="l01217"></a>01217 
<a name="l01218"></a>01218 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01219"></a><a class="code" href="../../d0/de1/object_8c.html#a979ca68504fda12434be999d7cd9bfed">01219</a> <a class="code" href="../../d0/de1/object_8c.html#a979ca68504fda12434be999d7cd9bfed">rb_obj_not_match</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj1, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l01220"></a>01220 {
<a name="l01221"></a>01221     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d8/d90/nkf_8c.html#a5ea5ac7abf5cce39283e422add1067d5">result</a> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6a973fe624aa9aa9ba0cdeb6792d3187" title="Calls a method.">rb_funcall</a>(obj1, <a class="code" href="../../d1/d81/complex_8c.html#a5c5832b08c7533e48d3fa8bf3e0190c2">id_match</a>, 1, obj2);
<a name="l01222"></a>01222     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(result) ? <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a> : <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l01223"></a>01223 }
<a name="l01224"></a>01224 
<a name="l01225"></a>01225 
<a name="l01226"></a>01226 <span class="comment">/*</span>
<a name="l01227"></a>01227 <span class="comment"> *  call-seq:</span>
<a name="l01228"></a>01228 <span class="comment"> *     obj &lt;=&gt; other -&gt; 0 or nil</span>
<a name="l01229"></a>01229 <span class="comment"> *</span>
<a name="l01230"></a>01230 <span class="comment"> *  Returns 0 if obj === other, otherwise nil.</span>
<a name="l01231"></a>01231 <span class="comment"> */</span>
<a name="l01232"></a>01232 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01233"></a><a class="code" href="../../d0/de1/object_8c.html#ad33004dca6680c554abc28b6fafa5885">01233</a> <a class="code" href="../../d0/de1/object_8c.html#ad33004dca6680c554abc28b6fafa5885">rb_obj_cmp</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj1, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj2)
<a name="l01234"></a>01234 {
<a name="l01235"></a>01235     <span class="keywordflow">if</span> (obj1 == obj2 || <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ae0d75edc88a608fc05dd386edf53208f">rb_equal</a>(obj1, obj2))
<a name="l01236"></a>01236         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac55fae7f748afd3fc2533d0d7d06cf5a">INT2FIX</a>(0);
<a name="l01237"></a>01237     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01238"></a>01238 }
<a name="l01239"></a>01239 
<a name="l01240"></a>01240 <span class="comment">/***********************************************************************</span>
<a name="l01241"></a>01241 <span class="comment"> *</span>
<a name="l01242"></a>01242 <span class="comment"> * Document-class: Module</span>
<a name="l01243"></a>01243 <span class="comment"> *</span>
<a name="l01244"></a>01244 <span class="comment"> *  A &lt;code&gt;Module&lt;/code&gt; is a collection of methods and constants. The</span>
<a name="l01245"></a>01245 <span class="comment"> *  methods in a module may be instance methods or module methods.</span>
<a name="l01246"></a>01246 <span class="comment"> *  Instance methods appear as methods in a class when the module is</span>
<a name="l01247"></a>01247 <span class="comment"> *  included, module methods do not. Conversely, module methods may be</span>
<a name="l01248"></a>01248 <span class="comment"> *  called without creating an encapsulating object, while instance</span>
<a name="l01249"></a>01249 <span class="comment"> *  methods may not. (See &lt;code&gt;Module#module_function&lt;/code&gt;)</span>
<a name="l01250"></a>01250 <span class="comment"> *</span>
<a name="l01251"></a>01251 <span class="comment"> *  In the descriptions that follow, the parameter &lt;i&gt;sym&lt;/i&gt; refers</span>
<a name="l01252"></a>01252 <span class="comment"> *  to a symbol, which is either a quoted string or a</span>
<a name="l01253"></a>01253 <span class="comment"> *  &lt;code&gt;Symbol&lt;/code&gt; (such as &lt;code&gt;:name&lt;/code&gt;).</span>
<a name="l01254"></a>01254 <span class="comment"> *</span>
<a name="l01255"></a>01255 <span class="comment"> *     module Mod</span>
<a name="l01256"></a>01256 <span class="comment"> *       include Math</span>
<a name="l01257"></a>01257 <span class="comment"> *       CONST = 1</span>
<a name="l01258"></a>01258 <span class="comment"> *       def meth</span>
<a name="l01259"></a>01259 <span class="comment"> *         #  ...</span>
<a name="l01260"></a>01260 <span class="comment"> *       end</span>
<a name="l01261"></a>01261 <span class="comment"> *     end</span>
<a name="l01262"></a>01262 <span class="comment"> *     Mod.class              #=&gt; Module</span>
<a name="l01263"></a>01263 <span class="comment"> *     Mod.constants          #=&gt; [:CONST, :PI, :E]</span>
<a name="l01264"></a>01264 <span class="comment"> *     Mod.instance_methods   #=&gt; [:meth]</span>
<a name="l01265"></a>01265 <span class="comment"> *</span>
<a name="l01266"></a>01266 <span class="comment"> */</span>
<a name="l01267"></a>01267 
<a name="l01268"></a>01268 <span class="comment">/*</span>
<a name="l01269"></a>01269 <span class="comment"> * call-seq:</span>
<a name="l01270"></a>01270 <span class="comment"> *   mod.to_s   -&gt; string</span>
<a name="l01271"></a>01271 <span class="comment"> *</span>
<a name="l01272"></a>01272 <span class="comment"> * Return a string representing this module or class. For basic</span>
<a name="l01273"></a>01273 <span class="comment"> * classes and modules, this is the name. For singletons, we</span>
<a name="l01274"></a>01274 <span class="comment"> * show information on the thing we&apos;re attached to as well.</span>
<a name="l01275"></a>01275 <span class="comment"> */</span>
<a name="l01276"></a>01276 
<a name="l01277"></a>01277 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01278"></a><a class="code" href="../../d0/de1/object_8c.html#a6f783e1ceff97384ff0664e97b46df07">01278</a> <a class="code" href="../../d0/de1/object_8c.html#a6f783e1ceff97384ff0664e97b46df07">rb_mod_to_s</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01279"></a>01279 {
<a name="l01280"></a>01280     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1ae918b6cc84188a9dc6ab545f732e4d">FL_TEST</a>(klass, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a081b5172ef37829bb3a258cd1ad393bc">FL_SINGLETON</a>)) {
<a name="l01281"></a>01281         <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> s = <a class="code" href="../../db/d2e/intern_8h.html#a99895fce59be905b7c7f0a88bd32fa1f">rb_usascii_str_new2</a>(<span class="stringliteral">&quot;#&lt;&quot;</span>);
<a name="l01282"></a>01282         <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> v = <a class="code" href="../../db/d2e/intern_8h.html#ad05f3639fd927a08b07d12e2960936d4">rb_iv_get</a>(klass, <span class="stringliteral">&quot;__attached__&quot;</span>);
<a name="l01283"></a>01283 
<a name="l01284"></a>01284         <a class="code" href="../../db/d2e/intern_8h.html#a5bd27db3e38af6131db24321c7cf9ec6">rb_str_cat2</a>(s, <span class="stringliteral">&quot;Class:&quot;</span>);
<a name="l01285"></a>01285         <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(v)) {
<a name="l01286"></a>01286           <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad04c63d175774c6d6e7dfaf0f0a982c9">T_CLASS</a>: <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6cdc7dfe8f84777325da08a96ae5f795">T_MODULE</a>:
<a name="l01287"></a>01287             <a class="code" href="../../db/d2e/intern_8h.html#ab592dcd9e193dea76fb0ff58b5d907e4">rb_str_append</a>(s, <a class="code" href="../../db/d2e/intern_8h.html#acbb281bacf6b80f460143348e26142e9">rb_inspect</a>(v));
<a name="l01288"></a>01288             <span class="keywordflow">break</span>;
<a name="l01289"></a>01289           <span class="keywordflow">default</span>:
<a name="l01290"></a>01290             <a class="code" href="../../db/d2e/intern_8h.html#ab592dcd9e193dea76fb0ff58b5d907e4">rb_str_append</a>(s, <a class="code" href="../../db/d2e/intern_8h.html#a24afa0db60cabea2fb47545b1ff9edf4">rb_any_to_s</a>(v));
<a name="l01291"></a>01291             <span class="keywordflow">break</span>;
<a name="l01292"></a>01292         }
<a name="l01293"></a>01293         <a class="code" href="../../db/d2e/intern_8h.html#a5bd27db3e38af6131db24321c7cf9ec6">rb_str_cat2</a>(s, <span class="stringliteral">&quot;&gt;&quot;</span>);
<a name="l01294"></a>01294 
<a name="l01295"></a>01295         <span class="keywordflow">return</span> s;
<a name="l01296"></a>01296     }
<a name="l01297"></a>01297     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#ae2843c766c24b80116bb127ebf22d5bf">rb_str_dup</a>(<a class="code" href="../../db/d2e/intern_8h.html#a006647827acc7cce9e940e5f7fa3a1b8">rb_class_name</a>(klass));
<a name="l01298"></a>01298 }
<a name="l01299"></a>01299 
<a name="l01300"></a>01300 <span class="comment">/*</span>
<a name="l01301"></a>01301 <span class="comment"> *  call-seq:</span>
<a name="l01302"></a>01302 <span class="comment"> *     mod.freeze       -&gt; mod</span>
<a name="l01303"></a>01303 <span class="comment"> *</span>
<a name="l01304"></a>01304 <span class="comment"> *  Prevents further modifications to &lt;i&gt;mod&lt;/i&gt;.</span>
<a name="l01305"></a>01305 <span class="comment"> *</span>
<a name="l01306"></a>01306 <span class="comment"> *  This method returns self.</span>
<a name="l01307"></a>01307 <span class="comment"> */</span>
<a name="l01308"></a>01308 
<a name="l01309"></a>01309 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01310"></a><a class="code" href="../../d0/de1/object_8c.html#a5a96288bc2ed3d92b5805c41822be9ba">01310</a> <a class="code" href="../../d0/de1/object_8c.html#a5a96288bc2ed3d92b5805c41822be9ba">rb_mod_freeze</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>)
<a name="l01311"></a>01311 {
<a name="l01312"></a>01312     <a class="code" href="../../db/d2e/intern_8h.html#a006647827acc7cce9e940e5f7fa3a1b8">rb_class_name</a>(mod);
<a name="l01313"></a>01313     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a8ea3742679211f408cb5769de6cf0d46">rb_obj_freeze</a>(mod);
<a name="l01314"></a>01314 }
<a name="l01315"></a>01315 
<a name="l01316"></a>01316 <span class="comment">/*</span>
<a name="l01317"></a>01317 <span class="comment"> *  call-seq:</span>
<a name="l01318"></a>01318 <span class="comment"> *     mod === obj    -&gt; true or false</span>
<a name="l01319"></a>01319 <span class="comment"> *</span>
<a name="l01320"></a>01320 <span class="comment"> *  Case Equality---Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;anObject&lt;/i&gt; is an</span>
<a name="l01321"></a>01321 <span class="comment"> *  instance of &lt;i&gt;mod&lt;/i&gt; or one of &lt;i&gt;mod&lt;/i&gt;&apos;s descendants. Of</span>
<a name="l01322"></a>01322 <span class="comment"> *  limited use for modules, but can be used in &lt;code&gt;case&lt;/code&gt;</span>
<a name="l01323"></a>01323 <span class="comment"> *  statements to classify objects by class.</span>
<a name="l01324"></a>01324 <span class="comment"> */</span>
<a name="l01325"></a>01325 
<a name="l01326"></a>01326 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01327"></a><a class="code" href="../../d0/de1/object_8c.html#addbc20f5723853a2e4f61c593236be5e">01327</a> <a class="code" href="../../d0/de1/object_8c.html#addbc20f5723853a2e4f61c593236be5e">rb_mod_eqq</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> arg)
<a name="l01328"></a>01328 {
<a name="l01329"></a>01329     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a6e65fc310dd65ebd60d68ada991da6f6">rb_obj_is_kind_of</a>(arg, mod);
<a name="l01330"></a>01330 }
<a name="l01331"></a>01331 
<a name="l01332"></a>01332 <span class="comment">/*</span>
<a name="l01333"></a>01333 <span class="comment"> * call-seq:</span>
<a name="l01334"></a>01334 <span class="comment"> *   mod &lt;= other   -&gt;  true, false, or nil</span>
<a name="l01335"></a>01335 <span class="comment"> *</span>
<a name="l01336"></a>01336 <span class="comment"> * Returns true if &lt;i&gt;mod&lt;/i&gt; is a subclass of &lt;i&gt;other&lt;/i&gt; or</span>
<a name="l01337"></a>01337 <span class="comment"> * is the same as &lt;i&gt;other&lt;/i&gt;. Returns</span>
<a name="l01338"></a>01338 <span class="comment"> * &lt;code&gt;nil&lt;/code&gt; if there&apos;s no relationship between the two.</span>
<a name="l01339"></a>01339 <span class="comment"> * (Think of the relationship in terms of the class definition:</span>
<a name="l01340"></a>01340 <span class="comment"> * &quot;class A&lt;B&quot; implies &quot;A&lt;B&quot;).</span>
<a name="l01341"></a>01341 <span class="comment"> *</span>
<a name="l01342"></a>01342 <span class="comment"> */</span>
<a name="l01343"></a>01343 
<a name="l01344"></a>01344 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01345"></a><a class="code" href="../../d0/de1/object_8c.html#ab145033c50f9ed2eff8bd470ad37eed7">01345</a> <a class="code" href="../../db/d2e/intern_8h.html#af0b73a807aed3ba16db6c716eef9a8e5">rb_class_inherited_p</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> arg)
<a name="l01346"></a>01346 {
<a name="l01347"></a>01347     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> start = mod;
<a name="l01348"></a>01348 
<a name="l01349"></a>01349     <span class="keywordflow">if</span> (mod == arg) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l01350"></a>01350     <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(arg)) {
<a name="l01351"></a>01351       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6cdc7dfe8f84777325da08a96ae5f795">T_MODULE</a>:
<a name="l01352"></a>01352       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad04c63d175774c6d6e7dfaf0f0a982c9">T_CLASS</a>:
<a name="l01353"></a>01353         <span class="keywordflow">break</span>;
<a name="l01354"></a>01354       <span class="keywordflow">default</span>:
<a name="l01355"></a>01355         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;compared with non class/module&quot;</span>);
<a name="l01356"></a>01356     }
<a name="l01357"></a>01357     <span class="keywordflow">while</span> (mod) {
<a name="l01358"></a>01358         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d09/ripper_8y.html#ab59ea80cdf15f3f19bbae0346314c9ad">RCLASS_M_TBL</a>(mod) == <a class="code" href="../../d3/d09/ripper_8y.html#ab59ea80cdf15f3f19bbae0346314c9ad">RCLASS_M_TBL</a>(arg))
<a name="l01359"></a>01359             <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l01360"></a>01360         mod = <a class="code" href="../../d3/d09/ripper_8y.html#a19d17315b6b34045cdffec9912342b91">RCLASS_SUPER</a>(mod);
<a name="l01361"></a>01361     }
<a name="l01362"></a>01362     <span class="comment">/* not mod &lt; arg; check if mod &gt; arg */</span>
<a name="l01363"></a>01363     <span class="keywordflow">while</span> (arg) {
<a name="l01364"></a>01364         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d09/ripper_8y.html#ab59ea80cdf15f3f19bbae0346314c9ad">RCLASS_M_TBL</a>(arg) == <a class="code" href="../../d3/d09/ripper_8y.html#ab59ea80cdf15f3f19bbae0346314c9ad">RCLASS_M_TBL</a>(start))
<a name="l01365"></a>01365             <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l01366"></a>01366         arg = <a class="code" href="../../d3/d09/ripper_8y.html#a19d17315b6b34045cdffec9912342b91">RCLASS_SUPER</a>(arg);
<a name="l01367"></a>01367     }
<a name="l01368"></a>01368     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01369"></a>01369 }
<a name="l01370"></a>01370 
<a name="l01371"></a>01371 <span class="comment">/*</span>
<a name="l01372"></a>01372 <span class="comment"> * call-seq:</span>
<a name="l01373"></a>01373 <span class="comment"> *   mod &lt; other   -&gt;  true, false, or nil</span>
<a name="l01374"></a>01374 <span class="comment"> *</span>
<a name="l01375"></a>01375 <span class="comment"> * Returns true if &lt;i&gt;mod&lt;/i&gt; is a subclass of &lt;i&gt;other&lt;/i&gt;. Returns</span>
<a name="l01376"></a>01376 <span class="comment"> * &lt;code&gt;nil&lt;/code&gt; if there&apos;s no relationship between the two.</span>
<a name="l01377"></a>01377 <span class="comment"> * (Think of the relationship in terms of the class definition:</span>
<a name="l01378"></a>01378 <span class="comment"> * &quot;class A&lt;B&quot; implies &quot;A&lt;B&quot;).</span>
<a name="l01379"></a>01379 <span class="comment"> *</span>
<a name="l01380"></a>01380 <span class="comment"> */</span>
<a name="l01381"></a>01381 
<a name="l01382"></a>01382 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01383"></a><a class="code" href="../../d0/de1/object_8c.html#ab3625501f37a454b202ae1c8a6ee6d45">01383</a> <a class="code" href="../../d0/de1/object_8c.html#ab3625501f37a454b202ae1c8a6ee6d45">rb_mod_lt</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> arg)
<a name="l01384"></a>01384 {
<a name="l01385"></a>01385     <span class="keywordflow">if</span> (mod == arg) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l01386"></a>01386     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#af0b73a807aed3ba16db6c716eef9a8e5">rb_class_inherited_p</a>(mod, arg);
<a name="l01387"></a>01387 }
<a name="l01388"></a>01388 
<a name="l01389"></a>01389 
<a name="l01390"></a>01390 <span class="comment">/*</span>
<a name="l01391"></a>01391 <span class="comment"> * call-seq:</span>
<a name="l01392"></a>01392 <span class="comment"> *   mod &gt;= other   -&gt;  true, false, or nil</span>
<a name="l01393"></a>01393 <span class="comment"> *</span>
<a name="l01394"></a>01394 <span class="comment"> * Returns true if &lt;i&gt;mod&lt;/i&gt; is an ancestor of &lt;i&gt;other&lt;/i&gt;, or the</span>
<a name="l01395"></a>01395 <span class="comment"> * two modules are the same. Returns</span>
<a name="l01396"></a>01396 <span class="comment"> * &lt;code&gt;nil&lt;/code&gt; if there&apos;s no relationship between the two.</span>
<a name="l01397"></a>01397 <span class="comment"> * (Think of the relationship in terms of the class definition:</span>
<a name="l01398"></a>01398 <span class="comment"> * &quot;class A&lt;B&quot; implies &quot;B&gt;A&quot;).</span>
<a name="l01399"></a>01399 <span class="comment"> *</span>
<a name="l01400"></a>01400 <span class="comment"> */</span>
<a name="l01401"></a>01401 
<a name="l01402"></a>01402 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01403"></a><a class="code" href="../../d0/de1/object_8c.html#aea6ccea3f2f47108d29ba5994a49678c">01403</a> <a class="code" href="../../d0/de1/object_8c.html#aea6ccea3f2f47108d29ba5994a49678c">rb_mod_ge</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> arg)
<a name="l01404"></a>01404 {
<a name="l01405"></a>01405     <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(arg)) {
<a name="l01406"></a>01406       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6cdc7dfe8f84777325da08a96ae5f795">T_MODULE</a>:
<a name="l01407"></a>01407       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad04c63d175774c6d6e7dfaf0f0a982c9">T_CLASS</a>:
<a name="l01408"></a>01408         <span class="keywordflow">break</span>;
<a name="l01409"></a>01409       <span class="keywordflow">default</span>:
<a name="l01410"></a>01410         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;compared with non class/module&quot;</span>);
<a name="l01411"></a>01411     }
<a name="l01412"></a>01412 
<a name="l01413"></a>01413     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#af0b73a807aed3ba16db6c716eef9a8e5">rb_class_inherited_p</a>(arg, mod);
<a name="l01414"></a>01414 }
<a name="l01415"></a>01415 
<a name="l01416"></a>01416 <span class="comment">/*</span>
<a name="l01417"></a>01417 <span class="comment"> * call-seq:</span>
<a name="l01418"></a>01418 <span class="comment"> *   mod &gt; other   -&gt;  true, false, or nil</span>
<a name="l01419"></a>01419 <span class="comment"> *</span>
<a name="l01420"></a>01420 <span class="comment"> * Returns true if &lt;i&gt;mod&lt;/i&gt; is an ancestor of &lt;i&gt;other&lt;/i&gt;. Returns</span>
<a name="l01421"></a>01421 <span class="comment"> * &lt;code&gt;nil&lt;/code&gt; if there&apos;s no relationship between the two.</span>
<a name="l01422"></a>01422 <span class="comment"> * (Think of the relationship in terms of the class definition:</span>
<a name="l01423"></a>01423 <span class="comment"> * &quot;class A&lt;B&quot; implies &quot;B&gt;A&quot;).</span>
<a name="l01424"></a>01424 <span class="comment"> *</span>
<a name="l01425"></a>01425 <span class="comment"> */</span>
<a name="l01426"></a>01426 
<a name="l01427"></a>01427 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01428"></a><a class="code" href="../../d0/de1/object_8c.html#a68238a95938d24e7c7644049f243c4d4">01428</a> <a class="code" href="../../d0/de1/object_8c.html#a68238a95938d24e7c7644049f243c4d4">rb_mod_gt</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> arg)
<a name="l01429"></a>01429 {
<a name="l01430"></a>01430     <span class="keywordflow">if</span> (mod == arg) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>;
<a name="l01431"></a>01431     <span class="keywordflow">return</span> <a class="code" href="../../d0/de1/object_8c.html#aea6ccea3f2f47108d29ba5994a49678c">rb_mod_ge</a>(mod, arg);
<a name="l01432"></a>01432 }
<a name="l01433"></a>01433 
<a name="l01434"></a>01434 <span class="comment">/*</span>
<a name="l01435"></a>01435 <span class="comment"> *  call-seq:</span>
<a name="l01436"></a>01436 <span class="comment"> *     mod &lt;=&gt; other_mod   -&gt; -1, 0, +1, or nil</span>
<a name="l01437"></a>01437 <span class="comment"> *</span>
<a name="l01438"></a>01438 <span class="comment"> *  Comparison---Returns -1 if &lt;i&gt;mod&lt;/i&gt; includes &lt;i&gt;other_mod&lt;/i&gt;, 0 if</span>
<a name="l01439"></a>01439 <span class="comment"> *  &lt;i&gt;mod&lt;/i&gt; is the same as &lt;i&gt;other_mod&lt;/i&gt;, and +1 if &lt;i&gt;mod&lt;/i&gt; is</span>
<a name="l01440"></a>01440 <span class="comment"> *  included by &lt;i&gt;other_mod&lt;/i&gt;. Returns &lt;code&gt;nil&lt;/code&gt; if &lt;i&gt;mod&lt;/i&gt;</span>
<a name="l01441"></a>01441 <span class="comment"> *  has no relationship with &lt;i&gt;other_mod&lt;/i&gt; or if &lt;i&gt;other_mod&lt;/i&gt; is</span>
<a name="l01442"></a>01442 <span class="comment"> *  not a module.</span>
<a name="l01443"></a>01443 <span class="comment"> */</span>
<a name="l01444"></a>01444 
<a name="l01445"></a>01445 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01446"></a><a class="code" href="../../d0/de1/object_8c.html#ab6af11bc377f7e29e61c6b8fd06019fc">01446</a> <a class="code" href="../../d0/de1/object_8c.html#ab6af11bc377f7e29e61c6b8fd06019fc">rb_mod_cmp</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> arg)
<a name="l01447"></a>01447 {
<a name="l01448"></a>01448     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../de/d6d/compar_8c.html#a087ca087a20f74015a46cf31400c675e">cmp</a>;
<a name="l01449"></a>01449 
<a name="l01450"></a>01450     <span class="keywordflow">if</span> (mod == arg) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac55fae7f748afd3fc2533d0d7d06cf5a">INT2FIX</a>(0);
<a name="l01451"></a>01451     <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(arg)) {
<a name="l01452"></a>01452       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6cdc7dfe8f84777325da08a96ae5f795">T_MODULE</a>:
<a name="l01453"></a>01453       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad04c63d175774c6d6e7dfaf0f0a982c9">T_CLASS</a>:
<a name="l01454"></a>01454         <span class="keywordflow">break</span>;
<a name="l01455"></a>01455       <span class="keywordflow">default</span>:
<a name="l01456"></a>01456         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01457"></a>01457     }
<a name="l01458"></a>01458 
<a name="l01459"></a>01459     cmp = <a class="code" href="../../db/d2e/intern_8h.html#af0b73a807aed3ba16db6c716eef9a8e5">rb_class_inherited_p</a>(mod, arg);
<a name="l01460"></a>01460     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a>(cmp)) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01461"></a>01461     <span class="keywordflow">if</span> (cmp) {
<a name="l01462"></a>01462         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac55fae7f748afd3fc2533d0d7d06cf5a">INT2FIX</a>(-1);
<a name="l01463"></a>01463     }
<a name="l01464"></a>01464     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac55fae7f748afd3fc2533d0d7d06cf5a">INT2FIX</a>(1);
<a name="l01465"></a>01465 }
<a name="l01466"></a>01466 
<a name="l01467"></a>01467 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01468"></a><a class="code" href="../../d0/de1/object_8c.html#a72212aa74462f35b3a6971dccfd6e3f2">01468</a> <a class="code" href="../../d0/de1/object_8c.html#a72212aa74462f35b3a6971dccfd6e3f2">rb_module_s_alloc</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01469"></a>01469 {
<a name="l01470"></a>01470     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a> = <a class="code" href="../../de/ddf/group__class.html#ga6502d3277ed36b7fd0ce6afab5f14d51">rb_module_new</a>();
<a name="l01471"></a>01471 
<a name="l01472"></a>01472     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(mod)-&gt;klass = klass;
<a name="l01473"></a>01473     <span class="keywordflow">return</span> mod;
<a name="l01474"></a>01474 }
<a name="l01475"></a>01475 
<a name="l01476"></a>01476 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01477"></a><a class="code" href="../../d0/de1/object_8c.html#a12931a48404490473d5f2b8cf7c9f9e4">01477</a> <a class="code" href="../../d0/de1/object_8c.html#a12931a48404490473d5f2b8cf7c9f9e4">rb_class_s_alloc</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01478"></a>01478 {
<a name="l01479"></a>01479     <span class="keywordflow">return</span> <a class="code" href="../../de/ddf/group__class.html#ga8f7544343ddabc50fa64ab912ed9e7f8" title="A utility function that wraps class_alloc.">rb_class_boot</a>(0);
<a name="l01480"></a>01480 }
<a name="l01481"></a>01481 
<a name="l01482"></a>01482 <span class="comment">/*</span>
<a name="l01483"></a>01483 <span class="comment"> *  call-seq:</span>
<a name="l01484"></a>01484 <span class="comment"> *    Module.new                  -&gt; mod</span>
<a name="l01485"></a>01485 <span class="comment"> *    Module.new {|mod| block }   -&gt; mod</span>
<a name="l01486"></a>01486 <span class="comment"> *</span>
<a name="l01487"></a>01487 <span class="comment"> *  Creates a new anonymous module. If a block is given, it is passed</span>
<a name="l01488"></a>01488 <span class="comment"> *  the module object, and the block is evaluated in the context of this</span>
<a name="l01489"></a>01489 <span class="comment"> *  module using &lt;code&gt;module_eval&lt;/code&gt;.</span>
<a name="l01490"></a>01490 <span class="comment"> *</span>
<a name="l01491"></a>01491 <span class="comment"> *     fred = Module.new do</span>
<a name="l01492"></a>01492 <span class="comment"> *       def meth1</span>
<a name="l01493"></a>01493 <span class="comment"> *         &quot;hello&quot;</span>
<a name="l01494"></a>01494 <span class="comment"> *       end</span>
<a name="l01495"></a>01495 <span class="comment"> *       def meth2</span>
<a name="l01496"></a>01496 <span class="comment"> *         &quot;bye&quot;</span>
<a name="l01497"></a>01497 <span class="comment"> *       end</span>
<a name="l01498"></a>01498 <span class="comment"> *     end</span>
<a name="l01499"></a>01499 <span class="comment"> *     a = &quot;my string&quot;</span>
<a name="l01500"></a>01500 <span class="comment"> *     a.extend(fred)   #=&gt; &quot;my string&quot;</span>
<a name="l01501"></a>01501 <span class="comment"> *     a.meth1          #=&gt; &quot;hello&quot;</span>
<a name="l01502"></a>01502 <span class="comment"> *     a.meth2          #=&gt; &quot;bye&quot;</span>
<a name="l01503"></a>01503 <span class="comment"> *</span>
<a name="l01504"></a>01504 <span class="comment"> *  Assign the module to a constant (name starting uppercase) if you</span>
<a name="l01505"></a>01505 <span class="comment"> *  want to treat it like a regular module.</span>
<a name="l01506"></a>01506 <span class="comment"> */</span>
<a name="l01507"></a>01507 
<a name="l01508"></a>01508 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01509"></a><a class="code" href="../../d0/de1/object_8c.html#a0772efe9f65525cc2408080a3e8415e5">01509</a> <a class="code" href="../../d0/de1/object_8c.html#a0772efe9f65525cc2408080a3e8415e5">rb_mod_initialize</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> module)
<a name="l01510"></a>01510 {
<a name="l01511"></a>01511     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d57/eval_8c.html#aea346c4eb8bc06df88422e956bb05fec">rb_block_given_p</a>()) {
<a name="l01512"></a>01512         <a class="code" href="../../db/d2e/intern_8h.html#a90dcf912ea645bc4958fe028fc9d6004">rb_mod_module_exec</a>(1, &amp;module, module);
<a name="l01513"></a>01513     }
<a name="l01514"></a>01514     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01515"></a>01515 }
<a name="l01516"></a>01516 
<a name="l01517"></a>01517 <span class="comment">/*</span>
<a name="l01518"></a>01518 <span class="comment"> *  call-seq:</span>
<a name="l01519"></a>01519 <span class="comment"> *     Class.new(super_class=Object)               -&gt; a_class</span>
<a name="l01520"></a>01520 <span class="comment"> *     Class.new(super_class=Object) { |mod| ... } -&gt; a_class</span>
<a name="l01521"></a>01521 <span class="comment"> *</span>
<a name="l01522"></a>01522 <span class="comment"> *  Creates a new anonymous (unnamed) class with the given superclass</span>
<a name="l01523"></a>01523 <span class="comment"> *  (or &lt;code&gt;Object&lt;/code&gt; if no parameter is given). You can give a</span>
<a name="l01524"></a>01524 <span class="comment"> *  class a name by assigning the class object to a constant.</span>
<a name="l01525"></a>01525 <span class="comment"> *</span>
<a name="l01526"></a>01526 <span class="comment"> *  If a block is given, it is passed the class object, and the block</span>
<a name="l01527"></a>01527 <span class="comment"> *  is evaluated in the context of this class using</span>
<a name="l01528"></a>01528 <span class="comment"> *  &lt;code&gt;class_eval&lt;/code&gt;.</span>
<a name="l01529"></a>01529 <span class="comment"> *</span>
<a name="l01530"></a>01530 <span class="comment"> *     fred = Class.new do</span>
<a name="l01531"></a>01531 <span class="comment"> *       def meth1</span>
<a name="l01532"></a>01532 <span class="comment"> *         &quot;hello&quot;</span>
<a name="l01533"></a>01533 <span class="comment"> *       end</span>
<a name="l01534"></a>01534 <span class="comment"> *       def meth2</span>
<a name="l01535"></a>01535 <span class="comment"> *         &quot;bye&quot;</span>
<a name="l01536"></a>01536 <span class="comment"> *       end</span>
<a name="l01537"></a>01537 <span class="comment"> *     end</span>
<a name="l01538"></a>01538 <span class="comment"> *</span>
<a name="l01539"></a>01539 <span class="comment"> *     a = fred.new     #=&gt; #&lt;#&lt;Class:0x100381890&gt;:0x100376b98&gt;</span>
<a name="l01540"></a>01540 <span class="comment"> *     a.meth1          #=&gt; &quot;hello&quot;</span>
<a name="l01541"></a>01541 <span class="comment"> *     a.meth2          #=&gt; &quot;bye&quot;</span>
<a name="l01542"></a>01542 <span class="comment"> *</span>
<a name="l01543"></a>01543 <span class="comment"> *  Assign the class to a constant (name starting uppercase) if you</span>
<a name="l01544"></a>01544 <span class="comment"> *  want to treat it like a regular class.</span>
<a name="l01545"></a>01545 <span class="comment"> */</span>
<a name="l01546"></a>01546 
<a name="l01547"></a>01547 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01548"></a><a class="code" href="../../d0/de1/object_8c.html#ac00b0bb5d6e8c5c303c98017010deabb">01548</a> <a class="code" href="../../d0/de1/object_8c.html#ac00b0bb5d6e8c5c303c98017010deabb">rb_class_initialize</a>(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01549"></a>01549 {
<a name="l01550"></a>01550     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> super;
<a name="l01551"></a>01551 
<a name="l01552"></a>01552     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d09/ripper_8y.html#a19d17315b6b34045cdffec9912342b91">RCLASS_SUPER</a>(klass) != 0 || klass == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>) {
<a name="l01553"></a>01553         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;already initialized class&quot;</span>);
<a name="l01554"></a>01554     }
<a name="l01555"></a>01555     <span class="keywordflow">if</span> (argc == 0) {
<a name="l01556"></a>01556         super = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a57c96ead3ef230b4838e65fe037c346e">rb_cObject</a>;
<a name="l01557"></a>01557     }
<a name="l01558"></a>01558     <span class="keywordflow">else</span> {
<a name="l01559"></a>01559         <a class="code" href="../../d7/d19/group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a>(argc, argv, <span class="stringliteral">&quot;01&quot;</span>, &amp;super);
<a name="l01560"></a>01560         <a class="code" href="../../de/ddf/group__class.html#ga7d90ea6e5ecdb6ddede8a8d00610cdf9" title="Ensures a class can be derived from super.">rb_check_inheritable</a>(super);
<a name="l01561"></a>01561     }
<a name="l01562"></a>01562     <a class="code" href="../../d3/d09/ripper_8y.html#a19d17315b6b34045cdffec9912342b91">RCLASS_SUPER</a>(klass) = super;
<a name="l01563"></a>01563     <a class="code" href="../../de/ddf/group__class.html#gaef068643bdd141d298acf0a0041d871a">rb_make_metaclass</a>(klass, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1d4c05021aacd8cab989ff60f95ebe2d">RBASIC</a>(super)-&gt;klass);
<a name="l01564"></a>01564     <a class="code" href="../../de/ddf/group__class.html#gab503b359ce09591ed8d2521d802f22d0" title="Calls Class::inherited.">rb_class_inherited</a>(super, klass);
<a name="l01565"></a>01565     <a class="code" href="../../d0/de1/object_8c.html#a0772efe9f65525cc2408080a3e8415e5">rb_mod_initialize</a>(klass);
<a name="l01566"></a>01566 
<a name="l01567"></a>01567     <span class="keywordflow">return</span> klass;
<a name="l01568"></a>01568 }
<a name="l01569"></a>01569 
<a name="l01570"></a>01570 <span class="comment">/*</span>
<a name="l01571"></a>01571 <span class="comment"> *  call-seq:</span>
<a name="l01572"></a>01572 <span class="comment"> *     class.allocate()   -&gt;   obj</span>
<a name="l01573"></a>01573 <span class="comment"> *</span>
<a name="l01574"></a>01574 <span class="comment"> *  Allocates space for a new object of &lt;i&gt;class&lt;/i&gt;&apos;s class and does not</span>
<a name="l01575"></a>01575 <span class="comment"> *  call initialize on the new instance. The returned object must be an</span>
<a name="l01576"></a>01576 <span class="comment"> *  instance of &lt;i&gt;class&lt;/i&gt;.</span>
<a name="l01577"></a>01577 <span class="comment"> *</span>
<a name="l01578"></a>01578 <span class="comment"> *      klass = Class.new do</span>
<a name="l01579"></a>01579 <span class="comment"> *        def initialize(*args)</span>
<a name="l01580"></a>01580 <span class="comment"> *          @initialized = true</span>
<a name="l01581"></a>01581 <span class="comment"> *        end</span>
<a name="l01582"></a>01582 <span class="comment"> *</span>
<a name="l01583"></a>01583 <span class="comment"> *        def initialized?</span>
<a name="l01584"></a>01584 <span class="comment"> *          @initialized || false</span>
<a name="l01585"></a>01585 <span class="comment"> *        end</span>
<a name="l01586"></a>01586 <span class="comment"> *      end</span>
<a name="l01587"></a>01587 <span class="comment"> *</span>
<a name="l01588"></a>01588 <span class="comment"> *      klass.allocate.initialized? #=&gt; false</span>
<a name="l01589"></a>01589 <span class="comment"> *</span>
<a name="l01590"></a>01590 <span class="comment"> */</span>
<a name="l01591"></a>01591 
<a name="l01592"></a>01592 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01593"></a><a class="code" href="../../d0/de1/object_8c.html#a3b9e88ffb0db95ffc6ab5d8f6189dcb8">01593</a> <a class="code" href="../../db/d2e/intern_8h.html#a4419d9ed52af0d0dbdcb02f491b1d88d">rb_obj_alloc</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01594"></a>01594 {
<a name="l01595"></a>01595     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj;
<a name="l01596"></a>01596 
<a name="l01597"></a>01597     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d09/ripper_8y.html#a19d17315b6b34045cdffec9912342b91">RCLASS_SUPER</a>(klass) == 0 &amp;&amp; klass != <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>) {
<a name="l01598"></a>01598         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t instantiate uninitialized class&quot;</span>);
<a name="l01599"></a>01599     }
<a name="l01600"></a>01600     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a1ae918b6cc84188a9dc6ab545f732e4d">FL_TEST</a>(klass, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a081b5172ef37829bb3a258cd1ad393bc">FL_SINGLETON</a>)) {
<a name="l01601"></a>01601         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t create instance of singleton class&quot;</span>);
<a name="l01602"></a>01602     }
<a name="l01603"></a>01603     obj = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6a973fe624aa9aa9ba0cdeb6792d3187" title="Calls a method.">rb_funcall</a>(klass, <a class="code" href="../../db/d2e/intern_8h.html#aae711a904c63bacc1664e9ee240fc9b3">ID_ALLOCATOR</a>, 0, 0);
<a name="l01604"></a>01604     <span class="keywordflow">if</span> (<a class="code" href="../../db/d2e/intern_8h.html#ac2be7243e739fa8f5dce6be0c8ee5f6d">rb_obj_class</a>(obj) != <a class="code" href="../../db/d2e/intern_8h.html#ab4b2dc0dd79654335ec8fc99ed9880d6">rb_class_real</a>(klass)) {
<a name="l01605"></a>01605         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;wrong instance allocation&quot;</span>);
<a name="l01606"></a>01606     }
<a name="l01607"></a>01607     <span class="keywordflow">return</span> obj;
<a name="l01608"></a>01608 }
<a name="l01609"></a>01609 
<a name="l01610"></a>01610 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01611"></a><a class="code" href="../../d0/de1/object_8c.html#ac2cd2f5a360b517f4fa861d92d29fae7">01611</a> <a class="code" href="../../d0/de1/object_8c.html#ac2cd2f5a360b517f4fa861d92d29fae7">rb_class_allocate_instance</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01612"></a>01612 {
<a name="l01613"></a>01613     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ab8e75ef1f427d9b009705ebd577bee92">NEWOBJ</a>(obj, <span class="keyword">struct</span> <a class="code" href="../../d7/da9/struct_r_object.html">RObject</a>);
<a name="l01614"></a>01614     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a607a9da5249e026d1c4a0826dc840143">OBJSETUP</a>(obj, klass, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#abed71c72d5c3083041d52ad25630270e">T_OBJECT</a>);
<a name="l01615"></a>01615     <span class="keywordflow">return</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>)obj;
<a name="l01616"></a>01616 }
<a name="l01617"></a>01617 
<a name="l01618"></a>01618 <span class="comment">/*</span>
<a name="l01619"></a>01619 <span class="comment"> *  call-seq:</span>
<a name="l01620"></a>01620 <span class="comment"> *     class.new(args, ...)    -&gt;  obj</span>
<a name="l01621"></a>01621 <span class="comment"> *</span>
<a name="l01622"></a>01622 <span class="comment"> *  Calls &lt;code&gt;allocate&lt;/code&gt; to create a new object of</span>
<a name="l01623"></a>01623 <span class="comment"> *  &lt;i&gt;class&lt;/i&gt;&apos;s class, then invokes that object&apos;s</span>
<a name="l01624"></a>01624 <span class="comment"> *  &lt;code&gt;initialize&lt;/code&gt; method, passing it &lt;i&gt;args&lt;/i&gt;.</span>
<a name="l01625"></a>01625 <span class="comment"> *  This is the method that ends up getting called whenever</span>
<a name="l01626"></a>01626 <span class="comment"> *  an object is constructed using .new.</span>
<a name="l01627"></a>01627 <span class="comment"> *</span>
<a name="l01628"></a>01628 <span class="comment"> */</span>
<a name="l01629"></a>01629 
<a name="l01630"></a>01630 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01631"></a><a class="code" href="../../d0/de1/object_8c.html#a3fec2f0166b02159c3a2c4c94c275292">01631</a> <a class="code" href="../../db/d2e/intern_8h.html#a4e25a1a5ca0fc372179c4f429600bc2a">rb_class_new_instance</a>(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01632"></a>01632 {
<a name="l01633"></a>01633     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj;
<a name="l01634"></a>01634 
<a name="l01635"></a>01635     obj = <a class="code" href="../../db/d2e/intern_8h.html#a4419d9ed52af0d0dbdcb02f491b1d88d">rb_obj_alloc</a>(klass);
<a name="l01636"></a>01636     <a class="code" href="../../d3/d57/eval_8c.html#ad3ae1a7723c48c35c5323b9d45c565fa">rb_obj_call_init</a>(obj, argc, argv);
<a name="l01637"></a>01637 
<a name="l01638"></a>01638     <span class="keywordflow">return</span> obj;
<a name="l01639"></a>01639 }
<a name="l01640"></a>01640 
<a name="l01641"></a>01641 <span class="comment">/*</span>
<a name="l01642"></a>01642 <span class="comment"> *  call-seq:</span>
<a name="l01643"></a>01643 <span class="comment"> *     class.superclass -&gt; a_super_class or nil</span>
<a name="l01644"></a>01644 <span class="comment"> *</span>
<a name="l01645"></a>01645 <span class="comment"> *  Returns the superclass of &lt;i&gt;class&lt;/i&gt;, or &lt;code&gt;nil&lt;/code&gt;.</span>
<a name="l01646"></a>01646 <span class="comment"> *</span>
<a name="l01647"></a>01647 <span class="comment"> *     File.superclass          #=&gt; IO</span>
<a name="l01648"></a>01648 <span class="comment"> *     IO.superclass            #=&gt; Object</span>
<a name="l01649"></a>01649 <span class="comment"> *     Object.superclass        #=&gt; BasicObject</span>
<a name="l01650"></a>01650 <span class="comment"> *     class Foo; end</span>
<a name="l01651"></a>01651 <span class="comment"> *     class Bar &lt; Foo; end</span>
<a name="l01652"></a>01652 <span class="comment"> *     Bar.superclass           #=&gt; Foo</span>
<a name="l01653"></a>01653 <span class="comment"> *</span>
<a name="l01654"></a>01654 <span class="comment"> *  returns nil when the given class hasn&apos;t a parent class:</span>
<a name="l01655"></a>01655 <span class="comment"> *</span>
<a name="l01656"></a>01656 <span class="comment"> *     BasicObject.superclass   #=&gt; nil</span>
<a name="l01657"></a>01657 <span class="comment"> *</span>
<a name="l01658"></a>01658 <span class="comment"> */</span>
<a name="l01659"></a>01659 
<a name="l01660"></a>01660 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01661"></a><a class="code" href="../../d0/de1/object_8c.html#a044897592b98c9c5a6f1425e6a4a34d7">01661</a> <a class="code" href="../../db/d2e/intern_8h.html#a5f875a8446cf92f47ce7863ec1c4162b">rb_class_superclass</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01662"></a>01662 {
<a name="l01663"></a>01663     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> super = <a class="code" href="../../d3/d09/ripper_8y.html#a19d17315b6b34045cdffec9912342b91">RCLASS_SUPER</a>(klass);
<a name="l01664"></a>01664 
<a name="l01665"></a>01665     <span class="keywordflow">if</span> (!super) {
<a name="l01666"></a>01666         <span class="keywordflow">if</span> (klass == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01667"></a>01667         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;uninitialized class&quot;</span>);
<a name="l01668"></a>01668     }
<a name="l01669"></a>01669     <span class="keywordflow">while</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(super) == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a82c8c4569748b9645c958b9eaeaabb81">T_ICLASS</a>) {
<a name="l01670"></a>01670         super = <a class="code" href="../../d3/d09/ripper_8y.html#a19d17315b6b34045cdffec9912342b91">RCLASS_SUPER</a>(super);
<a name="l01671"></a>01671     }
<a name="l01672"></a>01672     <span class="keywordflow">if</span> (!super) {
<a name="l01673"></a>01673         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01674"></a>01674     }
<a name="l01675"></a>01675     <span class="keywordflow">return</span> super;
<a name="l01676"></a>01676 }
<a name="l01677"></a>01677 
<a name="l01678"></a>01678 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01679"></a><a class="code" href="../../d0/de1/object_8c.html#a133e9099e73f3fa2325880ea6b235ca8">01679</a> <a class="code" href="../../db/d2e/intern_8h.html#a73720dff07fc705c99214903fe8244a2">rb_class_get_superclass</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01680"></a>01680 {
<a name="l01681"></a>01681     <span class="keywordflow">return</span> <a class="code" href="../../d3/d09/ripper_8y.html#a19d17315b6b34045cdffec9912342b91">RCLASS_SUPER</a>(klass);
<a name="l01682"></a>01682 }
<a name="l01683"></a>01683 
<a name="l01684"></a>01684 <span class="comment">/*</span>
<a name="l01685"></a>01685 <span class="comment"> *  call-seq:</span>
<a name="l01686"></a>01686 <span class="comment"> *     attr_reader(symbol, ...)    -&gt; nil</span>
<a name="l01687"></a>01687 <span class="comment"> *     attr(symbol, ...)             -&gt; nil</span>
<a name="l01688"></a>01688 <span class="comment"> *</span>
<a name="l01689"></a>01689 <span class="comment"> *  Creates instance variables and corresponding methods that return the</span>
<a name="l01690"></a>01690 <span class="comment"> *  value of each instance variable. Equivalent to calling</span>
<a name="l01691"></a>01691 <span class="comment"> *  ``&lt;code&gt;attr&lt;/code&gt;&lt;i&gt;:name&lt;/i&gt;&apos;&apos; on each name in turn.</span>
<a name="l01692"></a>01692 <span class="comment"> */</span>
<a name="l01693"></a>01693 
<a name="l01694"></a>01694 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01695"></a><a class="code" href="../../d0/de1/object_8c.html#a8c488763c79b4b573aedbf229ff6f8e3">01695</a> <a class="code" href="../../d0/de1/object_8c.html#a8c488763c79b4b573aedbf229ff6f8e3">rb_mod_attr_reader</a>(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01696"></a>01696 {
<a name="l01697"></a>01697     <span class="keywordtype">int</span> i;
<a name="l01698"></a>01698 
<a name="l01699"></a>01699     <span class="keywordflow">for</span> (i=0; i&lt;argc; i++) {
<a name="l01700"></a>01700         <a class="code" href="../../db/d2e/intern_8h.html#a187481b3db6f4bfb253eb0a4a4ee870e">rb_attr</a>(klass, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(argv[i]), <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="../../d1/d5c/nkf_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l01701"></a>01701     }
<a name="l01702"></a>01702     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01703"></a>01703 }
<a name="l01704"></a>01704 
<a name="l01705"></a>01705 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01706"></a><a class="code" href="../../d0/de1/object_8c.html#ae262b464b67c1d51a5c7e465b174132b">01706</a> <a class="code" href="../../d0/de1/object_8c.html#ae262b464b67c1d51a5c7e465b174132b">rb_mod_attr</a>(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01707"></a>01707 {
<a name="l01708"></a>01708     <span class="keywordflow">if</span> (argc == 2 &amp;&amp; (argv[1] == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a> || argv[1] == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>)) {
<a name="l01709"></a>01709         <a class="code" href="../../db/dcc/error_8c.html#afd461c64916576849b159b21a26123da">rb_warning</a>(<span class="stringliteral">&quot;optional boolean argument is obsoleted&quot;</span>);
<a name="l01710"></a>01710         <a class="code" href="../../db/d2e/intern_8h.html#a187481b3db6f4bfb253eb0a4a4ee870e">rb_attr</a>(klass, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(argv[0]), 1, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(argv[1]), <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l01711"></a>01711         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01712"></a>01712     }
<a name="l01713"></a>01713     <span class="keywordflow">return</span> <a class="code" href="../../d0/de1/object_8c.html#a8c488763c79b4b573aedbf229ff6f8e3">rb_mod_attr_reader</a>(argc, argv, klass);
<a name="l01714"></a>01714 }
<a name="l01715"></a>01715 
<a name="l01716"></a>01716 <span class="comment">/*</span>
<a name="l01717"></a>01717 <span class="comment"> *  call-seq:</span>
<a name="l01718"></a>01718 <span class="comment"> *      attr_writer(symbol, ...)    -&gt; nil</span>
<a name="l01719"></a>01719 <span class="comment"> *</span>
<a name="l01720"></a>01720 <span class="comment"> *  Creates an accessor method to allow assignment to the attribute</span>
<a name="l01721"></a>01721 <span class="comment"> *  &lt;i&gt;aSymbol&lt;/i&gt;&lt;code&gt;.id2name&lt;/code&gt;.</span>
<a name="l01722"></a>01722 <span class="comment"> */</span>
<a name="l01723"></a>01723 
<a name="l01724"></a>01724 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01725"></a><a class="code" href="../../d0/de1/object_8c.html#a8a0bee05b1c2a108f54986008c2db310">01725</a> <a class="code" href="../../d0/de1/object_8c.html#a8a0bee05b1c2a108f54986008c2db310">rb_mod_attr_writer</a>(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01726"></a>01726 {
<a name="l01727"></a>01727     <span class="keywordtype">int</span> i;
<a name="l01728"></a>01728 
<a name="l01729"></a>01729     <span class="keywordflow">for</span> (i=0; i&lt;argc; i++) {
<a name="l01730"></a>01730         <a class="code" href="../../db/d2e/intern_8h.html#a187481b3db6f4bfb253eb0a4a4ee870e">rb_attr</a>(klass, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(argv[i]), <a class="code" href="../../d1/d5c/nkf_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l01731"></a>01731     }
<a name="l01732"></a>01732     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01733"></a>01733 }
<a name="l01734"></a>01734 
<a name="l01735"></a>01735 <span class="comment">/*</span>
<a name="l01736"></a>01736 <span class="comment"> *  call-seq:</span>
<a name="l01737"></a>01737 <span class="comment"> *     attr_accessor(symbol, ...)    -&gt; nil</span>
<a name="l01738"></a>01738 <span class="comment"> *</span>
<a name="l01739"></a>01739 <span class="comment"> *  Defines a named attribute for this module, where the name is</span>
<a name="l01740"></a>01740 <span class="comment"> *  &lt;i&gt;symbol.&lt;/i&gt;&lt;code&gt;id2name&lt;/code&gt;, creating an instance variable</span>
<a name="l01741"></a>01741 <span class="comment"> *  (&lt;code&gt;@name&lt;/code&gt;) and a corresponding access method to read it.</span>
<a name="l01742"></a>01742 <span class="comment"> *  Also creates a method called &lt;code&gt;name=&lt;/code&gt; to set the attribute.</span>
<a name="l01743"></a>01743 <span class="comment"> *</span>
<a name="l01744"></a>01744 <span class="comment"> *     module Mod</span>
<a name="l01745"></a>01745 <span class="comment"> *       attr_accessor(:one, :two)</span>
<a name="l01746"></a>01746 <span class="comment"> *     end</span>
<a name="l01747"></a>01747 <span class="comment"> *     Mod.instance_methods.sort   #=&gt; [:one, :one=, :two, :two=]</span>
<a name="l01748"></a>01748 <span class="comment"> */</span>
<a name="l01749"></a>01749 
<a name="l01750"></a>01750 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01751"></a><a class="code" href="../../d0/de1/object_8c.html#a1b6e77612ff1c1543a7d0e5d5edf40dd">01751</a> <a class="code" href="../../d0/de1/object_8c.html#a1b6e77612ff1c1543a7d0e5d5edf40dd">rb_mod_attr_accessor</a>(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> klass)
<a name="l01752"></a>01752 {
<a name="l01753"></a>01753     <span class="keywordtype">int</span> i;
<a name="l01754"></a>01754 
<a name="l01755"></a>01755     <span class="keywordflow">for</span> (i=0; i&lt;argc; i++) {
<a name="l01756"></a>01756         <a class="code" href="../../db/d2e/intern_8h.html#a187481b3db6f4bfb253eb0a4a4ee870e">rb_attr</a>(klass, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(argv[i]), <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l01757"></a>01757     }
<a name="l01758"></a>01758     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l01759"></a>01759 }
<a name="l01760"></a>01760 
<a name="l01761"></a>01761 <span class="comment">/*</span>
<a name="l01762"></a>01762 <span class="comment"> *  call-seq:</span>
<a name="l01763"></a>01763 <span class="comment"> *     mod.const_get(sym, inherit=true)    -&gt; obj</span>
<a name="l01764"></a>01764 <span class="comment"> *</span>
<a name="l01765"></a>01765 <span class="comment"> *  Checks for a constant with the given name in &lt;i&gt;mod&lt;/i&gt;</span>
<a name="l01766"></a>01766 <span class="comment"> *  If +inherit+ is set, the lookup will also search</span>
<a name="l01767"></a>01767 <span class="comment"> *  the ancestors (and +Object+ if &lt;i&gt;mod&lt;/i&gt; is a +Module+.)</span>
<a name="l01768"></a>01768 <span class="comment"> *</span>
<a name="l01769"></a>01769 <span class="comment"> *  The value of the constant is returned if a definition is found,</span>
<a name="l01770"></a>01770 <span class="comment"> *  otherwise a +NameError+ is raised.</span>
<a name="l01771"></a>01771 <span class="comment"> *</span>
<a name="l01772"></a>01772 <span class="comment"> *     Math.const_get(:PI)   #=&gt; 3.14159265358979</span>
<a name="l01773"></a>01773 <span class="comment"> */</span>
<a name="l01774"></a>01774 
<a name="l01775"></a>01775 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01776"></a><a class="code" href="../../d0/de1/object_8c.html#a5e5ab7a500edf171517007aa1fedc63e">01776</a> <a class="code" href="../../d0/de1/object_8c.html#a5e5ab7a500edf171517007aa1fedc63e">rb_mod_const_get</a>(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>)
<a name="l01777"></a>01777 {
<a name="l01778"></a>01778     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d6/da0/nkf-utf8_2nkf_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../d9/df5/date__strptime_8c.html#a554631207e429ff3f75bc8bacf3806d4">recur</a>;
<a name="l01779"></a>01779     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <a class="code" href="../../d6/da0/nkf-utf8_2nkf_8c.html#a64ae40793ade89d800a8c5646d2980fc">id</a>;
<a name="l01780"></a>01780 
<a name="l01781"></a>01781     <span class="keywordflow">if</span> (argc == 1) {
<a name="l01782"></a>01782         name = argv[0];
<a name="l01783"></a>01783         recur = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l01784"></a>01784     }
<a name="l01785"></a>01785     <span class="keywordflow">else</span> {
<a name="l01786"></a>01786         <a class="code" href="../../d7/d19/group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a>(argc, argv, <span class="stringliteral">&quot;11&quot;</span>, &amp;name, &amp;recur);
<a name="l01787"></a>01787     }
<a name="l01788"></a>01788     <span class="keywordtype">id</span> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(name);
<a name="l01789"></a>01789     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d11/ripper_8c.html#a962e14dc81f0fa2107c555dd10129c27">rb_is_const_id</a>(<span class="keywordtype">id</span>)) {
<a name="l01790"></a>01790         <a class="code" href="../../db/dcc/error_8c.html#a362a64d927d726ab487a66d265187cab">rb_name_error</a>(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;wrong constant name %s&quot;</span>, <a class="code" href="../../d5/d11/ripper_8c.html#a877bc58c495643fcf49dc64c44631e72">rb_id2name</a>(<span class="keywordtype">id</span>));
<a name="l01791"></a>01791     }
<a name="l01792"></a>01792     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(recur) ? <a class="code" href="../../db/d2e/intern_8h.html#a17a81c1a7d754e5ab49fc4b4369b6c8c">rb_const_get</a>(mod, <span class="keywordtype">id</span>) : <a class="code" href="../../db/d2e/intern_8h.html#a8265931c0ae8ab5c2e40702295049439">rb_const_get_at</a>(mod, <span class="keywordtype">id</span>);
<a name="l01793"></a>01793 }
<a name="l01794"></a>01794 
<a name="l01795"></a>01795 <span class="comment">/*</span>
<a name="l01796"></a>01796 <span class="comment"> *  call-seq:</span>
<a name="l01797"></a>01797 <span class="comment"> *     mod.const_set(sym, obj)    -&gt; obj</span>
<a name="l01798"></a>01798 <span class="comment"> *</span>
<a name="l01799"></a>01799 <span class="comment"> *  Sets the named constant to the given object, returning that object.</span>
<a name="l01800"></a>01800 <span class="comment"> *  Creates a new constant if no constant with the given name previously</span>
<a name="l01801"></a>01801 <span class="comment"> *  existed.</span>
<a name="l01802"></a>01802 <span class="comment"> *</span>
<a name="l01803"></a>01803 <span class="comment"> *     Math.const_set(&quot;HIGH_SCHOOL_PI&quot;, 22.0/7.0)   #=&gt; 3.14285714285714</span>
<a name="l01804"></a>01804 <span class="comment"> *     Math::HIGH_SCHOOL_PI - Math::PI              #=&gt; 0.00126448926734968</span>
<a name="l01805"></a>01805 <span class="comment"> */</span>
<a name="l01806"></a>01806 
<a name="l01807"></a>01807 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01808"></a><a class="code" href="../../d0/de1/object_8c.html#a7b3188e5cf31acb75f87aa4116e0a999">01808</a> <a class="code" href="../../d0/de1/object_8c.html#a7b3188e5cf31acb75f87aa4116e0a999">rb_mod_const_set</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d6/da0/nkf-utf8_2nkf_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> value)
<a name="l01809"></a>01809 {
<a name="l01810"></a>01810     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <span class="keywordtype">id</span> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(name);
<a name="l01811"></a>01811 
<a name="l01812"></a>01812     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d11/ripper_8c.html#a962e14dc81f0fa2107c555dd10129c27">rb_is_const_id</a>(<span class="keywordtype">id</span>)) {
<a name="l01813"></a>01813         <a class="code" href="../../db/dcc/error_8c.html#a362a64d927d726ab487a66d265187cab">rb_name_error</a>(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;wrong constant name %s&quot;</span>, <a class="code" href="../../d5/d11/ripper_8c.html#a877bc58c495643fcf49dc64c44631e72">rb_id2name</a>(<span class="keywordtype">id</span>));
<a name="l01814"></a>01814     }
<a name="l01815"></a>01815     <a class="code" href="../../db/d2e/intern_8h.html#aaa03be2caf9a365acc44c307dfda6430">rb_const_set</a>(mod, <span class="keywordtype">id</span>, value);
<a name="l01816"></a>01816     <span class="keywordflow">return</span> value;
<a name="l01817"></a>01817 }
<a name="l01818"></a>01818 
<a name="l01819"></a>01819 <span class="comment">/*</span>
<a name="l01820"></a>01820 <span class="comment"> *  call-seq:</span>
<a name="l01821"></a>01821 <span class="comment"> *     mod.const_defined?(sym, inherit=true)   -&gt; true or false</span>
<a name="l01822"></a>01822 <span class="comment"> *</span>
<a name="l01823"></a>01823 <span class="comment"> *  Checks for a constant with the given name in &lt;i&gt;mod&lt;/i&gt;</span>
<a name="l01824"></a>01824 <span class="comment"> *  If +inherit+ is set, the lookup will also search</span>
<a name="l01825"></a>01825 <span class="comment"> *  the ancestors (and +Object+ if &lt;i&gt;mod&lt;/i&gt; is a +Module+.)</span>
<a name="l01826"></a>01826 <span class="comment"> *</span>
<a name="l01827"></a>01827 <span class="comment"> *  Returns whether or not a definition is found:</span>
<a name="l01828"></a>01828 <span class="comment"> *</span>
<a name="l01829"></a>01829 <span class="comment"> *     Math.const_defined? &quot;PI&quot;   #=&gt; true</span>
<a name="l01830"></a>01830 <span class="comment"> *     IO.const_defined? :SYNC   #=&gt; true</span>
<a name="l01831"></a>01831 <span class="comment"> *     IO.const_defined? :SYNC, false   #=&gt; false</span>
<a name="l01832"></a>01832 <span class="comment"> */</span>
<a name="l01833"></a>01833 
<a name="l01834"></a>01834 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01835"></a><a class="code" href="../../d0/de1/object_8c.html#aacfc69ad9b08ac0b8601ce3ba5ff0f08">01835</a> <a class="code" href="../../d0/de1/object_8c.html#aacfc69ad9b08ac0b8601ce3ba5ff0f08">rb_mod_const_defined</a>(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d1/d6f/date__strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>)
<a name="l01836"></a>01836 {
<a name="l01837"></a>01837     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d6/da0/nkf-utf8_2nkf_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../d9/df5/date__strptime_8c.html#a554631207e429ff3f75bc8bacf3806d4">recur</a>;
<a name="l01838"></a>01838     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <a class="code" href="../../d6/da0/nkf-utf8_2nkf_8c.html#a64ae40793ade89d800a8c5646d2980fc">id</a>;
<a name="l01839"></a>01839 
<a name="l01840"></a>01840     <span class="keywordflow">if</span> (argc == 1) {
<a name="l01841"></a>01841         name = argv[0];
<a name="l01842"></a>01842         recur = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>;
<a name="l01843"></a>01843     }
<a name="l01844"></a>01844     <span class="keywordflow">else</span> {
<a name="l01845"></a>01845         <a class="code" href="../../d7/d19/group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a>(argc, argv, <span class="stringliteral">&quot;11&quot;</span>, &amp;name, &amp;recur);
<a name="l01846"></a>01846     }
<a name="l01847"></a>01847     <span class="keywordtype">id</span> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(name);
<a name="l01848"></a>01848     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d11/ripper_8c.html#a962e14dc81f0fa2107c555dd10129c27">rb_is_const_id</a>(<span class="keywordtype">id</span>)) {
<a name="l01849"></a>01849         <a class="code" href="../../db/dcc/error_8c.html#a362a64d927d726ab487a66d265187cab">rb_name_error</a>(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;wrong constant name %s&quot;</span>, <a class="code" href="../../d5/d11/ripper_8c.html#a877bc58c495643fcf49dc64c44631e72">rb_id2name</a>(<span class="keywordtype">id</span>));
<a name="l01850"></a>01850     }
<a name="l01851"></a>01851     <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a117741045763c090b26e30a85bd0e0a6">RTEST</a>(recur) ? <a class="code" href="../../db/d2e/intern_8h.html#afaaee0b4c292ab56ca8acee9fad1242b">rb_const_defined</a>(mod, <span class="keywordtype">id</span>) : <a class="code" href="../../db/d2e/intern_8h.html#a6aa5b85eacf47a565659b4e32594f388">rb_const_defined_at</a>(mod, <span class="keywordtype">id</span>);
<a name="l01852"></a>01852 }
<a name="l01853"></a>01853 
<a name="l01854"></a>01854 <span class="comment">/*</span>
<a name="l01855"></a>01855 <span class="comment"> *  call-seq:</span>
<a name="l01856"></a>01856 <span class="comment"> *     obj.instance_variable_get(symbol)    -&gt; obj</span>
<a name="l01857"></a>01857 <span class="comment"> *</span>
<a name="l01858"></a>01858 <span class="comment"> *  Returns the value of the given instance variable, or nil if the</span>
<a name="l01859"></a>01859 <span class="comment"> *  instance variable is not set. The &lt;code&gt;@&lt;/code&gt; part of the</span>
<a name="l01860"></a>01860 <span class="comment"> *  variable name should be included for regular instance</span>
<a name="l01861"></a>01861 <span class="comment"> *  variables. Throws a &lt;code&gt;NameError&lt;/code&gt; exception if the</span>
<a name="l01862"></a>01862 <span class="comment"> *  supplied symbol is not valid as an instance variable name.</span>
<a name="l01863"></a>01863 <span class="comment"> *</span>
<a name="l01864"></a>01864 <span class="comment"> *     class Fred</span>
<a name="l01865"></a>01865 <span class="comment"> *       def initialize(p1, p2)</span>
<a name="l01866"></a>01866 <span class="comment"> *         @a, @b = p1, p2</span>
<a name="l01867"></a>01867 <span class="comment"> *       end</span>
<a name="l01868"></a>01868 <span class="comment"> *     end</span>
<a name="l01869"></a>01869 <span class="comment"> *     fred = Fred.new(&apos;cat&apos;, 99)</span>
<a name="l01870"></a>01870 <span class="comment"> *     fred.instance_variable_get(:@a)    #=&gt; &quot;cat&quot;</span>
<a name="l01871"></a>01871 <span class="comment"> *     fred.instance_variable_get(&quot;@b&quot;)   #=&gt; 99</span>
<a name="l01872"></a>01872 <span class="comment"> */</span>
<a name="l01873"></a>01873 
<a name="l01874"></a>01874 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01875"></a><a class="code" href="../../d0/de1/object_8c.html#ab67f3ef76ead7f39e5a6651a53d3dc84">01875</a> <a class="code" href="../../d0/de1/object_8c.html#ab67f3ef76ead7f39e5a6651a53d3dc84">rb_obj_ivar_get</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> iv)
<a name="l01876"></a>01876 {
<a name="l01877"></a>01877     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <span class="keywordtype">id</span> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(iv);
<a name="l01878"></a>01878 
<a name="l01879"></a>01879     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d11/ripper_8c.html#a80c6077ae7854872440eaa76a512786f">rb_is_instance_id</a>(<span class="keywordtype">id</span>)) {
<a name="l01880"></a>01880         <a class="code" href="../../db/dcc/error_8c.html#a362a64d927d726ab487a66d265187cab">rb_name_error</a>(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;`%s&apos; is not allowed as an instance variable name&quot;</span>, <a class="code" href="../../d5/d11/ripper_8c.html#a877bc58c495643fcf49dc64c44631e72">rb_id2name</a>(<span class="keywordtype">id</span>));
<a name="l01881"></a>01881     }
<a name="l01882"></a>01882     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a35a10b958666c1b330238eea7b7f3a8a">rb_ivar_get</a>(obj, <span class="keywordtype">id</span>);
<a name="l01883"></a>01883 }
<a name="l01884"></a>01884 
<a name="l01885"></a>01885 <span class="comment">/*</span>
<a name="l01886"></a>01886 <span class="comment"> *  call-seq:</span>
<a name="l01887"></a>01887 <span class="comment"> *     obj.instance_variable_set(symbol, obj)    -&gt; obj</span>
<a name="l01888"></a>01888 <span class="comment"> *</span>
<a name="l01889"></a>01889 <span class="comment"> *  Sets the instance variable names by &lt;i&gt;symbol&lt;/i&gt; to</span>
<a name="l01890"></a>01890 <span class="comment"> *  &lt;i&gt;object&lt;/i&gt;, thereby frustrating the efforts of the class&apos;s</span>
<a name="l01891"></a>01891 <span class="comment"> *  author to attempt to provide proper encapsulation. The variable</span>
<a name="l01892"></a>01892 <span class="comment"> *  did not have to exist prior to this call.</span>
<a name="l01893"></a>01893 <span class="comment"> *</span>
<a name="l01894"></a>01894 <span class="comment"> *     class Fred</span>
<a name="l01895"></a>01895 <span class="comment"> *       def initialize(p1, p2)</span>
<a name="l01896"></a>01896 <span class="comment"> *         @a, @b = p1, p2</span>
<a name="l01897"></a>01897 <span class="comment"> *       end</span>
<a name="l01898"></a>01898 <span class="comment"> *     end</span>
<a name="l01899"></a>01899 <span class="comment"> *     fred = Fred.new(&apos;cat&apos;, 99)</span>
<a name="l01900"></a>01900 <span class="comment"> *     fred.instance_variable_set(:@a, &apos;dog&apos;)   #=&gt; &quot;dog&quot;</span>
<a name="l01901"></a>01901 <span class="comment"> *     fred.instance_variable_set(:@c, &apos;cat&apos;)   #=&gt; &quot;cat&quot;</span>
<a name="l01902"></a>01902 <span class="comment"> *     fred.inspect                             #=&gt; &quot;#&lt;Fred:0x401b3da8 @a=\&quot;dog\&quot;, @b=99, @c=\&quot;cat\&quot;&gt;&quot;</span>
<a name="l01903"></a>01903 <span class="comment"> */</span>
<a name="l01904"></a>01904 
<a name="l01905"></a>01905 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01906"></a><a class="code" href="../../d0/de1/object_8c.html#ab2d6a3996b42f4f8041aa997e99609cd">01906</a> <a class="code" href="../../d0/de1/object_8c.html#ab2d6a3996b42f4f8041aa997e99609cd">rb_obj_ivar_set</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> iv, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val)
<a name="l01907"></a>01907 {
<a name="l01908"></a>01908     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <span class="keywordtype">id</span> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(iv);
<a name="l01909"></a>01909 
<a name="l01910"></a>01910     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d11/ripper_8c.html#a80c6077ae7854872440eaa76a512786f">rb_is_instance_id</a>(<span class="keywordtype">id</span>)) {
<a name="l01911"></a>01911         <a class="code" href="../../db/dcc/error_8c.html#a362a64d927d726ab487a66d265187cab">rb_name_error</a>(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;`%s&apos; is not allowed as an instance variable name&quot;</span>, <a class="code" href="../../d5/d11/ripper_8c.html#a877bc58c495643fcf49dc64c44631e72">rb_id2name</a>(<span class="keywordtype">id</span>));
<a name="l01912"></a>01912     }
<a name="l01913"></a>01913     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#acee88ad0375c8a9080e2283db494d257">rb_ivar_set</a>(obj, <span class="keywordtype">id</span>, val);
<a name="l01914"></a>01914 }
<a name="l01915"></a>01915 
<a name="l01916"></a>01916 <span class="comment">/*</span>
<a name="l01917"></a>01917 <span class="comment"> *  call-seq:</span>
<a name="l01918"></a>01918 <span class="comment"> *     obj.instance_variable_defined?(symbol)    -&gt; true or false</span>
<a name="l01919"></a>01919 <span class="comment"> *</span>
<a name="l01920"></a>01920 <span class="comment"> *  Returns &lt;code&gt;true&lt;/code&gt; if the given instance variable is</span>
<a name="l01921"></a>01921 <span class="comment"> *  defined in &lt;i&gt;obj&lt;/i&gt;.</span>
<a name="l01922"></a>01922 <span class="comment"> *</span>
<a name="l01923"></a>01923 <span class="comment"> *     class Fred</span>
<a name="l01924"></a>01924 <span class="comment"> *       def initialize(p1, p2)</span>
<a name="l01925"></a>01925 <span class="comment"> *         @a, @b = p1, p2</span>
<a name="l01926"></a>01926 <span class="comment"> *       end</span>
<a name="l01927"></a>01927 <span class="comment"> *     end</span>
<a name="l01928"></a>01928 <span class="comment"> *     fred = Fred.new(&apos;cat&apos;, 99)</span>
<a name="l01929"></a>01929 <span class="comment"> *     fred.instance_variable_defined?(:@a)    #=&gt; true</span>
<a name="l01930"></a>01930 <span class="comment"> *     fred.instance_variable_defined?(&quot;@b&quot;)   #=&gt; true</span>
<a name="l01931"></a>01931 <span class="comment"> *     fred.instance_variable_defined?(&quot;@c&quot;)   #=&gt; false</span>
<a name="l01932"></a>01932 <span class="comment"> */</span>
<a name="l01933"></a>01933 
<a name="l01934"></a>01934 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01935"></a><a class="code" href="../../d0/de1/object_8c.html#aee86b42ed63c5587009ebe795aa73d61">01935</a> <a class="code" href="../../d0/de1/object_8c.html#aee86b42ed63c5587009ebe795aa73d61">rb_obj_ivar_defined</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> iv)
<a name="l01936"></a>01936 {
<a name="l01937"></a>01937     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <span class="keywordtype">id</span> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(iv);
<a name="l01938"></a>01938 
<a name="l01939"></a>01939     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d11/ripper_8c.html#a80c6077ae7854872440eaa76a512786f">rb_is_instance_id</a>(<span class="keywordtype">id</span>)) {
<a name="l01940"></a>01940         <a class="code" href="../../db/dcc/error_8c.html#a362a64d927d726ab487a66d265187cab">rb_name_error</a>(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;`%s&apos; is not allowed as an instance variable name&quot;</span>, <a class="code" href="../../d5/d11/ripper_8c.html#a877bc58c495643fcf49dc64c44631e72">rb_id2name</a>(<span class="keywordtype">id</span>));
<a name="l01941"></a>01941     }
<a name="l01942"></a>01942     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a9c0716cf302d0e20cef34bb167dbcb9f">rb_ivar_defined</a>(obj, <span class="keywordtype">id</span>);
<a name="l01943"></a>01943 }
<a name="l01944"></a>01944 
<a name="l01945"></a>01945 <span class="comment">/*</span>
<a name="l01946"></a>01946 <span class="comment"> *  call-seq:</span>
<a name="l01947"></a>01947 <span class="comment"> *     mod.class_variable_get(symbol)    -&gt; obj</span>
<a name="l01948"></a>01948 <span class="comment"> *</span>
<a name="l01949"></a>01949 <span class="comment"> *  Returns the value of the given class variable (or throws a</span>
<a name="l01950"></a>01950 <span class="comment"> *  &lt;code&gt;NameError&lt;/code&gt; exception). The &lt;code&gt;@@&lt;/code&gt; part of the</span>
<a name="l01951"></a>01951 <span class="comment"> *  variable name should be included for regular class variables</span>
<a name="l01952"></a>01952 <span class="comment"> *</span>
<a name="l01953"></a>01953 <span class="comment"> *     class Fred</span>
<a name="l01954"></a>01954 <span class="comment"> *       @@foo = 99</span>
<a name="l01955"></a>01955 <span class="comment"> *     end</span>
<a name="l01956"></a>01956 <span class="comment"> *     Fred.class_variable_get(:@@foo)     #=&gt; 99</span>
<a name="l01957"></a>01957 <span class="comment"> */</span>
<a name="l01958"></a>01958 
<a name="l01959"></a>01959 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01960"></a><a class="code" href="../../d0/de1/object_8c.html#a22790bab205a282322238ad37bd2664b">01960</a> <a class="code" href="../../d0/de1/object_8c.html#a22790bab205a282322238ad37bd2664b">rb_mod_cvar_get</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> iv)
<a name="l01961"></a>01961 {
<a name="l01962"></a>01962     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <span class="keywordtype">id</span> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(iv);
<a name="l01963"></a>01963 
<a name="l01964"></a>01964     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d11/ripper_8c.html#ae03b927bba1f91cc00879a3d15fa1e21">rb_is_class_id</a>(<span class="keywordtype">id</span>)) {
<a name="l01965"></a>01965         <a class="code" href="../../db/dcc/error_8c.html#a362a64d927d726ab487a66d265187cab">rb_name_error</a>(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;`%s&apos; is not allowed as a class variable name&quot;</span>, <a class="code" href="../../d5/d11/ripper_8c.html#a877bc58c495643fcf49dc64c44631e72">rb_id2name</a>(<span class="keywordtype">id</span>));
<a name="l01966"></a>01966     }
<a name="l01967"></a>01967     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#aa54f10d1528c5042ecbd98967bc97066">rb_cvar_get</a>(obj, <span class="keywordtype">id</span>);
<a name="l01968"></a>01968 }
<a name="l01969"></a>01969 
<a name="l01970"></a>01970 <span class="comment">/*</span>
<a name="l01971"></a>01971 <span class="comment"> *  call-seq:</span>
<a name="l01972"></a>01972 <span class="comment"> *     obj.class_variable_set(symbol, obj)    -&gt; obj</span>
<a name="l01973"></a>01973 <span class="comment"> *</span>
<a name="l01974"></a>01974 <span class="comment"> *  Sets the class variable names by &lt;i&gt;symbol&lt;/i&gt; to</span>
<a name="l01975"></a>01975 <span class="comment"> *  &lt;i&gt;object&lt;/i&gt;.</span>
<a name="l01976"></a>01976 <span class="comment"> *</span>
<a name="l01977"></a>01977 <span class="comment"> *     class Fred</span>
<a name="l01978"></a>01978 <span class="comment"> *       @@foo = 99</span>
<a name="l01979"></a>01979 <span class="comment"> *       def foo</span>
<a name="l01980"></a>01980 <span class="comment"> *         @@foo</span>
<a name="l01981"></a>01981 <span class="comment"> *       end</span>
<a name="l01982"></a>01982 <span class="comment"> *     end</span>
<a name="l01983"></a>01983 <span class="comment"> *     Fred.class_variable_set(:@@foo, 101)     #=&gt; 101</span>
<a name="l01984"></a>01984 <span class="comment"> *     Fred.new.foo                             #=&gt; 101</span>
<a name="l01985"></a>01985 <span class="comment"> */</span>
<a name="l01986"></a>01986 
<a name="l01987"></a>01987 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l01988"></a><a class="code" href="../../d0/de1/object_8c.html#a5921ef8e364b7888848126151deec231">01988</a> <a class="code" href="../../d0/de1/object_8c.html#a5921ef8e364b7888848126151deec231">rb_mod_cvar_set</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> iv, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val)
<a name="l01989"></a>01989 {
<a name="l01990"></a>01990     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <span class="keywordtype">id</span> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(iv);
<a name="l01991"></a>01991 
<a name="l01992"></a>01992     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d11/ripper_8c.html#ae03b927bba1f91cc00879a3d15fa1e21">rb_is_class_id</a>(<span class="keywordtype">id</span>)) {
<a name="l01993"></a>01993         <a class="code" href="../../db/dcc/error_8c.html#a362a64d927d726ab487a66d265187cab">rb_name_error</a>(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;`%s&apos; is not allowed as a class variable name&quot;</span>, <a class="code" href="../../d5/d11/ripper_8c.html#a877bc58c495643fcf49dc64c44631e72">rb_id2name</a>(<span class="keywordtype">id</span>));
<a name="l01994"></a>01994     }
<a name="l01995"></a>01995     <a class="code" href="../../db/d2e/intern_8h.html#a6d1d41b65098b2e5245b3bdb316e32b0">rb_cvar_set</a>(obj, <span class="keywordtype">id</span>, val);
<a name="l01996"></a>01996     <span class="keywordflow">return</span> val;
<a name="l01997"></a>01997 }
<a name="l01998"></a>01998 
<a name="l01999"></a>01999 <span class="comment">/*</span>
<a name="l02000"></a>02000 <span class="comment"> *  call-seq:</span>
<a name="l02001"></a>02001 <span class="comment"> *     obj.class_variable_defined?(symbol)    -&gt; true or false</span>
<a name="l02002"></a>02002 <span class="comment"> *</span>
<a name="l02003"></a>02003 <span class="comment"> *  Returns &lt;code&gt;true&lt;/code&gt; if the given class variable is defined</span>
<a name="l02004"></a>02004 <span class="comment"> *  in &lt;i&gt;obj&lt;/i&gt;.</span>
<a name="l02005"></a>02005 <span class="comment"> *</span>
<a name="l02006"></a>02006 <span class="comment"> *     class Fred</span>
<a name="l02007"></a>02007 <span class="comment"> *       @@foo = 99</span>
<a name="l02008"></a>02008 <span class="comment"> *     end</span>
<a name="l02009"></a>02009 <span class="comment"> *     Fred.class_variable_defined?(:@@foo)    #=&gt; true</span>
<a name="l02010"></a>02010 <span class="comment"> *     Fred.class_variable_defined?(:@@bar)    #=&gt; false</span>
<a name="l02011"></a>02011 <span class="comment"> */</span>
<a name="l02012"></a>02012 
<a name="l02013"></a>02013 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02014"></a><a class="code" href="../../d0/de1/object_8c.html#aba2862da27bfb6ac732cb59e7e79b2b6">02014</a> <a class="code" href="../../d0/de1/object_8c.html#aba2862da27bfb6ac732cb59e7e79b2b6">rb_mod_cvar_defined</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> iv)
<a name="l02015"></a>02015 {
<a name="l02016"></a>02016     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <span class="keywordtype">id</span> = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afe85fbdbbfefb46b9c12e725c9a04970">rb_to_id</a>(iv);
<a name="l02017"></a>02017 
<a name="l02018"></a>02018     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d11/ripper_8c.html#ae03b927bba1f91cc00879a3d15fa1e21">rb_is_class_id</a>(<span class="keywordtype">id</span>)) {
<a name="l02019"></a>02019         <a class="code" href="../../db/dcc/error_8c.html#a362a64d927d726ab487a66d265187cab">rb_name_error</a>(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;`%s&apos; is not allowed as a class variable name&quot;</span>, <a class="code" href="../../d5/d11/ripper_8c.html#a877bc58c495643fcf49dc64c44631e72">rb_id2name</a>(<span class="keywordtype">id</span>));
<a name="l02020"></a>02020     }
<a name="l02021"></a>02021     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a298559db32fd9dd28db69711b0417c16">rb_cvar_defined</a>(obj, <span class="keywordtype">id</span>);
<a name="l02022"></a>02022 }
<a name="l02023"></a>02023 
<a name="l02024"></a><a class="code" href="../../d1/d1f/structconv__method__tbl.html">02024</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/d1f/structconv__method__tbl.html">conv_method_tbl</a> {
<a name="l02025"></a><a class="code" href="../../d1/d1f/structconv__method__tbl.html#af7f1ef0b05287c23a9c8aa1f18d45eaa">02025</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d1f/structconv__method__tbl.html#af7f1ef0b05287c23a9c8aa1f18d45eaa">method</a>;
<a name="l02026"></a><a class="code" href="../../d1/d1f/structconv__method__tbl.html#af1833c1eea07a83e4cdfa0483bc1cce2">02026</a>     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> <a class="code" href="../../d1/d1f/structconv__method__tbl.html#af1833c1eea07a83e4cdfa0483bc1cce2">id</a>;
<a name="l02027"></a>02027 } <a class="code" href="../../d0/de1/object_8c.html#ab903a74cf30ea2be6e138b9dc2148621">conv_method_names</a>[] = {
<a name="l02028"></a>02028     {<span class="stringliteral">&quot;to_int&quot;</span>, 0},
<a name="l02029"></a>02029     {<span class="stringliteral">&quot;to_ary&quot;</span>, 0},
<a name="l02030"></a>02030     {<span class="stringliteral">&quot;to_str&quot;</span>, 0},
<a name="l02031"></a>02031     {<span class="stringliteral">&quot;to_sym&quot;</span>, 0},
<a name="l02032"></a>02032     {<span class="stringliteral">&quot;to_hash&quot;</span>, 0},
<a name="l02033"></a>02033     {<span class="stringliteral">&quot;to_proc&quot;</span>, 0},
<a name="l02034"></a>02034     {<span class="stringliteral">&quot;to_io&quot;</span>, 0},
<a name="l02035"></a>02035     {<span class="stringliteral">&quot;to_a&quot;</span>, 0},
<a name="l02036"></a>02036     {<span class="stringliteral">&quot;to_s&quot;</span>, 0},
<a name="l02037"></a>02037     {<a class="code" href="../../d3/d09/ripper_8y.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0}
<a name="l02038"></a>02038 };
<a name="l02039"></a>02039 
<a name="l02040"></a>02040 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02041"></a><a class="code" href="../../d0/de1/object_8c.html#a4dc3092b8c4d35304d889aac83e33533">02041</a> <a class="code" href="../../d0/de1/object_8c.html#a4dc3092b8c4d35304d889aac83e33533">convert_type</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val, <span class="keyword">const</span> <span class="keywordtype">char</span> *tname, <span class="keyword">const</span> <span class="keywordtype">char</span> *method, <span class="keywordtype">int</span> <span class="keyword">raise</span>)
<a name="l02042"></a>02042 {
<a name="l02043"></a>02043     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afa5b9137f051ac26d7ccc8824f178233">ID</a> m = 0;
<a name="l02044"></a>02044     <span class="keywordtype">int</span> i;
<a name="l02045"></a>02045     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> r;
<a name="l02046"></a>02046 
<a name="l02047"></a>02047     <span class="keywordflow">for</span> (i=0; <a class="code" href="../../d0/de1/object_8c.html#ab903a74cf30ea2be6e138b9dc2148621">conv_method_names</a>[i].<a class="code" href="../../d1/d1f/structconv__method__tbl.html#af7f1ef0b05287c23a9c8aa1f18d45eaa">method</a>; i++) {
<a name="l02048"></a>02048         <span class="keywordflow">if</span> (<a class="code" href="../../d0/de1/object_8c.html#ab903a74cf30ea2be6e138b9dc2148621">conv_method_names</a>[i].method[0] == method[0] &amp;&amp;
<a name="l02049"></a>02049             strcmp(<a class="code" href="../../d0/de1/object_8c.html#ab903a74cf30ea2be6e138b9dc2148621">conv_method_names</a>[i].method, method) == 0) {
<a name="l02050"></a>02050             m = <a class="code" href="../../d0/de1/object_8c.html#ab903a74cf30ea2be6e138b9dc2148621">conv_method_names</a>[i].<a class="code" href="../../d1/d1f/structconv__method__tbl.html#af1833c1eea07a83e4cdfa0483bc1cce2">id</a>;
<a name="l02051"></a>02051             <span class="keywordflow">break</span>;
<a name="l02052"></a>02052         }
<a name="l02053"></a>02053     }
<a name="l02054"></a>02054     <span class="keywordflow">if</span> (!m) m = <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(method);
<a name="l02055"></a>02055     r = <a class="code" href="../../db/d2e/intern_8h.html#a9c3f641e5ef22868b06b3ae22a640f18">rb_check_funcall</a>(val, m, 0, 0);
<a name="l02056"></a>02056     <span class="keywordflow">if</span> (r == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2edf6990280eb2637623ccd421dee4f0">Qundef</a>) {
<a name="l02057"></a>02057         <span class="keywordflow">if</span> (<span class="keyword">raise</span>) {
<a name="l02058"></a>02058             <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t convert %s into %s&quot;</span>,
<a name="l02059"></a>02059                      <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a>(val) ? <span class="stringliteral">&quot;nil&quot;</span> :
<a name="l02060"></a>02060                      val == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a> ? <span class="stringliteral">&quot;true&quot;</span> :
<a name="l02061"></a>02061                      val == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a> ? <span class="stringliteral">&quot;false&quot;</span> :
<a name="l02062"></a>02062                      <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(val),
<a name="l02063"></a>02063                      tname);
<a name="l02064"></a>02064         }
<a name="l02065"></a>02065         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l02066"></a>02066     }
<a name="l02067"></a>02067     <span class="keywordflow">return</span> r;
<a name="l02068"></a>02068 }
<a name="l02069"></a>02069 
<a name="l02070"></a>02070 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02071"></a><a class="code" href="../../d0/de1/object_8c.html#a14d863eac29ed278457e4304ae9c1ed6">02071</a> <a class="code" href="../../db/d2e/intern_8h.html#a692c7c3caf5cdcf40d3812136f757fb5">rb_convert_type</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val, <span class="keywordtype">int</span> <a class="code" href="../../d5/d9d/tcltklib_8c.html#ac765329451135abec74c45e1897abf26">type</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *tname, <span class="keyword">const</span> <span class="keywordtype">char</span> *method)
<a name="l02072"></a>02072 {
<a name="l02073"></a>02073     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> v;
<a name="l02074"></a>02074 
<a name="l02075"></a>02075     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(val) == type) <span class="keywordflow">return</span> val;
<a name="l02076"></a>02076     v = <a class="code" href="../../d0/de1/object_8c.html#a4dc3092b8c4d35304d889aac83e33533">convert_type</a>(val, tname, method, <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l02077"></a>02077     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(v) != type) {
<a name="l02078"></a>02078         <span class="keyword">const</span> <span class="keywordtype">char</span> *cname = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(val);
<a name="l02079"></a>02079         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t convert %s to %s (%s#%s gives %s)&quot;</span>,
<a name="l02080"></a>02080                  cname, tname, cname, method, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(v));
<a name="l02081"></a>02081     }
<a name="l02082"></a>02082     <span class="keywordflow">return</span> v;
<a name="l02083"></a>02083 }
<a name="l02084"></a>02084 
<a name="l02085"></a>02085 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02086"></a><a class="code" href="../../d0/de1/object_8c.html#a261b2284189178fbd159da4fb40dc9e0">02086</a> <a class="code" href="../../db/d2e/intern_8h.html#a16e59d05c8eb1641308bc1018c333cc1">rb_check_convert_type</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val, <span class="keywordtype">int</span> <a class="code" href="../../d5/d9d/tcltklib_8c.html#ac765329451135abec74c45e1897abf26">type</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *tname, <span class="keyword">const</span> <span class="keywordtype">char</span> *method)
<a name="l02087"></a>02087 {
<a name="l02088"></a>02088     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> v;
<a name="l02089"></a>02089 
<a name="l02090"></a>02090     <span class="comment">/* always convert T_DATA */</span>
<a name="l02091"></a>02091     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(val) == type &amp;&amp; type != <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a55f295817faf14e42b3cff745a7ac706">T_DATA</a>) <span class="keywordflow">return</span> val;
<a name="l02092"></a>02092     v = <a class="code" href="../../d0/de1/object_8c.html#a4dc3092b8c4d35304d889aac83e33533">convert_type</a>(val, tname, method, <a class="code" href="../../d1/d5c/nkf_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
<a name="l02093"></a>02093     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a>(v)) <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l02094"></a>02094     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(v) != type) {
<a name="l02095"></a>02095         <span class="keyword">const</span> <span class="keywordtype">char</span> *cname = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(val);
<a name="l02096"></a>02096         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t convert %s to %s (%s#%s gives %s)&quot;</span>,
<a name="l02097"></a>02097                  cname, tname, cname, method, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(v));
<a name="l02098"></a>02098     }
<a name="l02099"></a>02099     <span class="keywordflow">return</span> v;
<a name="l02100"></a>02100 }
<a name="l02101"></a>02101 
<a name="l02102"></a>02102 
<a name="l02103"></a>02103 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02104"></a><a class="code" href="../../d0/de1/object_8c.html#ab75c4da95e28e57bb70967f056d784c7">02104</a> <a class="code" href="../../d0/de1/object_8c.html#ab75c4da95e28e57bb70967f056d784c7">rb_to_integer</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val, <span class="keyword">const</span> <span class="keywordtype">char</span> *method)
<a name="l02105"></a>02105 {
<a name="l02106"></a>02106     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> v;
<a name="l02107"></a>02107 
<a name="l02108"></a>02108     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#acf2fcf97dcf9c7c35452730eb3e2aeb2">FIXNUM_P</a>(val)) <span class="keywordflow">return</span> val;
<a name="l02109"></a>02109     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(val) == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a41ac74a27dd1eadc2ca86d10590f2163">T_BIGNUM</a>) <span class="keywordflow">return</span> val;
<a name="l02110"></a>02110     v = <a class="code" href="../../d0/de1/object_8c.html#a4dc3092b8c4d35304d889aac83e33533">convert_type</a>(val, <span class="stringliteral">&quot;Integer&quot;</span>, method, <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l02111"></a>02111     <span class="keywordflow">if</span> (!<a class="code" href="../../db/d2e/intern_8h.html#a6e65fc310dd65ebd60d68ada991da6f6">rb_obj_is_kind_of</a>(v, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a633329e55222507402831db26be9f9d2">rb_cInteger</a>)) {
<a name="l02112"></a>02112         <span class="keyword">const</span> <span class="keywordtype">char</span> *cname = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(val);
<a name="l02113"></a>02113         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t convert %s to Integer (%s#%s gives %s)&quot;</span>,
<a name="l02114"></a>02114                  cname, cname, method, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(v));
<a name="l02115"></a>02115     }
<a name="l02116"></a>02116     <span class="keywordflow">return</span> v;
<a name="l02117"></a>02117 }
<a name="l02118"></a>02118 
<a name="l02119"></a>02119 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02120"></a><a class="code" href="../../d0/de1/object_8c.html#ad65e358d9977ab51662b149b1f09747b">02120</a> <a class="code" href="../../db/d2e/intern_8h.html#aa6019bc11856926dd4b9c7adade93d8f">rb_check_to_integer</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val, <span class="keyword">const</span> <span class="keywordtype">char</span> *method)
<a name="l02121"></a>02121 {
<a name="l02122"></a>02122     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> v;
<a name="l02123"></a>02123 
<a name="l02124"></a>02124     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#acf2fcf97dcf9c7c35452730eb3e2aeb2">FIXNUM_P</a>(val)) <span class="keywordflow">return</span> val;
<a name="l02125"></a>02125     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(val) == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a41ac74a27dd1eadc2ca86d10590f2163">T_BIGNUM</a>) <span class="keywordflow">return</span> val;
<a name="l02126"></a>02126     v = <a class="code" href="../../d0/de1/object_8c.html#a4dc3092b8c4d35304d889aac83e33533">convert_type</a>(val, <span class="stringliteral">&quot;Integer&quot;</span>, method, <a class="code" href="../../d1/d5c/nkf_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
<a name="l02127"></a>02127     <span class="keywordflow">if</span> (!<a class="code" href="../../db/d2e/intern_8h.html#a6e65fc310dd65ebd60d68ada991da6f6">rb_obj_is_kind_of</a>(v, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a633329e55222507402831db26be9f9d2">rb_cInteger</a>)) {
<a name="l02128"></a>02128         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l02129"></a>02129     }
<a name="l02130"></a>02130     <span class="keywordflow">return</span> v;
<a name="l02131"></a>02131 }
<a name="l02132"></a>02132 
<a name="l02133"></a>02133 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02134"></a><a class="code" href="../../d0/de1/object_8c.html#afb7c01d5bf1791dee974288efd453662">02134</a> <a class="code" href="../../db/d2e/intern_8h.html#ae98f9e6c1a4b5181ca48e36d06b3157b">rb_to_int</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val)
<a name="l02135"></a>02135 {
<a name="l02136"></a>02136     <span class="keywordflow">return</span> <a class="code" href="../../d0/de1/object_8c.html#ab75c4da95e28e57bb70967f056d784c7">rb_to_integer</a>(val, <span class="stringliteral">&quot;to_int&quot;</span>);
<a name="l02137"></a>02137 }
<a name="l02138"></a>02138 
<a name="l02139"></a>02139 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02140"></a><a class="code" href="../../d0/de1/object_8c.html#a19eed57aabbf0d25dedbef96d30559f9">02140</a> <a class="code" href="../../d0/de1/object_8c.html#a19eed57aabbf0d25dedbef96d30559f9">rb_convert_to_integer</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val, <span class="keywordtype">int</span> base)
<a name="l02141"></a>02141 {
<a name="l02142"></a>02142     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> tmp;
<a name="l02143"></a>02143 
<a name="l02144"></a>02144     <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(val)) {
<a name="l02145"></a>02145       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3d072e0c25cf678e9b8601b957b92eae">T_FLOAT</a>:
<a name="l02146"></a>02146         <span class="keywordflow">if</span> (base != 0) <span class="keywordflow">goto</span> arg_error;
<a name="l02147"></a>02147         <span class="keywordflow">if</span> (<a class="code" href="../../d8/df4/generator_8h.html#a74258e532cd500e1cdfd6dcda7e97873">RFLOAT_VALUE</a>(val) &lt;= (<span class="keywordtype">double</span>)<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ab1040c5fdcb7a88dca4c25222bf43454">FIXNUM_MAX</a>
<a name="l02148"></a>02148             &amp;&amp; <a class="code" href="../../d8/df4/generator_8h.html#a74258e532cd500e1cdfd6dcda7e97873">RFLOAT_VALUE</a>(val) &gt;= (<span class="keywordtype">double</span>)<a class="code" href="../../de/de6/ruby_2ruby_8h.html#aa5bd957eb3db4bec258cd36a2cafe352">FIXNUM_MIN</a>) {
<a name="l02149"></a>02149             <span class="keywordflow">break</span>;
<a name="l02150"></a>02150         }
<a name="l02151"></a>02151         <span class="keywordflow">return</span> <a class="code" href="../../d1/dcc/bignum_8c.html#a7cf59f449a9f516aa7d781db3357dd94">rb_dbl2big</a>(<a class="code" href="../../d8/df4/generator_8h.html#a74258e532cd500e1cdfd6dcda7e97873">RFLOAT_VALUE</a>(val));
<a name="l02152"></a>02152 
<a name="l02153"></a>02153       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a523855de5546c34061e030f4606db3e9">T_FIXNUM</a>:
<a name="l02154"></a>02154       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a41ac74a27dd1eadc2ca86d10590f2163">T_BIGNUM</a>:
<a name="l02155"></a>02155         <span class="keywordflow">if</span> (base != 0) <span class="keywordflow">goto</span> arg_error;
<a name="l02156"></a>02156         <span class="keywordflow">return</span> val;
<a name="l02157"></a>02157 
<a name="l02158"></a>02158       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a22a8c2a4bbaae9b68f65c9bb92fd4e39">T_STRING</a>:
<a name="l02159"></a>02159       string_conv:
<a name="l02160"></a>02160         <span class="keywordflow">return</span> <a class="code" href="../../d1/dcc/bignum_8c.html#a3c364897a7c673caf46ccdbf62536a07">rb_str_to_inum</a>(val, base, <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l02161"></a>02161 
<a name="l02162"></a>02162       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3a7d10c48d5dff0a5d4aa94acb74811a">T_NIL</a>:
<a name="l02163"></a>02163         <span class="keywordflow">if</span> (base != 0) <span class="keywordflow">goto</span> arg_error;
<a name="l02164"></a>02164         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t convert nil into Integer&quot;</span>);
<a name="l02165"></a>02165         <span class="keywordflow">break</span>;
<a name="l02166"></a>02166 
<a name="l02167"></a>02167       <span class="keywordflow">default</span>:
<a name="l02168"></a>02168         <span class="keywordflow">break</span>;
<a name="l02169"></a>02169     }
<a name="l02170"></a>02170     <span class="keywordflow">if</span> (base != 0) {
<a name="l02171"></a>02171         tmp = <a class="code" href="../../db/d2e/intern_8h.html#a669b6063704b2d304844bd1553217cf0">rb_check_string_type</a>(val);
<a name="l02172"></a>02172         <span class="keywordflow">if</span> (!<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a>(tmp)) <span class="keywordflow">goto</span> string_conv;
<a name="l02173"></a>02173       arg_error:
<a name="l02174"></a>02174         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#ab5e2a9fec766c75176fbb262bfe6a596">rb_eArgError</a>, <span class="stringliteral">&quot;base specified for non string value&quot;</span>);
<a name="l02175"></a>02175     }
<a name="l02176"></a>02176     tmp = <a class="code" href="../../d0/de1/object_8c.html#a4dc3092b8c4d35304d889aac83e33533">convert_type</a>(val, <span class="stringliteral">&quot;Integer&quot;</span>, <span class="stringliteral">&quot;to_int&quot;</span>, <a class="code" href="../../d1/d5c/nkf_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
<a name="l02177"></a>02177     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a>(tmp)) {
<a name="l02178"></a>02178         <span class="keywordflow">return</span> <a class="code" href="../../d0/de1/object_8c.html#ab75c4da95e28e57bb70967f056d784c7">rb_to_integer</a>(val, <span class="stringliteral">&quot;to_i&quot;</span>);
<a name="l02179"></a>02179     }
<a name="l02180"></a>02180     <span class="keywordflow">return</span> tmp;
<a name="l02181"></a>02181 
<a name="l02182"></a>02182 }
<a name="l02183"></a>02183 
<a name="l02184"></a>02184 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02185"></a><a class="code" href="../../d0/de1/object_8c.html#a7819599c68ddb56c72d81b5d6491f68e">02185</a> <a class="code" href="../../db/d2e/intern_8h.html#ad950d1bea5353b9072fbfd7b2139139a">rb_Integer</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val)
<a name="l02186"></a>02186 {
<a name="l02187"></a>02187     <span class="keywordflow">return</span> <a class="code" href="../../d0/de1/object_8c.html#a19eed57aabbf0d25dedbef96d30559f9">rb_convert_to_integer</a>(val, 0);
<a name="l02188"></a>02188 }
<a name="l02189"></a>02189 
<a name="l02190"></a>02190 <span class="comment">/*</span>
<a name="l02191"></a>02191 <span class="comment"> *  call-seq:</span>
<a name="l02192"></a>02192 <span class="comment"> *     Integer(arg,base=0)    -&gt; integer</span>
<a name="l02193"></a>02193 <span class="comment"> *</span>
<a name="l02194"></a>02194 <span class="comment"> *  Converts &lt;i&gt;arg&lt;/i&gt; to a &lt;code&gt;Fixnum&lt;/code&gt; or &lt;code&gt;Bignum&lt;/code&gt;.</span>
<a name="l02195"></a>02195 <span class="comment"> *  Numeric types are converted directly (with floating point numbers</span>
<a name="l02196"></a>02196 <span class="comment"> *  being truncated).    &lt;i&gt;base&lt;/i&gt; (0, or between 2 and 36) is a base for</span>
<a name="l02197"></a>02197 <span class="comment"> *  integer string representation.  If &lt;i&gt;arg&lt;/i&gt; is a &lt;code&gt;String&lt;/code&gt;,</span>
<a name="l02198"></a>02198 <span class="comment"> *  when &lt;i&gt;base&lt;/i&gt; is omitted or equals to zero, radix indicators</span>
<a name="l02199"></a>02199 <span class="comment"> *  (&lt;code&gt;0&lt;/code&gt;, &lt;code&gt;0b&lt;/code&gt;, and &lt;code&gt;0x&lt;/code&gt;) are honored.</span>
<a name="l02200"></a>02200 <span class="comment"> *  In any case, strings should be strictly conformed to numeric</span>
<a name="l02201"></a>02201 <span class="comment"> *  representation. This behavior is different from that of</span>
<a name="l02202"></a>02202 <span class="comment"> *  &lt;code&gt;String#to_i&lt;/code&gt;.  Non string values will be converted using</span>
<a name="l02203"></a>02203 <span class="comment"> *  &lt;code&gt;to_int&lt;/code&gt;, and &lt;code&gt;to_i&lt;/code&gt;.</span>
<a name="l02204"></a>02204 <span class="comment"> *</span>
<a name="l02205"></a>02205 <span class="comment"> *     Integer(123.999)    #=&gt; 123</span>
<a name="l02206"></a>02206 <span class="comment"> *     Integer(&quot;0x1a&quot;)     #=&gt; 26</span>
<a name="l02207"></a>02207 <span class="comment"> *     Integer(Time.new)   #=&gt; 1204973019</span>
<a name="l02208"></a>02208 <span class="comment"> *     Integer(&quot;0930&quot;, 10) #=&gt; 930</span>
<a name="l02209"></a>02209 <span class="comment"> *     Integer(&quot;111&quot;, 2)   #=&gt; 7</span>
<a name="l02210"></a>02210 <span class="comment"> */</span>
<a name="l02211"></a>02211 
<a name="l02212"></a>02212 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02213"></a><a class="code" href="../../d0/de1/object_8c.html#a32bd1dec2c4cc85809a6fb5a6dad3b5b">02213</a> <a class="code" href="../../d0/de1/object_8c.html#a32bd1dec2c4cc85809a6fb5a6dad3b5b">rb_f_integer</a>(<span class="keywordtype">int</span> <a class="code" href="../../df/d77/ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> *<a class="code" href="../../df/d77/ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj)
<a name="l02214"></a>02214 {
<a name="l02215"></a>02215     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> arg = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l02216"></a>02216     <span class="keywordtype">int</span> base = 0;
<a name="l02217"></a>02217 
<a name="l02218"></a>02218     <span class="keywordflow">switch</span> (argc) {
<a name="l02219"></a>02219       <span class="keywordflow">case</span> 2:
<a name="l02220"></a>02220         base = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a877c38180d23c5447d976c70dda89d69">NUM2INT</a>(argv[1]);
<a name="l02221"></a>02221       <span class="keywordflow">case</span> 1:
<a name="l02222"></a>02222         arg = argv[0];
<a name="l02223"></a>02223         <span class="keywordflow">break</span>;
<a name="l02224"></a>02224       <span class="keywordflow">default</span>:
<a name="l02225"></a>02225         <span class="comment">/* should cause ArgumentError */</span>
<a name="l02226"></a>02226         <a class="code" href="../../d7/d19/group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a>(argc, argv, <span class="stringliteral">&quot;11&quot;</span>, <a class="code" href="../../d3/d09/ripper_8y.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/d09/ripper_8y.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02227"></a>02227     }
<a name="l02228"></a>02228     <span class="keywordflow">return</span> <a class="code" href="../../d0/de1/object_8c.html#a19eed57aabbf0d25dedbef96d30559f9">rb_convert_to_integer</a>(arg, base);
<a name="l02229"></a>02229 }
<a name="l02230"></a>02230 
<a name="l02231"></a>02231 <span class="keywordtype">double</span>
<a name="l02232"></a><a class="code" href="../../d0/de1/object_8c.html#ad1e3bd5353f716ced4a836228de7f92c">02232</a> <a class="code" href="../../db/d2e/intern_8h.html#a239ff81d5781209ce8c32033014b0e71">rb_cstr_to_dbl</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *p, <span class="keywordtype">int</span> badcheck)
<a name="l02233"></a>02233 {
<a name="l02234"></a>02234     <span class="keyword">const</span> <span class="keywordtype">char</span> *q;
<a name="l02235"></a>02235     <span class="keywordtype">char</span> *end;
<a name="l02236"></a>02236     <span class="keywordtype">double</span> d;
<a name="l02237"></a>02237     <span class="keyword">const</span> <span class="keywordtype">char</span> *ellipsis = <span class="stringliteral">&quot;&quot;</span>;
<a name="l02238"></a>02238     <span class="keywordtype">int</span> w;
<a name="l02239"></a>02239     <span class="keyword">enum</span> {max_width = 20};
<a name="l02240"></a>02240 <span class="preprocessor">#define OutOfRange() ((end - p &gt; max_width) ? \</span>
<a name="l02241"></a>02241 <span class="preprocessor">                      (w = max_width, ellipsis = &quot;...&quot;) : \</span>
<a name="l02242"></a>02242 <span class="preprocessor">                      (w = (int)(end - p), ellipsis = &quot;&quot;))</span>
<a name="l02243"></a>02243 <span class="preprocessor"></span>
<a name="l02244"></a>02244     <span class="keywordflow">if</span> (!p) <span class="keywordflow">return</span> 0.0;
<a name="l02245"></a>02245     q = p;
<a name="l02246"></a>02246     <span class="keywordflow">while</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ae8cdc17e44905c826bddf416b7bf621c">ISSPACE</a>(*p)) p++;
<a name="l02247"></a>02247 
<a name="l02248"></a>02248     <span class="keywordflow">if</span> (!badcheck &amp;&amp; p[0] == <span class="charliteral">&apos;0&apos;</span> &amp;&amp; (p[1] == <span class="charliteral">&apos;x&apos;</span> || p[1] == <span class="charliteral">&apos;X&apos;</span>)) {
<a name="l02249"></a>02249         <span class="keywordflow">return</span> 0.0;
<a name="l02250"></a>02250     }
<a name="l02251"></a>02251 
<a name="l02252"></a>02252     d = <a class="code" href="../../d8/d3c/util_8h.html#a9242b69e04b02654598efa37fb6c2185">strtod</a>(p, &amp;end);
<a name="l02253"></a>02253     <span class="keywordflow">if</span> (<a class="code" href="../../d4/db0/__sdbm_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> == ERANGE) {
<a name="l02254"></a>02254         <a class="code" href="../../d0/de1/object_8c.html#a6be0aa9e2dc94f17607b50170704b717">OutOfRange</a>();
<a name="l02255"></a>02255         <a class="code" href="../../db/dcc/error_8c.html#afd461c64916576849b159b21a26123da">rb_warning</a>(<span class="stringliteral">&quot;Float %.*s%s out of range&quot;</span>, w, p, ellipsis);
<a name="l02256"></a>02256         <a class="code" href="../../d4/db0/__sdbm_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = 0;
<a name="l02257"></a>02257     }
<a name="l02258"></a>02258     <span class="keywordflow">if</span> (p == end) {
<a name="l02259"></a>02259         <span class="keywordflow">if</span> (badcheck) {
<a name="l02260"></a>02260           <a class="code" href="../../d4/db0/__sdbm_8c.html#ada436df6a31dab0938235cc56320e487">bad</a>:
<a name="l02261"></a>02261             <a class="code" href="../../db/dcc/error_8c.html#a8181cc6e05032f0d10c272a3556f306c">rb_invalid_str</a>(q, <span class="stringliteral">&quot;Float()&quot;</span>);
<a name="l02262"></a>02262         }
<a name="l02263"></a>02263         <span class="keywordflow">return</span> d;
<a name="l02264"></a>02264     }
<a name="l02265"></a>02265     <span class="keywordflow">if</span> (*end) {
<a name="l02266"></a>02266         <span class="keywordtype">char</span> <a class="code" href="../../d6/da0/nkf-utf8_2nkf_8c.html#ac37f17a60c8b5533aac4840c681f62b8">buf</a>[<a class="code" href="../../d6/d27/numeric_8c.html#ab51e57479919fd1978d19ccbb3e5b167">DBL_DIG</a> * 4 + 10];
<a name="l02267"></a>02267         <span class="keywordtype">char</span> *n = buf;
<a name="l02268"></a>02268         <span class="keywordtype">char</span> *e = buf + <span class="keyword">sizeof</span>(buf) - 1;
<a name="l02269"></a>02269         <span class="keywordtype">char</span> <a class="code" href="../../d7/dc0/parse_8y.html#a71f8b6ffdc0cc58ffd989c3162fb2bcf">prev</a> = 0;
<a name="l02270"></a>02270 
<a name="l02271"></a>02271         <span class="keywordflow">while</span> (p &lt; end &amp;&amp; n &lt; e) prev = *n++ = *p++;
<a name="l02272"></a>02272         <span class="keywordflow">while</span> (*p) {
<a name="l02273"></a>02273             <span class="keywordflow">if</span> (*p == <span class="charliteral">&apos;_&apos;</span>) {
<a name="l02274"></a>02274                 <span class="comment">/* remove underscores between digits */</span>
<a name="l02275"></a>02275                 <span class="keywordflow">if</span> (badcheck) {
<a name="l02276"></a>02276                     <span class="keywordflow">if</span> (n == buf || !<a class="code" href="../../d1/dcc/bignum_8c.html#ab615ddd0d086b80219cd7e0345d6b5ef">ISDIGIT</a>(prev)) <span class="keywordflow">goto</span> <a class="code" href="../../d4/db0/__sdbm_8c.html#ada436df6a31dab0938235cc56320e487">bad</a>;
<a name="l02277"></a>02277                     ++p;
<a name="l02278"></a>02278                     <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dcc/bignum_8c.html#ab615ddd0d086b80219cd7e0345d6b5ef">ISDIGIT</a>(*p)) <span class="keywordflow">goto</span> <a class="code" href="../../d4/db0/__sdbm_8c.html#ada436df6a31dab0938235cc56320e487">bad</a>;
<a name="l02279"></a>02279                 }
<a name="l02280"></a>02280                 <span class="keywordflow">else</span> {
<a name="l02281"></a>02281                     <span class="keywordflow">while</span> (*++p == <span class="charliteral">&apos;_&apos;</span>);
<a name="l02282"></a>02282                     <span class="keywordflow">continue</span>;
<a name="l02283"></a>02283                 }
<a name="l02284"></a>02284             }
<a name="l02285"></a>02285             prev = *p++;
<a name="l02286"></a>02286             <span class="keywordflow">if</span> (n &lt; e) *n++ = prev;
<a name="l02287"></a>02287         }
<a name="l02288"></a>02288         *n = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l02289"></a>02289         p = buf;
<a name="l02290"></a>02290 
<a name="l02291"></a>02291         <span class="keywordflow">if</span> (!badcheck &amp;&amp; p[0] == <span class="charliteral">&apos;0&apos;</span> &amp;&amp; (p[1] == <span class="charliteral">&apos;x&apos;</span> || p[1] == <span class="charliteral">&apos;X&apos;</span>)) {
<a name="l02292"></a>02292             <span class="keywordflow">return</span> 0.0;
<a name="l02293"></a>02293         }
<a name="l02294"></a>02294 
<a name="l02295"></a>02295         d = <a class="code" href="../../d8/d3c/util_8h.html#a9242b69e04b02654598efa37fb6c2185">strtod</a>(p, &amp;end);
<a name="l02296"></a>02296         <span class="keywordflow">if</span> (<a class="code" href="../../d4/db0/__sdbm_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> == ERANGE) {
<a name="l02297"></a>02297             <a class="code" href="../../d0/de1/object_8c.html#a6be0aa9e2dc94f17607b50170704b717">OutOfRange</a>();
<a name="l02298"></a>02298             <a class="code" href="../../db/dcc/error_8c.html#afd461c64916576849b159b21a26123da">rb_warning</a>(<span class="stringliteral">&quot;Float %.*s%s out of range&quot;</span>, w, p, ellipsis);
<a name="l02299"></a>02299             <a class="code" href="../../d4/db0/__sdbm_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = 0;
<a name="l02300"></a>02300         }
<a name="l02301"></a>02301         <span class="keywordflow">if</span> (badcheck) {
<a name="l02302"></a>02302             <span class="keywordflow">if</span> (!end || p == end) <span class="keywordflow">goto</span> <a class="code" href="../../d4/db0/__sdbm_8c.html#ada436df6a31dab0938235cc56320e487">bad</a>;
<a name="l02303"></a>02303             <span class="keywordflow">while</span> (*end &amp;&amp; <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ae8cdc17e44905c826bddf416b7bf621c">ISSPACE</a>(*end)) end++;
<a name="l02304"></a>02304             <span class="keywordflow">if</span> (*end) <span class="keywordflow">goto</span> <a class="code" href="../../d4/db0/__sdbm_8c.html#ada436df6a31dab0938235cc56320e487">bad</a>;
<a name="l02305"></a>02305         }
<a name="l02306"></a>02306     }
<a name="l02307"></a>02307     <span class="keywordflow">if</span> (<a class="code" href="../../d4/db0/__sdbm_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> == ERANGE) {
<a name="l02308"></a>02308         <a class="code" href="../../d4/db0/__sdbm_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = 0;
<a name="l02309"></a>02309         <a class="code" href="../../d0/de1/object_8c.html#a6be0aa9e2dc94f17607b50170704b717">OutOfRange</a>();
<a name="l02310"></a>02310         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#ab5e2a9fec766c75176fbb262bfe6a596">rb_eArgError</a>, <span class="stringliteral">&quot;Float %.*s%s out of range&quot;</span>, w, q, ellipsis);
<a name="l02311"></a>02311     }
<a name="l02312"></a>02312     <span class="keywordflow">return</span> d;
<a name="l02313"></a>02313 }
<a name="l02314"></a>02314 
<a name="l02315"></a>02315 <span class="keywordtype">double</span>
<a name="l02316"></a><a class="code" href="../../d0/de1/object_8c.html#a76ef5a05d7f9a49dc5c52893b99c4299">02316</a> <a class="code" href="../../db/d2e/intern_8h.html#a2815e113b851cdd2ef186d322b9c73aa">rb_str_to_dbl</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> str, <span class="keywordtype">int</span> badcheck)
<a name="l02317"></a>02317 {
<a name="l02318"></a>02318     <span class="keywordtype">char</span> *s;
<a name="l02319"></a>02319     <span class="keywordtype">long</span> <a class="code" href="../../d3/d15/name2ctype_8h.html#aed1cc4dca5d94cb452f79691f54f7423">len</a>;
<a name="l02320"></a>02320     <span class="keywordtype">double</span> ret;
<a name="l02321"></a>02321     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> v = 0;
<a name="l02322"></a>02322 
<a name="l02323"></a>02323     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0e80f207eb41e9010ec9f0f5f9419fea">StringValue</a>(str);
<a name="l02324"></a>02324     s = <a class="code" href="../../d8/df4/generator_8h.html#aa0c7097c0d82c8372072fbab5a604e39">RSTRING_PTR</a>(str);
<a name="l02325"></a>02325     len = <a class="code" href="../../d8/df4/generator_8h.html#a1661e63c26c5cbeef7217d05b0f33942">RSTRING_LEN</a>(str);
<a name="l02326"></a>02326     <span class="keywordflow">if</span> (s) {
<a name="l02327"></a>02327         <span class="keywordflow">if</span> (badcheck &amp;&amp; memchr(s, <span class="charliteral">&apos;\0&apos;</span>, len)) {
<a name="l02328"></a>02328             <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#ab5e2a9fec766c75176fbb262bfe6a596">rb_eArgError</a>, <span class="stringliteral">&quot;string for Float contains null byte&quot;</span>);
<a name="l02329"></a>02329         }
<a name="l02330"></a>02330         <span class="keywordflow">if</span> (s[len]) {           <span class="comment">/* no sentinel somehow */</span>
<a name="l02331"></a>02331             <span class="keywordtype">char</span> *p =  <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a7e07f4f937d300a4f0509b0c26526716">ALLOCV</a>(v, len);
<a name="l02332"></a>02332             <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a04ab67335215e8362c63ed27ae2d1c40">MEMCPY</a>(p, s, <span class="keywordtype">char</span>, len);
<a name="l02333"></a>02333             p[len] = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l02334"></a>02334             s = p;
<a name="l02335"></a>02335         }
<a name="l02336"></a>02336     }
<a name="l02337"></a>02337     ret = <a class="code" href="../../db/d2e/intern_8h.html#a239ff81d5781209ce8c32033014b0e71">rb_cstr_to_dbl</a>(s, badcheck);
<a name="l02338"></a>02338     <span class="keywordflow">if</span> (v)
<a name="l02339"></a>02339         <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a13424d6f6efe4c7cf2f032744a04e51c">ALLOCV_END</a>(v);
<a name="l02340"></a>02340     <span class="keywordflow">return</span> ret;
<a name="l02341"></a>02341 }
<a name="l02342"></a>02342 
<a name="l02343"></a>02343 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02344"></a><a class="code" href="../../d0/de1/object_8c.html#a1650cd9eb41e63c97e5df37a2534bdd1">02344</a> <a class="code" href="../../db/d2e/intern_8h.html#a2dbbded6179580510ae67c33f29505ec">rb_Float</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val)
<a name="l02345"></a>02345 {
<a name="l02346"></a>02346     <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(val)) {
<a name="l02347"></a>02347       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a523855de5546c34061e030f4606db3e9">T_FIXNUM</a>:
<a name="l02348"></a>02348         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4affd02e0f0fe17593cd4ecd78cf9064">DBL2NUM</a>((<span class="keywordtype">double</span>)<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ae9390780cd6d04a2e0ac3d6282cdefea">FIX2LONG</a>(val));
<a name="l02349"></a>02349 
<a name="l02350"></a>02350       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3d072e0c25cf678e9b8601b957b92eae">T_FLOAT</a>:
<a name="l02351"></a>02351         <span class="keywordflow">return</span> val;
<a name="l02352"></a>02352 
<a name="l02353"></a>02353       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a41ac74a27dd1eadc2ca86d10590f2163">T_BIGNUM</a>:
<a name="l02354"></a>02354         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4affd02e0f0fe17593cd4ecd78cf9064">DBL2NUM</a>(<a class="code" href="../../d1/dcc/bignum_8c.html#ad7d1c2410535e73b7dce7e3ed994bcf0">rb_big2dbl</a>(val));
<a name="l02355"></a>02355 
<a name="l02356"></a>02356       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a22a8c2a4bbaae9b68f65c9bb92fd4e39">T_STRING</a>:
<a name="l02357"></a>02357         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4affd02e0f0fe17593cd4ecd78cf9064">DBL2NUM</a>(<a class="code" href="../../db/d2e/intern_8h.html#a2815e113b851cdd2ef186d322b9c73aa">rb_str_to_dbl</a>(val, <a class="code" href="../../d1/d5c/nkf_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>));
<a name="l02358"></a>02358 
<a name="l02359"></a>02359       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3a7d10c48d5dff0a5d4aa94acb74811a">T_NIL</a>:
<a name="l02360"></a>02360         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t convert nil into Float&quot;</span>);
<a name="l02361"></a>02361         <span class="keywordflow">break</span>;
<a name="l02362"></a>02362 
<a name="l02363"></a>02363       <span class="keywordflow">default</span>:
<a name="l02364"></a>02364         <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a692c7c3caf5cdcf40d3812136f757fb5">rb_convert_type</a>(val, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3d072e0c25cf678e9b8601b957b92eae">T_FLOAT</a>, <span class="stringliteral">&quot;Float&quot;</span>, <span class="stringliteral">&quot;to_f&quot;</span>);
<a name="l02365"></a>02365     }
<a name="l02366"></a>02366 }
<a name="l02367"></a>02367 
<a name="l02368"></a>02368 <span class="comment">/*</span>
<a name="l02369"></a>02369 <span class="comment"> *  call-seq:</span>
<a name="l02370"></a>02370 <span class="comment"> *     Float(arg)    -&gt; float</span>
<a name="l02371"></a>02371 <span class="comment"> *</span>
<a name="l02372"></a>02372 <span class="comment"> *  Returns &lt;i&gt;arg&lt;/i&gt; converted to a float. Numeric types are converted</span>
<a name="l02373"></a>02373 <span class="comment"> *  directly, the rest are converted using &lt;i&gt;arg&lt;/i&gt;.to_f. As of Ruby</span>
<a name="l02374"></a>02374 <span class="comment"> *  1.8, converting &lt;code&gt;nil&lt;/code&gt; generates a &lt;code&gt;TypeError&lt;/code&gt;.</span>
<a name="l02375"></a>02375 <span class="comment"> *</span>
<a name="l02376"></a>02376 <span class="comment"> *     Float(1)           #=&gt; 1.0</span>
<a name="l02377"></a>02377 <span class="comment"> *     Float(&quot;123.456&quot;)   #=&gt; 123.456</span>
<a name="l02378"></a>02378 <span class="comment"> */</span>
<a name="l02379"></a>02379 
<a name="l02380"></a>02380 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02381"></a><a class="code" href="../../d0/de1/object_8c.html#a8f89d5efdd9f45f4c1beed4633f8be09">02381</a> <a class="code" href="../../d0/de1/object_8c.html#a8f89d5efdd9f45f4c1beed4633f8be09">rb_f_float</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> arg)
<a name="l02382"></a>02382 {
<a name="l02383"></a>02383     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a2dbbded6179580510ae67c33f29505ec">rb_Float</a>(arg);
<a name="l02384"></a>02384 }
<a name="l02385"></a>02385 
<a name="l02386"></a>02386 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02387"></a><a class="code" href="../../d0/de1/object_8c.html#ac0e9bfe48634c80471e2aa1a7ccc005d">02387</a> <a class="code" href="../../db/d2e/intern_8h.html#a7fc6e036418db7ce57bd87bd9bef1bf5">rb_to_float</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val)
<a name="l02388"></a>02388 {
<a name="l02389"></a>02389     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(val) == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3d072e0c25cf678e9b8601b957b92eae">T_FLOAT</a>) <span class="keywordflow">return</span> val;
<a name="l02390"></a>02390     <span class="keywordflow">if</span> (!<a class="code" href="../../db/d2e/intern_8h.html#a6e65fc310dd65ebd60d68ada991da6f6">rb_obj_is_kind_of</a>(val, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6e2fb52974af4f37fee056d8b734e913">rb_cNumeric</a>)) {
<a name="l02391"></a>02391         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;can&apos;t convert %s into Float&quot;</span>,
<a name="l02392"></a>02392                  <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a>(val) ? <span class="stringliteral">&quot;nil&quot;</span> :
<a name="l02393"></a>02393                  val == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a> ? <span class="stringliteral">&quot;true&quot;</span> :
<a name="l02394"></a>02394                  val == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a> ? <span class="stringliteral">&quot;false&quot;</span> :
<a name="l02395"></a>02395                  <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a9b4f42ada717bfbe7a78830639476aed">rb_obj_classname</a>(val));
<a name="l02396"></a>02396     }
<a name="l02397"></a>02397     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a692c7c3caf5cdcf40d3812136f757fb5">rb_convert_type</a>(val, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3d072e0c25cf678e9b8601b957b92eae">T_FLOAT</a>, <span class="stringliteral">&quot;Float&quot;</span>, <span class="stringliteral">&quot;to_f&quot;</span>);
<a name="l02398"></a>02398 }
<a name="l02399"></a>02399 
<a name="l02400"></a>02400 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02401"></a><a class="code" href="../../d0/de1/object_8c.html#a5acd32f39deca33dc70c077be9cafbe4">02401</a> <a class="code" href="../../db/d2e/intern_8h.html#a15d692eed376f010f3667ce7512705a7">rb_check_to_float</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val)
<a name="l02402"></a>02402 {
<a name="l02403"></a>02403     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(val) == <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3d072e0c25cf678e9b8601b957b92eae">T_FLOAT</a>) <span class="keywordflow">return</span> val;
<a name="l02404"></a>02404     <span class="keywordflow">if</span> (!<a class="code" href="../../db/d2e/intern_8h.html#a6e65fc310dd65ebd60d68ada991da6f6">rb_obj_is_kind_of</a>(val, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a6e2fb52974af4f37fee056d8b734e913">rb_cNumeric</a>)) {
<a name="l02405"></a>02405         <span class="keywordflow">return</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>;
<a name="l02406"></a>02406     }
<a name="l02407"></a>02407     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a16e59d05c8eb1641308bc1018c333cc1">rb_check_convert_type</a>(val, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3d072e0c25cf678e9b8601b957b92eae">T_FLOAT</a>, <span class="stringliteral">&quot;Float&quot;</span>, <span class="stringliteral">&quot;to_f&quot;</span>);
<a name="l02408"></a>02408 }
<a name="l02409"></a>02409 
<a name="l02410"></a>02410 <span class="keywordtype">double</span>
<a name="l02411"></a><a class="code" href="../../d0/de1/object_8c.html#ac17ffe284d494516df8d9e9d3e12e4f2">02411</a> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#adf2f8a265671cb7bad542b9e2c599b2f">rb_num2dbl</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val)
<a name="l02412"></a>02412 {
<a name="l02413"></a>02413     <span class="keywordflow">switch</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a394faf7191f18552a20cb17ce14226f0">TYPE</a>(val)) {
<a name="l02414"></a>02414       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3d072e0c25cf678e9b8601b957b92eae">T_FLOAT</a>:
<a name="l02415"></a>02415         <span class="keywordflow">return</span> <a class="code" href="../../d8/df4/generator_8h.html#a74258e532cd500e1cdfd6dcda7e97873">RFLOAT_VALUE</a>(val);
<a name="l02416"></a>02416 
<a name="l02417"></a>02417       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a22a8c2a4bbaae9b68f65c9bb92fd4e39">T_STRING</a>:
<a name="l02418"></a>02418         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;no implicit conversion to float from string&quot;</span>);
<a name="l02419"></a>02419         <span class="keywordflow">break</span>;
<a name="l02420"></a>02420 
<a name="l02421"></a>02421       <span class="keywordflow">case</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3a7d10c48d5dff0a5d4aa94acb74811a">T_NIL</a>:
<a name="l02422"></a>02422         <a class="code" href="../../db/dcc/error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="../../db/dcc/error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;no implicit conversion to float from nil&quot;</span>);
<a name="l02423"></a>02423         <span class="keywordflow">break</span>;
<a name="l02424"></a>02424 
<a name="l02425"></a>02425       <span class="keywordflow">default</span>:
<a name="l02426"></a>02426         <span class="keywordflow">break</span>;
<a name="l02427"></a>02427     }
<a name="l02428"></a>02428 
<a name="l02429"></a>02429     <span class="keywordflow">return</span> <a class="code" href="../../d8/df4/generator_8h.html#a74258e532cd500e1cdfd6dcda7e97873">RFLOAT_VALUE</a>(<a class="code" href="../../db/d2e/intern_8h.html#a2dbbded6179580510ae67c33f29505ec">rb_Float</a>(val));
<a name="l02430"></a>02430 }
<a name="l02431"></a>02431 
<a name="l02432"></a>02432 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02433"></a><a class="code" href="../../d0/de1/object_8c.html#ae8ef6b18fd154ba70c327c0210ac69b3">02433</a> <a class="code" href="../../db/d2e/intern_8h.html#ad7cf2d103c6ce7d9b82c0076effac263">rb_String</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val)
<a name="l02434"></a>02434 {
<a name="l02435"></a>02435     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> tmp = <a class="code" href="../../db/d2e/intern_8h.html#a669b6063704b2d304844bd1553217cf0">rb_check_string_type</a>(val);
<a name="l02436"></a>02436     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a>(tmp))
<a name="l02437"></a>02437         tmp = <a class="code" href="../../db/d2e/intern_8h.html#a692c7c3caf5cdcf40d3812136f757fb5">rb_convert_type</a>(val, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a22a8c2a4bbaae9b68f65c9bb92fd4e39">T_STRING</a>, <span class="stringliteral">&quot;String&quot;</span>, <span class="stringliteral">&quot;to_s&quot;</span>);
<a name="l02438"></a>02438     <span class="keywordflow">return</span> tmp;
<a name="l02439"></a>02439 }
<a name="l02440"></a>02440 
<a name="l02441"></a>02441 
<a name="l02442"></a>02442 <span class="comment">/*</span>
<a name="l02443"></a>02443 <span class="comment"> *  call-seq:</span>
<a name="l02444"></a>02444 <span class="comment"> *     String(arg)   -&gt; string</span>
<a name="l02445"></a>02445 <span class="comment"> *</span>
<a name="l02446"></a>02446 <span class="comment"> *  Converts &lt;i&gt;arg&lt;/i&gt; to a &lt;code&gt;String&lt;/code&gt; by calling its</span>
<a name="l02447"></a>02447 <span class="comment"> *  &lt;code&gt;to_s&lt;/code&gt; method.</span>
<a name="l02448"></a>02448 <span class="comment"> *</span>
<a name="l02449"></a>02449 <span class="comment"> *     String(self)        #=&gt; &quot;main&quot;</span>
<a name="l02450"></a>02450 <span class="comment"> *     String(self.class)  #=&gt; &quot;Object&quot;</span>
<a name="l02451"></a>02451 <span class="comment"> *     String(123456)      #=&gt; &quot;123456&quot;</span>
<a name="l02452"></a>02452 <span class="comment"> */</span>
<a name="l02453"></a>02453 
<a name="l02454"></a>02454 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02455"></a><a class="code" href="../../d0/de1/object_8c.html#ae31ccbabfbcb369a7116e69e3ca1bc9d">02455</a> <a class="code" href="../../d0/de1/object_8c.html#ae31ccbabfbcb369a7116e69e3ca1bc9d">rb_f_string</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> arg)
<a name="l02456"></a>02456 {
<a name="l02457"></a>02457     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#ad7cf2d103c6ce7d9b82c0076effac263">rb_String</a>(arg);
<a name="l02458"></a>02458 }
<a name="l02459"></a>02459 
<a name="l02460"></a>02460 <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02461"></a><a class="code" href="../../d0/de1/object_8c.html#a86cfdd43edf68d77c253772b06e639eb">02461</a> <a class="code" href="../../db/d2e/intern_8h.html#a2afb1f8da153c671b32717e8f22b7ea9">rb_Array</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> val)
<a name="l02462"></a>02462 {
<a name="l02463"></a>02463     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> tmp = <a class="code" href="../../dc/dcc/array_8c.html#aaa66361aff757dd7ef869f5b84b3793e">rb_check_array_type</a>(val);
<a name="l02464"></a>02464 
<a name="l02465"></a>02465     <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a>(tmp)) {
<a name="l02466"></a>02466         tmp = <a class="code" href="../../db/d2e/intern_8h.html#a16e59d05c8eb1641308bc1018c333cc1">rb_check_convert_type</a>(val, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#abbd332f6f94d77e0a369c7720128639e">T_ARRAY</a>, <span class="stringliteral">&quot;Array&quot;</span>, <span class="stringliteral">&quot;to_a&quot;</span>);
<a name="l02467"></a>02467         <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a4832bad8845a35fc50f7a160901854a1">NIL_P</a>(tmp)) {
<a name="l02468"></a>02468             <span class="keywordflow">return</span> <a class="code" href="../../dc/dcc/array_8c.html#a8317ecd6a0abb5ad08c50c732f30059b">rb_ary_new3</a>(1, val);
<a name="l02469"></a>02469         }
<a name="l02470"></a>02470     }
<a name="l02471"></a>02471     <span class="keywordflow">return</span> tmp;
<a name="l02472"></a>02472 }
<a name="l02473"></a>02473 
<a name="l02474"></a>02474 <span class="comment">/*</span>
<a name="l02475"></a>02475 <span class="comment"> *  call-seq:</span>
<a name="l02476"></a>02476 <span class="comment"> *     Array(arg)    -&gt; array</span>
<a name="l02477"></a>02477 <span class="comment"> *</span>
<a name="l02478"></a>02478 <span class="comment"> *  Returns &lt;i&gt;arg&lt;/i&gt; as an &lt;code&gt;Array&lt;/code&gt;. First tries to call</span>
<a name="l02479"></a>02479 <span class="comment"> *  &lt;i&gt;arg&lt;/i&gt;&lt;code&gt;.to_ary&lt;/code&gt;, then &lt;i&gt;arg&lt;/i&gt;&lt;code&gt;.to_a&lt;/code&gt;.</span>
<a name="l02480"></a>02480 <span class="comment"> *</span>
<a name="l02481"></a>02481 <span class="comment"> *     Array(1..5)   #=&gt; [1, 2, 3, 4, 5]</span>
<a name="l02482"></a>02482 <span class="comment"> */</span>
<a name="l02483"></a>02483 
<a name="l02484"></a>02484 <span class="keyword">static</span> <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>
<a name="l02485"></a><a class="code" href="../../d0/de1/object_8c.html#afd11a7b63b9c777eddbc4d3a416a36d8">02485</a> <a class="code" href="../../d0/de1/object_8c.html#afd11a7b63b9c777eddbc4d3a416a36d8">rb_f_array</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> obj, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> arg)
<a name="l02486"></a>02486 {
<a name="l02487"></a>02487     <span class="keywordflow">return</span> <a class="code" href="../../db/d2e/intern_8h.html#a2afb1f8da153c671b32717e8f22b7ea9">rb_Array</a>(arg);
<a name="l02488"></a>02488 }
<a name="l02489"></a>02489 
<a name="l02490"></a>02490 <span class="comment">/*</span>
<a name="l02491"></a>02491 <span class="comment"> *  Document-class: Class</span>
<a name="l02492"></a>02492 <span class="comment"> *</span>
<a name="l02493"></a>02493 <span class="comment"> *  Classes in Ruby are first-class objects---each is an instance of</span>
<a name="l02494"></a>02494 <span class="comment"> *  class &lt;code&gt;Class&lt;/code&gt;.</span>
<a name="l02495"></a>02495 <span class="comment"> *</span>
<a name="l02496"></a>02496 <span class="comment"> *  When a new class is created (typically using &lt;code&gt;class Name ...</span>
<a name="l02497"></a>02497 <span class="comment"> *  end&lt;/code&gt;), an object of type &lt;code&gt;Class&lt;/code&gt; is created and</span>
<a name="l02498"></a>02498 <span class="comment"> *  assigned to a global constant (&lt;code&gt;Name&lt;/code&gt; in this case). When</span>
<a name="l02499"></a>02499 <span class="comment"> *  &lt;code&gt;Name.new&lt;/code&gt; is called to create a new object, the</span>
<a name="l02500"></a>02500 <span class="comment"> *  &lt;code&gt;new&lt;/code&gt; method in &lt;code&gt;Class&lt;/code&gt; is run by default.</span>
<a name="l02501"></a>02501 <span class="comment"> *  This can be demonstrated by overriding &lt;code&gt;new&lt;/code&gt; in</span>
<a name="l02502"></a>02502 <span class="comment"> *  &lt;code&gt;Class&lt;/code&gt;:</span>
<a name="l02503"></a>02503 <span class="comment"> *</span>
<a name="l02504"></a>02504 <span class="comment"> *     class Class</span>
<a name="l02505"></a>02505 <span class="comment"> *        alias oldNew  new</span>
<a name="l02506"></a>02506 <span class="comment"> *        def new(*args)</span>
<a name="l02507"></a>02507 <span class="comment"> *          print &quot;Creating a new &quot;, self.name, &quot;\n&quot;</span>
<a name="l02508"></a>02508 <span class="comment"> *          oldNew(*args)</span>
<a name="l02509"></a>02509 <span class="comment"> *        end</span>
<a name="l02510"></a>02510 <span class="comment"> *      end</span>
<a name="l02511"></a>02511 <span class="comment"> *</span>
<a name="l02512"></a>02512 <span class="comment"> *</span>
<a name="l02513"></a>02513 <span class="comment"> *      class Name</span>
<a name="l02514"></a>02514 <span class="comment"> *      end</span>
<a name="l02515"></a>02515 <span class="comment"> *</span>
<a name="l02516"></a>02516 <span class="comment"> *</span>
<a name="l02517"></a>02517 <span class="comment"> *      n = Name.new</span>
<a name="l02518"></a>02518 <span class="comment"> *</span>
<a name="l02519"></a>02519 <span class="comment"> *  &lt;em&gt;produces:&lt;/em&gt;</span>
<a name="l02520"></a>02520 <span class="comment"> *</span>
<a name="l02521"></a>02521 <span class="comment"> *     Creating a new Name</span>
<a name="l02522"></a>02522 <span class="comment"> *</span>
<a name="l02523"></a>02523 <span class="comment"> *  Classes, modules, and objects are interrelated. In the diagram</span>
<a name="l02524"></a>02524 <span class="comment"> *  that follows, the vertical arrows represent inheritance, and the</span>
<a name="l02525"></a>02525 <span class="comment"> *  parentheses meta-classes. All metaclasses are instances</span>
<a name="l02526"></a>02526 <span class="comment"> *  of the class `Class&apos;.</span>
<a name="l02527"></a>02527 <span class="comment"> *                             +---------+             +-...</span>
<a name="l02528"></a>02528 <span class="comment"> *                             |         |             |</span>
<a name="l02529"></a>02529 <span class="comment"> *             BasicObject-----|--&gt;(BasicObject)-------|-...</span>
<a name="l02530"></a>02530 <span class="comment"> *                 ^           |         ^             |</span>
<a name="l02531"></a>02531 <span class="comment"> *                 |           |         |             |</span>
<a name="l02532"></a>02532 <span class="comment"> *              Object---------|-----&gt;(Object)---------|-...</span>
<a name="l02533"></a>02533 <span class="comment"> *                 ^           |         ^             |</span>
<a name="l02534"></a>02534 <span class="comment"> *                 |           |         |             |</span>
<a name="l02535"></a>02535 <span class="comment"> *                 +-------+   |         +--------+    |</span>
<a name="l02536"></a>02536 <span class="comment"> *                 |       |   |         |        |    |</span>
<a name="l02537"></a>02537 <span class="comment"> *                 |    Module-|---------|---&gt;(Module)-|-...</span>
<a name="l02538"></a>02538 <span class="comment"> *                 |       ^   |         |        ^    |</span>
<a name="l02539"></a>02539 <span class="comment"> *                 |       |   |         |        |    |</span>
<a name="l02540"></a>02540 <span class="comment"> *                 |     Class-|---------|----&gt;(Class)-|-...</span>
<a name="l02541"></a>02541 <span class="comment"> *                 |       ^   |         |        ^    |</span>
<a name="l02542"></a>02542 <span class="comment"> *                 |       +---+         |        +----+</span>
<a name="l02543"></a>02543 <span class="comment"> *                 |                     |</span>
<a name="l02544"></a>02544 <span class="comment"> *    obj---&gt;OtherClass----------&gt;(OtherClass)-----------...</span>
<a name="l02545"></a>02545 <span class="comment"> *</span>
<a name="l02546"></a>02546 <span class="comment"> */</span>
<a name="l02547"></a>02547 
<a name="l02548"></a>02548 
<a name="l02567"></a>02567 <span class="comment">/*  Document-class: BasicObject</span>
<a name="l02568"></a>02568 <span class="comment"> *</span>
<a name="l02569"></a>02569 <span class="comment"> *  BasicObject is the parent class of all classes in Ruby.  It&apos;s an explicit</span>
<a name="l02570"></a>02570 <span class="comment"> *  blank class.</span>
<a name="l02571"></a>02571 <span class="comment"> *</span>
<a name="l02572"></a>02572 <span class="comment"> *  BasicObject can be used for creating object hierarchies independent of</span>
<a name="l02573"></a>02573 <span class="comment"> *  Ruby&apos;s object hierarchy, proxy objects like the Delegator class, or other</span>
<a name="l02574"></a>02574 <span class="comment"> *  uses where namespace pollution from Ruby&apos;s methods and classes must be</span>
<a name="l02575"></a>02575 <span class="comment"> *  avoided.</span>
<a name="l02576"></a>02576 <span class="comment"> *</span>
<a name="l02577"></a>02577 <span class="comment"> *  To avoid polluting BasicObject for other users an appropriately named</span>
<a name="l02578"></a>02578 <span class="comment"> *  subclass of BasicObject should be created instead of directly modifying</span>
<a name="l02579"></a>02579 <span class="comment"> *  BasicObject:</span>
<a name="l02580"></a>02580 <span class="comment"> *</span>
<a name="l02581"></a>02581 <span class="comment"> *    class MyObjectSystem &lt; BasicObject</span>
<a name="l02582"></a>02582 <span class="comment"> *    end</span>
<a name="l02583"></a>02583 <span class="comment"> *</span>
<a name="l02584"></a>02584 <span class="comment"> *  BasicObject does not include Kernel (for methods like +puts+) and</span>
<a name="l02585"></a>02585 <span class="comment"> *  BasicObject is outside of the namespace of the standard library so common</span>
<a name="l02586"></a>02586 <span class="comment"> *  classes will not be found without a using a full class path.</span>
<a name="l02587"></a>02587 <span class="comment"> *</span>
<a name="l02588"></a>02588 <span class="comment"> *  A variety of strategies can be used to provide useful portions of the</span>
<a name="l02589"></a>02589 <span class="comment"> *  standard library to subclasses of BasicObject.  A subclass could</span>
<a name="l02590"></a>02590 <span class="comment"> *  &lt;code&gt;include Kernel&lt;/code&gt; to obtain +puts+, +exit+, etc.  A custom</span>
<a name="l02591"></a>02591 <span class="comment"> *  Kernel-like module could be created and included or delegation can be used</span>
<a name="l02592"></a>02592 <span class="comment"> *  via #method_missing:</span>
<a name="l02593"></a>02593 <span class="comment"> *</span>
<a name="l02594"></a>02594 <span class="comment"> *    class MyObjectSystem &lt; BasicObject</span>
<a name="l02595"></a>02595 <span class="comment"> *      DELEGATE = [:puts, :p]</span>
<a name="l02596"></a>02596 <span class="comment"> *</span>
<a name="l02597"></a>02597 <span class="comment"> *      def method_missing(name, *args, &amp;block)</span>
<a name="l02598"></a>02598 <span class="comment"> *        super unless DELEGATE.include? name</span>
<a name="l02599"></a>02599 <span class="comment"> *        ::Kernel.send(name, *args, &amp;block)</span>
<a name="l02600"></a>02600 <span class="comment"> *      end</span>
<a name="l02601"></a>02601 <span class="comment"> *</span>
<a name="l02602"></a>02602 <span class="comment"> *      def respond_to_missing?(name, include_private = false)</span>
<a name="l02603"></a>02603 <span class="comment"> *        DELGATE.include?(name) or super</span>
<a name="l02604"></a>02604 <span class="comment"> *      end</span>
<a name="l02605"></a>02605 <span class="comment"> *    end</span>
<a name="l02606"></a>02606 <span class="comment"> *</span>
<a name="l02607"></a>02607 <span class="comment"> *  Access to classes and modules from the Ruby standard library can be</span>
<a name="l02608"></a>02608 <span class="comment"> *  obtained in a BasicObject subclass by referencing the desired constant</span>
<a name="l02609"></a>02609 <span class="comment"> *  from the root like &lt;code&gt;::File&lt;/code&gt; or &lt;code&gt;::Enumerator&lt;/code&gt;.</span>
<a name="l02610"></a>02610 <span class="comment"> *  Like #method_missing, #const_missing can be used to delegate constant</span>
<a name="l02611"></a>02611 <span class="comment"> *  lookup to +Object+:</span>
<a name="l02612"></a>02612 <span class="comment"> *</span>
<a name="l02613"></a>02613 <span class="comment"> *    class MyObjectSystem &lt; BasicObject</span>
<a name="l02614"></a>02614 <span class="comment"> *      def self.const_missing(name)</span>
<a name="l02615"></a>02615 <span class="comment"> *        ::Object.const_get(name)</span>
<a name="l02616"></a>02616 <span class="comment"> *      end</span>
<a name="l02617"></a>02617 <span class="comment"> *    end</span>
<a name="l02618"></a>02618 <span class="comment"> */</span>
<a name="l02619"></a>02619 
<a name="l02620"></a>02620 <span class="comment">/*  Document-class: Object</span>
<a name="l02621"></a>02621 <span class="comment"> *</span>
<a name="l02622"></a>02622 <span class="comment"> *  Object is the root of Ruby&apos;s class hierarchy.  Its methods are available</span>
<a name="l02623"></a>02623 <span class="comment"> *  to all classes unless explicitly overridden.</span>
<a name="l02624"></a>02624 <span class="comment"> *</span>
<a name="l02625"></a>02625 <span class="comment"> *  Object mixes in the Kernel module, making the built-in kernel functions</span>
<a name="l02626"></a>02626 <span class="comment"> *  globally accessible. Although the instance methods of Object are defined</span>
<a name="l02627"></a>02627 <span class="comment"> *  by the Kernel module, we have chosen to document them here for clarity.</span>
<a name="l02628"></a>02628 <span class="comment"> *</span>
<a name="l02629"></a>02629 <span class="comment"> *  In the descriptions of Object&apos;s methods, the parameter &lt;i&gt;symbol&lt;/i&gt; refers</span>
<a name="l02630"></a>02630 <span class="comment"> *  to a symbol, which is either a quoted string or a Symbol (such as</span>
<a name="l02631"></a>02631 <span class="comment"> *  &lt;code&gt;:name&lt;/code&gt;).</span>
<a name="l02632"></a>02632 <span class="comment"> */</span>
<a name="l02633"></a>02633 
<a name="l02634"></a>02634 <span class="keywordtype">void</span>
<a name="l02635"></a><a class="code" href="../../de/ddf/group__class.html#gafe386203deb20f79d7ac63094bc9451b">02635</a> <a class="code" href="../../de/ddf/group__class.html#gafe386203deb20f79d7ac63094bc9451b" title="Initializes the world of objects and classes.">Init_Object</a>(<span class="keywordtype">void</span>)
<a name="l02636"></a>02636 {
<a name="l02637"></a>02637     <span class="keywordtype">int</span> i;
<a name="l02638"></a>02638 
<a name="l02639"></a>02639     <a class="code" href="../../de/ddf/group__class.html#ga4c892581fb7649feda7e92202dfc7943">Init_class_hierarchy</a>();
<a name="l02640"></a>02640 
<a name="l02641"></a>02641 <span class="preprocessor">#if 0</span>
<a name="l02642"></a>02642 <span class="preprocessor"></span>    <span class="comment">// teach RDoc about these classes</span>
<a name="l02643"></a>02643     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a> = <a class="code" href="../../de/ddf/group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac" title="Defines a top-level class.">rb_define_class</a>(<span class="stringliteral">&quot;BasicObject&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>);
<a name="l02644"></a>02644     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a57c96ead3ef230b4838e65fe037c346e">rb_cObject</a> = <a class="code" href="../../de/ddf/group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac" title="Defines a top-level class.">rb_define_class</a>(<span class="stringliteral">&quot;Object&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>);
<a name="l02645"></a>02645     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a> = <a class="code" href="../../de/ddf/group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac" title="Defines a top-level class.">rb_define_class</a>(<span class="stringliteral">&quot;Module&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a57c96ead3ef230b4838e65fe037c346e">rb_cObject</a>);
<a name="l02646"></a>02646     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a> =  <a class="code" href="../../de/ddf/group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac" title="Defines a top-level class.">rb_define_class</a>(<span class="stringliteral">&quot;Class&quot;</span>,  <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>);
<a name="l02647"></a>02647 <span class="preprocessor">#endif</span>
<a name="l02648"></a>02648 <span class="preprocessor"></span>
<a name="l02649"></a>02649 <span class="preprocessor">#undef rb_intern</span>
<a name="l02650"></a>02650 <span class="preprocessor"></span><span class="preprocessor">#define rb_intern(str) rb_intern_const(str)</span>
<a name="l02651"></a>02651 <span class="preprocessor"></span>
<a name="l02652"></a>02652     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>, <span class="stringliteral">&quot;initialize&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>, 0);
<a name="l02653"></a>02653     <a class="code" href="../../db/d2e/intern_8h.html#a6c99ed7f070458b961026d43d27d0642">rb_define_alloc_func</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>, <a class="code" href="../../d0/de1/object_8c.html#ac2cd2f5a360b517f4fa861d92d29fae7">rb_class_allocate_instance</a>);
<a name="l02654"></a>02654     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>, <span class="stringliteral">&quot;==&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a7630f8c287de66794f825910b9f342cf">rb_obj_equal</a>, 1);
<a name="l02655"></a>02655     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>, <span class="stringliteral">&quot;equal?&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a7630f8c287de66794f825910b9f342cf">rb_obj_equal</a>, 1);
<a name="l02656"></a>02656     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>, <span class="stringliteral">&quot;!&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#ad4f6b70f1b2a21e2a379a70cf53fae4e">rb_obj_not</a>, 0);
<a name="l02657"></a>02657     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>, <span class="stringliteral">&quot;!=&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a1511c824e7c9d15c13729175e6f95d26">rb_obj_not_equal</a>, 1);
<a name="l02658"></a>02658 
<a name="l02659"></a>02659     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>, <span class="stringliteral">&quot;singleton_method_added&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>, 1);
<a name="l02660"></a>02660     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>, <span class="stringliteral">&quot;singleton_method_removed&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>, 1);
<a name="l02661"></a>02661     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a56629236cdaf6ddac6d05cd5ae21a2b4">rb_cBasicObject</a>, <span class="stringliteral">&quot;singleton_method_undefined&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>, 1);
<a name="l02662"></a>02662 
<a name="l02663"></a>02663     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a> = <a class="code" href="../../de/ddf/group__class.html#ga911071d40f9312e49a774ea0e1b12869">rb_define_module</a>(<span class="stringliteral">&quot;Kernel&quot;</span>);
<a name="l02664"></a>02664     <a class="code" href="../../de/ddf/group__class.html#ga1301940bb86315055d67464ed2cee477">rb_include_module</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a57c96ead3ef230b4838e65fe037c346e">rb_cObject</a>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>);
<a name="l02665"></a>02665     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a>, <span class="stringliteral">&quot;inherited&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>, 1);
<a name="l02666"></a>02666     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;included&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>, 1);
<a name="l02667"></a>02667     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;extended&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>, 1);
<a name="l02668"></a>02668     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;method_added&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>, 1);
<a name="l02669"></a>02669     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;method_removed&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>, 1);
<a name="l02670"></a>02670     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;method_undefined&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa5ba270f9ed1e5fe1e50165591c404f7">rb_obj_dummy</a>, 1);
<a name="l02671"></a>02671 
<a name="l02672"></a>02672     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;nil?&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a82c8e607d9db10156991a1e1db9e3e29">rb_false</a>, 0);
<a name="l02673"></a>02673     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;===&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ae0d75edc88a608fc05dd386edf53208f">rb_equal</a>, 1);
<a name="l02674"></a>02674     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;=~&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa894fc66f4057262f0ace6dad0b99198">rb_obj_match</a>, 1);
<a name="l02675"></a>02675     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;!~&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a979ca68504fda12434be999d7cd9bfed">rb_obj_not_match</a>, 1);
<a name="l02676"></a>02676     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;eql?&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a7630f8c287de66794f825910b9f342cf">rb_obj_equal</a>, 1);
<a name="l02677"></a>02677     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;hash&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aef4bb37dad81eae2a9786bf310f29f02">rb_obj_hash</a>, 0);
<a name="l02678"></a>02678     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;&lt;=&gt;&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#ad33004dca6680c554abc28b6fafa5885">rb_obj_cmp</a>, 1);
<a name="l02679"></a>02679 
<a name="l02680"></a>02680     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;class&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#ac2be7243e739fa8f5dce6be0c8ee5f6d">rb_obj_class</a>, 0);
<a name="l02681"></a>02681     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;singleton_class&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aef0e2afa0f7b8bc9d3148c2200173e69">rb_obj_singleton_class</a>, 0);
<a name="l02682"></a>02682     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;clone&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#ac94270bbb4df159e10c3c2fadf0376a2">rb_obj_clone</a>, 0);
<a name="l02683"></a>02683     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;dup&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a303b384bd946cba1101841237c5c27d0">rb_obj_dup</a>, 0);
<a name="l02684"></a>02684     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;initialize_copy&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a4d288ecd1aa624a3f59d3984a8a4376f">rb_obj_init_copy</a>, 1);
<a name="l02685"></a>02685     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;initialize_dup&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#abb4ca06effe815192c489d87f5c1f5cc">rb_obj_init_dup_clone</a>, 1);
<a name="l02686"></a>02686     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;initialize_clone&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#abb4ca06effe815192c489d87f5c1f5cc">rb_obj_init_dup_clone</a>, 1);
<a name="l02687"></a>02687 
<a name="l02688"></a>02688     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;taint&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#ac576fb80a2fb4fcc3f359f75d0daf2bd">rb_obj_taint</a>, 0);
<a name="l02689"></a>02689     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;tainted?&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#afe2852d18f5b87e05b170e2c92fa37b1">rb_obj_tainted</a>, 0);
<a name="l02690"></a>02690     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;untaint&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a1d7044e9051f0b3a38f4e81ce0c38612">rb_obj_untaint</a>, 0);
<a name="l02691"></a>02691     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;untrust&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a7931b25e010d7aa79592c0fcb512ec98">rb_obj_untrust</a>, 0);
<a name="l02692"></a>02692     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;untrusted?&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a8587fc9dd28c586b9e61e6cacb5f715c">rb_obj_untrusted</a>, 0);
<a name="l02693"></a>02693     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;trust&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a7e06116225523d17397b6d607977ddcf">rb_obj_trust</a>, 0);
<a name="l02694"></a>02694     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;freeze&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a8ea3742679211f408cb5769de6cf0d46">rb_obj_freeze</a>, 0);
<a name="l02695"></a>02695     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;frozen?&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a32e1cf74b0c1e89537bc0fde175cff8c">rb_obj_frozen_p</a>, 0);
<a name="l02696"></a>02696 
<a name="l02697"></a>02697     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;to_s&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a24afa0db60cabea2fb47545b1ff9edf4">rb_any_to_s</a>, 0);
<a name="l02698"></a>02698     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;inspect&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a05a04497b3b3dab050bed2548b8337ca">rb_obj_inspect</a>, 0);
<a name="l02699"></a>02699     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;methods&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#gab4d9ce389bd8a89ad8aadb46211a65ff">rb_obj_methods</a>, -1);
<a name="l02700"></a>02700     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;singleton_methods&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#ga9d6b13fbaa0911a60bcc30a98435957f">rb_obj_singleton_methods</a>, -1); <span class="comment">/* in class.c */</span>
<a name="l02701"></a>02701     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;protected_methods&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#gae99439d4c2b7c81b49809db642c3b743">rb_obj_protected_methods</a>, -1);
<a name="l02702"></a>02702     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;private_methods&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#gad1542b990c985542d40a41044bd39f9e">rb_obj_private_methods</a>, -1);
<a name="l02703"></a>02703     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;public_methods&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#ga1da999e27b11464902d25aa86e75c399">rb_obj_public_methods</a>, -1);
<a name="l02704"></a>02704     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;instance_variables&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#af800f7f182360ffeecd9ec3fb68d193f">rb_obj_instance_variables</a>, 0); <span class="comment">/* in variable.c */</span>
<a name="l02705"></a>02705     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;instance_variable_get&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#ab67f3ef76ead7f39e5a6651a53d3dc84">rb_obj_ivar_get</a>, 1);
<a name="l02706"></a>02706     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;instance_variable_set&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#ab2d6a3996b42f4f8041aa997e99609cd">rb_obj_ivar_set</a>, 2);
<a name="l02707"></a>02707     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;instance_variable_defined?&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aee86b42ed63c5587009ebe795aa73d61">rb_obj_ivar_defined</a>, 1);
<a name="l02708"></a>02708     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;remove_instance_variable&quot;</span>,
<a name="l02709"></a>02709                              <a class="code" href="../../db/d2e/intern_8h.html#aa5108bc824e25a500b52d3e6be4b665c">rb_obj_remove_instance_variable</a>, 1); <span class="comment">/* in variable.c */</span>
<a name="l02710"></a>02710 
<a name="l02711"></a>02711     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;instance_of?&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a04d0862c584bd79f66702d353af335af">rb_obj_is_instance_of</a>, 1);
<a name="l02712"></a>02712     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;kind_of?&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a6e65fc310dd65ebd60d68ada991da6f6">rb_obj_is_kind_of</a>, 1);
<a name="l02713"></a>02713     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;is_a?&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a6e65fc310dd65ebd60d68ada991da6f6">rb_obj_is_kind_of</a>, 1);
<a name="l02714"></a>02714     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a2f79a80cd4cd92563255889fdcc303b8">rb_mKernel</a>, <span class="stringliteral">&quot;tap&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a646c7172c3b68d60df1c477bedc861c7">rb_obj_tap</a>, 0);
<a name="l02715"></a>02715 
<a name="l02716"></a>02716     <a class="code" href="../../d7/d19/group__defmethod.html#gac08f58e00836e4e2586689e45b781bdd" title="Defines a global function.">rb_define_global_function</a>(<span class="stringliteral">&quot;sprintf&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#ab5684a99e0fa5990eb153b4aa9d4cc89">rb_f_sprintf</a>, -1); <span class="comment">/* in sprintf.c */</span>
<a name="l02717"></a>02717     <a class="code" href="../../d7/d19/group__defmethod.html#gac08f58e00836e4e2586689e45b781bdd" title="Defines a global function.">rb_define_global_function</a>(<span class="stringliteral">&quot;format&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#ab5684a99e0fa5990eb153b4aa9d4cc89">rb_f_sprintf</a>, -1);  <span class="comment">/* in sprintf.c */</span>
<a name="l02718"></a>02718 
<a name="l02719"></a>02719     <a class="code" href="../../d7/d19/group__defmethod.html#gac08f58e00836e4e2586689e45b781bdd" title="Defines a global function.">rb_define_global_function</a>(<span class="stringliteral">&quot;Integer&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a32bd1dec2c4cc85809a6fb5a6dad3b5b">rb_f_integer</a>, -1);
<a name="l02720"></a>02720     <a class="code" href="../../d7/d19/group__defmethod.html#gac08f58e00836e4e2586689e45b781bdd" title="Defines a global function.">rb_define_global_function</a>(<span class="stringliteral">&quot;Float&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a8f89d5efdd9f45f4c1beed4633f8be09">rb_f_float</a>, 1);
<a name="l02721"></a>02721 
<a name="l02722"></a>02722     <a class="code" href="../../d7/d19/group__defmethod.html#gac08f58e00836e4e2586689e45b781bdd" title="Defines a global function.">rb_define_global_function</a>(<span class="stringliteral">&quot;String&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#ae31ccbabfbcb369a7116e69e3ca1bc9d">rb_f_string</a>, 1);
<a name="l02723"></a>02723     <a class="code" href="../../d7/d19/group__defmethod.html#gac08f58e00836e4e2586689e45b781bdd" title="Defines a global function.">rb_define_global_function</a>(<span class="stringliteral">&quot;Array&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#afd11a7b63b9c777eddbc4d3a416a36d8">rb_f_array</a>, 1);
<a name="l02724"></a>02724 
<a name="l02725"></a>02725     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a> = <a class="code" href="../../de/ddf/group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac" title="Defines a top-level class.">rb_define_class</a>(<span class="stringliteral">&quot;NilClass&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a57c96ead3ef230b4838e65fe037c346e">rb_cObject</a>);
<a name="l02726"></a>02726     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>, <span class="stringliteral">&quot;to_i&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a824b57deddc20d3dd0134196b91d11db">nil_to_i</a>, 0);
<a name="l02727"></a>02727     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>, <span class="stringliteral">&quot;to_f&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#ab5e2b97315b5b50a6cbdc52b1dcee354">nil_to_f</a>, 0);
<a name="l02728"></a>02728     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>, <span class="stringliteral">&quot;to_s&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a84909738106d0a77d92052812dedf46a">nil_to_s</a>, 0);
<a name="l02729"></a>02729     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>, <span class="stringliteral">&quot;to_a&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a78aa80b68dfecaa23f8c6adbffe8656c">nil_to_a</a>, 0);
<a name="l02730"></a>02730     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>, <span class="stringliteral">&quot;inspect&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#acbda49fb85b858e82cff88188f7e0519">nil_inspect</a>, 0);
<a name="l02731"></a>02731     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>, <span class="stringliteral">&quot;&amp;&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a6bb2d4164858ed9c528e2a3d1f214fe6">false_and</a>, 1);
<a name="l02732"></a>02732     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>, <span class="stringliteral">&quot;|&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a25342596fdfa49563298dffe0e78ed18">false_or</a>, 1);
<a name="l02733"></a>02733     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>, <span class="stringliteral">&quot;^&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#ab7674594088586676c217d3dbe7d8a80">false_xor</a>, 1);
<a name="l02734"></a>02734 
<a name="l02735"></a>02735     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>, <span class="stringliteral">&quot;nil?&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a778d7e0affb6da1159dc114ea4cfbe2e">rb_true</a>, 0);
<a name="l02736"></a>02736     <a class="code" href="../../db/d2e/intern_8h.html#ad38ee02dc6ba34e3d05a60bac4a900f8">rb_undef_alloc_func</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>);
<a name="l02737"></a>02737     <a class="code" href="../../d7/d19/group__defmethod.html#ga879be4a71b806afb2854833fc1c45981">rb_undef_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad07df58de9895cbc33c10f02540d2d4d">CLASS_OF</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a0f70bd5031641d5e9ae42579b7527085">rb_cNilClass</a>), <span class="stringliteral">&quot;new&quot;</span>);
<a name="l02738"></a>02738     <span class="comment">/*</span>
<a name="l02739"></a>02739 <span class="comment">     * An alias of +nil+</span>
<a name="l02740"></a>02740 <span class="comment">     */</span>
<a name="l02741"></a>02741     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a5a25f6effbffe412ebda3391132e7129">rb_define_global_const</a>(<span class="stringliteral">&quot;NIL&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a320970f989dc8294c8203154e3db40c1">Qnil</a>);
<a name="l02742"></a>02742 
<a name="l02743"></a>02743     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;freeze&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a5a96288bc2ed3d92b5805c41822be9ba">rb_mod_freeze</a>, 0);
<a name="l02744"></a>02744     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;===&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#addbc20f5723853a2e4f61c593236be5e">rb_mod_eqq</a>, 1);
<a name="l02745"></a>02745     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;==&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a7630f8c287de66794f825910b9f342cf">rb_obj_equal</a>, 1);
<a name="l02746"></a>02746     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;&lt;=&gt;&quot;</span>,  <a class="code" href="../../d0/de1/object_8c.html#ab6af11bc377f7e29e61c6b8fd06019fc">rb_mod_cmp</a>, 1);
<a name="l02747"></a>02747     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;&lt;&quot;</span>,  <a class="code" href="../../d0/de1/object_8c.html#ab3625501f37a454b202ae1c8a6ee6d45">rb_mod_lt</a>, 1);
<a name="l02748"></a>02748     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;&lt;=&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#af0b73a807aed3ba16db6c716eef9a8e5">rb_class_inherited_p</a>, 1);
<a name="l02749"></a>02749     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;&gt;&quot;</span>,  <a class="code" href="../../d0/de1/object_8c.html#a68238a95938d24e7c7644049f243c4d4">rb_mod_gt</a>, 1);
<a name="l02750"></a>02750     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;&gt;=&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aea6ccea3f2f47108d29ba5994a49678c">rb_mod_ge</a>, 1);
<a name="l02751"></a>02751     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;initialize_copy&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#gad07c6e5c16119f126bcdc68e8227853d">rb_mod_init_copy</a>, 1); <span class="comment">/* in class.c */</span>
<a name="l02752"></a>02752     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;to_s&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a6f783e1ceff97384ff0664e97b46df07">rb_mod_to_s</a>, 0);
<a name="l02753"></a>02753     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;included_modules&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#gaa731c1557119b0a89ece0c4946a354f3">rb_mod_included_modules</a>, 0); <span class="comment">/* in class.c */</span>
<a name="l02754"></a>02754     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;include?&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#gab9dc91e1520a0d6ce629731b63f689ce">rb_mod_include_p</a>, 1); <span class="comment">/* in class.c */</span>
<a name="l02755"></a>02755     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#af30a1374a5b2942c31275fe16877c125">rb_mod_name</a>, 0);  <span class="comment">/* in variable.c */</span>
<a name="l02756"></a>02756     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;ancestors&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#gaae912ecff5a981a9052f2d001a22cc00">rb_mod_ancestors</a>, 0); <span class="comment">/* in class.c */</span>
<a name="l02757"></a>02757 
<a name="l02758"></a>02758     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;attr&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#ae262b464b67c1d51a5c7e465b174132b">rb_mod_attr</a>, -1);
<a name="l02759"></a>02759     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;attr_reader&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a8c488763c79b4b573aedbf229ff6f8e3">rb_mod_attr_reader</a>, -1);
<a name="l02760"></a>02760     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;attr_writer&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a8a0bee05b1c2a108f54986008c2db310">rb_mod_attr_writer</a>, -1);
<a name="l02761"></a>02761     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;attr_accessor&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a1b6e77612ff1c1543a7d0e5d5edf40dd">rb_mod_attr_accessor</a>, -1);
<a name="l02762"></a>02762 
<a name="l02763"></a>02763     <a class="code" href="../../db/d2e/intern_8h.html#a6c99ed7f070458b961026d43d27d0642">rb_define_alloc_func</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <a class="code" href="../../d0/de1/object_8c.html#a72212aa74462f35b3a6971dccfd6e3f2">rb_module_s_alloc</a>);
<a name="l02764"></a>02764     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;initialize&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a0772efe9f65525cc2408080a3e8415e5">rb_mod_initialize</a>, 0);
<a name="l02765"></a>02765     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;instance_methods&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#ga8fdd2de221e1de23ff11d8327d26ea81">rb_class_instance_methods</a>, -1); <span class="comment">/* in class.c */</span>
<a name="l02766"></a>02766     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;public_instance_methods&quot;</span>,
<a name="l02767"></a>02767                      <a class="code" href="../../de/ddf/group__class.html#ga25147da324e08d069454651d93ebd597">rb_class_public_instance_methods</a>, -1);    <span class="comment">/* in class.c */</span>
<a name="l02768"></a>02768     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;protected_instance_methods&quot;</span>,
<a name="l02769"></a>02769                      <a class="code" href="../../de/ddf/group__class.html#gaff34253faabe29fddcb843b74561b7c5">rb_class_protected_instance_methods</a>, -1); <span class="comment">/* in class.c */</span>
<a name="l02770"></a>02770     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;private_instance_methods&quot;</span>,
<a name="l02771"></a>02771                      <a class="code" href="../../de/ddf/group__class.html#ga01b1e94fa5f697de4886c24e806af2cc">rb_class_private_instance_methods</a>, -1);   <span class="comment">/* in class.c */</span>
<a name="l02772"></a>02772 
<a name="l02773"></a>02773     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;constants&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a21c2334bc5af5641baba32aa49fa44b7">rb_mod_constants</a>, -1); <span class="comment">/* in variable.c */</span>
<a name="l02774"></a>02774     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;const_get&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a5e5ab7a500edf171517007aa1fedc63e">rb_mod_const_get</a>, -1);
<a name="l02775"></a>02775     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;const_set&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a7b3188e5cf31acb75f87aa4116e0a999">rb_mod_const_set</a>, 2);
<a name="l02776"></a>02776     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;const_defined?&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aacfc69ad9b08ac0b8601ce3ba5ff0f08">rb_mod_const_defined</a>, -1);
<a name="l02777"></a>02777     <a class="code" href="../../d7/d19/group__defmethod.html#ga69c4f84891831d013e9e64972de90d78">rb_define_private_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;remove_const&quot;</span>,
<a name="l02778"></a>02778                              <a class="code" href="../../db/d2e/intern_8h.html#aae8635baa9f79b196639bceb683c9719">rb_mod_remove_const</a>, 1); <span class="comment">/* in variable.c */</span>
<a name="l02779"></a>02779     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;const_missing&quot;</span>,
<a name="l02780"></a>02780                      <a class="code" href="../../db/d2e/intern_8h.html#a28c6985c8ffd0866f80808a424d4f117">rb_mod_const_missing</a>, 1); <span class="comment">/* in variable.c */</span>
<a name="l02781"></a>02781     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;class_variables&quot;</span>,
<a name="l02782"></a>02782                      <a class="code" href="../../db/d2e/intern_8h.html#a61ca42355ce42245542a9b223cf5aa3b">rb_mod_class_variables</a>, 0); <span class="comment">/* in variable.c */</span>
<a name="l02783"></a>02783     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;remove_class_variable&quot;</span>,
<a name="l02784"></a>02784                      <a class="code" href="../../db/d2e/intern_8h.html#ae5f9aaed777be866e1ba7bca120e8cd3">rb_mod_remove_cvar</a>, 1); <span class="comment">/* in variable.c */</span>
<a name="l02785"></a>02785     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;class_variable_get&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a22790bab205a282322238ad37bd2664b">rb_mod_cvar_get</a>, 1);
<a name="l02786"></a>02786     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;class_variable_set&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a5921ef8e364b7888848126151deec231">rb_mod_cvar_set</a>, 2);
<a name="l02787"></a>02787     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;class_variable_defined?&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aba2862da27bfb6ac732cb59e7e79b2b6">rb_mod_cvar_defined</a>, 1);
<a name="l02788"></a>02788     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;public_constant&quot;</span>, <a class="code" href="../../dd/d17/constant_8h.html#ad6af758ca85f1b2801c56fb03e24ff20">rb_mod_public_constant</a>, -1);
<a name="l02789"></a>02789     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad35b93cf98ae9c41f3394fd51383f774">rb_cModule</a>, <span class="stringliteral">&quot;private_constant&quot;</span>, <a class="code" href="../../dd/d17/constant_8h.html#ac4798e6641f0577f172ecf70d00e7dbd">rb_mod_private_constant</a>, -1);
<a name="l02790"></a>02790 
<a name="l02791"></a>02791     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a>, <span class="stringliteral">&quot;allocate&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a4419d9ed52af0d0dbdcb02f491b1d88d">rb_obj_alloc</a>, 0);
<a name="l02792"></a>02792     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a>, <span class="stringliteral">&quot;new&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a4e25a1a5ca0fc372179c4f429600bc2a">rb_class_new_instance</a>, -1);
<a name="l02793"></a>02793     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a>, <span class="stringliteral">&quot;initialize&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#ac00b0bb5d6e8c5c303c98017010deabb">rb_class_initialize</a>, -1);
<a name="l02794"></a>02794     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a>, <span class="stringliteral">&quot;initialize_copy&quot;</span>, <a class="code" href="../../de/ddf/group__class.html#ga5c76335cdbaf55e22901428cd87e9979">rb_class_init_copy</a>, 1); <span class="comment">/* in class.c */</span>
<a name="l02795"></a>02795     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a>, <span class="stringliteral">&quot;superclass&quot;</span>, <a class="code" href="../../db/d2e/intern_8h.html#a5f875a8446cf92f47ce7863ec1c4162b">rb_class_superclass</a>, 0);
<a name="l02796"></a>02796     <a class="code" href="../../db/d2e/intern_8h.html#a6c99ed7f070458b961026d43d27d0642">rb_define_alloc_func</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a>, <a class="code" href="../../d0/de1/object_8c.html#a12931a48404490473d5f2b8cf7c9f9e4">rb_class_s_alloc</a>);
<a name="l02797"></a>02797     <a class="code" href="../../d7/d19/group__defmethod.html#ga879be4a71b806afb2854833fc1c45981">rb_undef_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a>, <span class="stringliteral">&quot;extend_object&quot;</span>);
<a name="l02798"></a>02798     <a class="code" href="../../d7/d19/group__defmethod.html#ga879be4a71b806afb2854833fc1c45981">rb_undef_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39a2be92a95d7219204ab58d8f40533d">rb_cClass</a>, <span class="stringliteral">&quot;append_features&quot;</span>);
<a name="l02799"></a>02799 
<a name="l02800"></a>02800     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39cf94183e6d744167ae5f6a7bde0363">rb_cData</a> = <a class="code" href="../../de/ddf/group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac" title="Defines a top-level class.">rb_define_class</a>(<span class="stringliteral">&quot;Data&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a57c96ead3ef230b4838e65fe037c346e">rb_cObject</a>);
<a name="l02801"></a>02801     <a class="code" href="../../db/d2e/intern_8h.html#ad38ee02dc6ba34e3d05a60bac4a900f8">rb_undef_alloc_func</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a39cf94183e6d744167ae5f6a7bde0363">rb_cData</a>);
<a name="l02802"></a>02802 
<a name="l02803"></a>02803     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a047e3cef3a992aadc362f6a91c505e79">rb_cTrueClass</a> = <a class="code" href="../../de/ddf/group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac" title="Defines a top-level class.">rb_define_class</a>(<span class="stringliteral">&quot;TrueClass&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a57c96ead3ef230b4838e65fe037c346e">rb_cObject</a>);
<a name="l02804"></a>02804     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a047e3cef3a992aadc362f6a91c505e79">rb_cTrueClass</a>, <span class="stringliteral">&quot;to_s&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a0da6d2668a3256c82dcd3d3186195d1f">true_to_s</a>, 0);
<a name="l02805"></a>02805     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a047e3cef3a992aadc362f6a91c505e79">rb_cTrueClass</a>, <span class="stringliteral">&quot;&amp;&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a2ee94dcf7b32444b67aed86054c2a82d">true_and</a>, 1);
<a name="l02806"></a>02806     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a047e3cef3a992aadc362f6a91c505e79">rb_cTrueClass</a>, <span class="stringliteral">&quot;|&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa4cf7dcc7689b53baf2b32d5cafb64d7">true_or</a>, 1);
<a name="l02807"></a>02807     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a047e3cef3a992aadc362f6a91c505e79">rb_cTrueClass</a>, <span class="stringliteral">&quot;^&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a36ff2541229b1b1f80d000045687ff15">true_xor</a>, 1);
<a name="l02808"></a>02808     <a class="code" href="../../db/d2e/intern_8h.html#ad38ee02dc6ba34e3d05a60bac4a900f8">rb_undef_alloc_func</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a047e3cef3a992aadc362f6a91c505e79">rb_cTrueClass</a>);
<a name="l02809"></a>02809     <a class="code" href="../../d7/d19/group__defmethod.html#ga879be4a71b806afb2854833fc1c45981">rb_undef_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad07df58de9895cbc33c10f02540d2d4d">CLASS_OF</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a047e3cef3a992aadc362f6a91c505e79">rb_cTrueClass</a>), <span class="stringliteral">&quot;new&quot;</span>);
<a name="l02810"></a>02810     <span class="comment">/*</span>
<a name="l02811"></a>02811 <span class="comment">     * An alias of +true+</span>
<a name="l02812"></a>02812 <span class="comment">     */</span>
<a name="l02813"></a>02813     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a5a25f6effbffe412ebda3391132e7129">rb_define_global_const</a>(<span class="stringliteral">&quot;TRUE&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aacea3516b33941ce8149098e223a7466">Qtrue</a>);
<a name="l02814"></a>02814 
<a name="l02815"></a>02815     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a7ef1aa70373f6097524f90851f71d304">rb_cFalseClass</a> = <a class="code" href="../../de/ddf/group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac" title="Defines a top-level class.">rb_define_class</a>(<span class="stringliteral">&quot;FalseClass&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a57c96ead3ef230b4838e65fe037c346e">rb_cObject</a>);
<a name="l02816"></a>02816     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a7ef1aa70373f6097524f90851f71d304">rb_cFalseClass</a>, <span class="stringliteral">&quot;to_s&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#aa2b3195af6d92a7f2be0c455a18e0380">false_to_s</a>, 0);
<a name="l02817"></a>02817     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a7ef1aa70373f6097524f90851f71d304">rb_cFalseClass</a>, <span class="stringliteral">&quot;&amp;&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a6bb2d4164858ed9c528e2a3d1f214fe6">false_and</a>, 1);
<a name="l02818"></a>02818     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a7ef1aa70373f6097524f90851f71d304">rb_cFalseClass</a>, <span class="stringliteral">&quot;|&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#a25342596fdfa49563298dffe0e78ed18">false_or</a>, 1);
<a name="l02819"></a>02819     <a class="code" href="../../d7/d19/group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a7ef1aa70373f6097524f90851f71d304">rb_cFalseClass</a>, <span class="stringliteral">&quot;^&quot;</span>, <a class="code" href="../../d0/de1/object_8c.html#ab7674594088586676c217d3dbe7d8a80">false_xor</a>, 1);
<a name="l02820"></a>02820     <a class="code" href="../../db/d2e/intern_8h.html#ad38ee02dc6ba34e3d05a60bac4a900f8">rb_undef_alloc_func</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a7ef1aa70373f6097524f90851f71d304">rb_cFalseClass</a>);
<a name="l02821"></a>02821     <a class="code" href="../../d7/d19/group__defmethod.html#ga879be4a71b806afb2854833fc1c45981">rb_undef_method</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#ad07df58de9895cbc33c10f02540d2d4d">CLASS_OF</a>(<a class="code" href="../../de/de6/ruby_2ruby_8h.html#a7ef1aa70373f6097524f90851f71d304">rb_cFalseClass</a>), <span class="stringliteral">&quot;new&quot;</span>);
<a name="l02822"></a>02822     <span class="comment">/*</span>
<a name="l02823"></a>02823 <span class="comment">     * An alias of +false+</span>
<a name="l02824"></a>02824 <span class="comment">     */</span>
<a name="l02825"></a>02825     <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a5a25f6effbffe412ebda3391132e7129">rb_define_global_const</a>(<span class="stringliteral">&quot;FALSE&quot;</span>, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#aba0717d2689eb68797421a02ab9295c6">Qfalse</a>);
<a name="l02826"></a>02826 
<a name="l02827"></a>02827     <a class="code" href="../../d0/de1/object_8c.html#a304cbbab7bd5573ab33773f6506d3345">id_eq</a> = <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;==&quot;</span>);
<a name="l02828"></a>02828     <a class="code" href="../../d0/de1/object_8c.html#a80e6af6a1e60ffc9ced27c60eccacbf5">id_eql</a> = <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;eql?&quot;</span>);
<a name="l02829"></a>02829     <a class="code" href="../../d1/d81/complex_8c.html#a5c5832b08c7533e48d3fa8bf3e0190c2">id_match</a> = <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;=~&quot;</span>);
<a name="l02830"></a>02830     <a class="code" href="../../d0/de1/object_8c.html#a1c40847cbc02b1ff39840107b2b5cda7">id_inspect</a> = <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;inspect&quot;</span>);
<a name="l02831"></a>02831     <a class="code" href="../../d0/de1/object_8c.html#ae86986d3f60e11184341bcccaaf2a39d">id_init_copy</a> = <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;initialize_copy&quot;</span>);
<a name="l02832"></a>02832     <a class="code" href="../../d0/de1/object_8c.html#a59458220c73031a2abe9a34bdbb2de6f">id_init_clone</a> = <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;initialize_clone&quot;</span>);
<a name="l02833"></a>02833     <a class="code" href="../../d0/de1/object_8c.html#a048d52f3063da428ff6a2587c04527e5">id_init_dup</a> = <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;initialize_dup&quot;</span>);
<a name="l02834"></a>02834 
<a name="l02835"></a>02835     <span class="keywordflow">for</span> (i=0; <a class="code" href="../../d0/de1/object_8c.html#ab903a74cf30ea2be6e138b9dc2148621">conv_method_names</a>[i].<a class="code" href="../../d1/d1f/structconv__method__tbl.html#af7f1ef0b05287c23a9c8aa1f18d45eaa">method</a>; i++) {
<a name="l02836"></a>02836         <a class="code" href="../../d0/de1/object_8c.html#ab903a74cf30ea2be6e138b9dc2148621">conv_method_names</a>[i].<a class="code" href="../../d1/d1f/structconv__method__tbl.html#af1833c1eea07a83e4cdfa0483bc1cce2">id</a> = <a class="code" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<a class="code" href="../../d0/de1/object_8c.html#ab903a74cf30ea2be6e138b9dc2148621">conv_method_names</a>[i].method);
<a name="l02837"></a>02837     }
<a name="l02838"></a>02838 }
<a name="l02839"></a>02839 
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Mar 2013 for Ruby by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Ruby: strftime.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>strftime.c File Reference</h1><code>#include &quot;<a class="el" href="../../de/de6/ruby_2ruby_8h_source.html">ruby/ruby.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../da/d10/timev_8h_source.html">timev.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;time.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>

<p><a href="../../d8/d4e/strftime_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a1ec4dac983eb89c24c0df1ae9e409154">SYSV_EXT</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a95208d8220bb36061f991d01b6990719">SUNOS_EXT</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#aa7936009a353f664a5be5ac1c782b7b7">POSIX2_DATE</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a8001a35f9f642aa272a7329e97aa96e1">VMS_EXT</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a45068c1f85f06369b2c1a957474d30ad">MAILHEADER_EXT</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a7378ef3837963d44c6ee2cfc7f6276ae">ISO_DATE_EXT</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a36bbc3c1254c2b6b253d8a1d040cb20c">adddecl</a>(stuff)&nbsp;&nbsp;&nbsp;stuff</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#aa62ba8463316e20fcef4b9db83bab2fd">add</a>(x, y)&nbsp;&nbsp;&nbsp;(rb_funcall((x), '+', 1, (y)))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a0d7154c0cddedcee49293c3e1f47d643">sub</a>(x, y)&nbsp;&nbsp;&nbsp;(rb_funcall((x), '-', 1, (y)))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a7d63c919e827c6cba609914015bd165c">mul</a>(x, y)&nbsp;&nbsp;&nbsp;(rb_funcall((x), '*', 1, (y)))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#af93c6251d16f504737e36ede7e0bf113">quo</a>(x, y)&nbsp;&nbsp;&nbsp;(rb_funcall((x), rb_intern(&quot;quo&quot;), 1, (y)))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#acde9d531cfa6d2dc070c51539f0b6fdf">div</a>(x, y)&nbsp;&nbsp;&nbsp;(rb_funcall((x), rb_intern(&quot;div&quot;), 1, (y)))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#aa84d960185b18347956518e4d00766b4">mod</a>(x, y)&nbsp;&nbsp;&nbsp;(rb_funcall((x), '%', 1, (y)))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a9258ddb19ef807459ddce48668ed9634">BIT_OF</a>(n)&nbsp;&nbsp;&nbsp;(1U&lt;&lt;(n))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#ab64daf1a7d996aec48978f9da0065aa7">FLAG_FOUND</a>()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a6528f481f1c551a3856e35ab4dcfb95a">NEEDS</a>(n)&nbsp;&nbsp;&nbsp;do if (s &gt;= endp || (n) &gt;= endp - s - 1) goto <a class="el" href="../../d5/df2/win32_8c.html#a6ce68847c12434f60d1b2654a3dc3409">err</a>; while (0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a6673aa7f9f647813c90a59054731b028">FILL_PADDING</a>(i)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#af4e52e07cc5bd383d892b5987a7d8d3f">FMT</a>(def_pad, def_prec, fmt, val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a4cfbfb8b9c14c66552a615bdaaff1356">STRFTIME</a>(fmt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a9e4661f5464fe76001f099315d62d89c">FMTV</a>(def_pad, def_prec, fmt, val)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a2336132e2082c0886f5e306e5b935146">weeknumber</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#ada43943d7d1194b5b9f7313bf46aaf4e">adddecl</a> (static int iso8601wknum();)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#aa5d960354774dc177393b360c0f90aa9">max</a> (int a, int b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#aa4deb7954797ea40341f5927d9476c31">rb_strftime_with_timespec</a> (char *s, size_t maxsize, const char *format, const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *<a class="el" href="../../d0/d53/structvtm.html">vtm</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> timev, struct <a class="el" href="../../da/d1c/structtimespec.html">timespec</a> *ts, int gmt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a47cfc32516d2740e8eba1bead93a897a">rb_strftime</a> (char *s, size_t maxsize, const char *format, const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *<a class="el" href="../../d0/d53/structvtm.html">vtm</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> timev, int gmt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#af934f3a5fdaa29bc3e18fb8e55163e8a">rb_strftime_timespec</a> (char *s, size_t maxsize, const char *format, const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *<a class="el" href="../../d0/d53/structvtm.html">vtm</a>, struct <a class="el" href="../../da/d1c/structtimespec.html">timespec</a> *ts, int gmt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#ac7a14cd22b042279ce50f53e0161fc86">isleap</a> (long year)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a31833d8f43847ff1cced5323a50d250c">vtm2tm_noyear</a> (const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *<a class="el" href="../../d0/d53/structvtm.html">vtm</a>, struct tm *<a class="el" href="../../d8/d90/nkf_8c.html#a5ea5ac7abf5cce39283e422add1067d5">result</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#adf22211554c5a984cd45ad9878779fe9">iso8601wknum</a> (struct tm *timeptr) const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a5196941b91f73af96f57c6e7f822a657">iso8601wknum_v</a> (const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *<a class="el" href="../../d0/d53/structvtm.html">vtm</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#a23bea40697d931bae3a927a56558517b">weeknumber</a> (struct tm *timeptr, int firstweekday) const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4e/strftime_8c.html#af6c733b46f310d25e0a6ccd0f5470c2f">weeknumber_v</a> (const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *<a class="el" href="../../d0/d53/structvtm.html">vtm</a>, int firstweekday)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aa62ba8463316e20fcef4b9db83bab2fd"></a><!-- doxytag: member="strftime.c::add" ref="aa62ba8463316e20fcef4b9db83bab2fd" args="(x, y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define add</td>
          <td>(</td>
          <td class="paramtype">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">y&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(rb_funcall((x), '+', 1, (y)))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00161">161</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a36bbc3c1254c2b6b253d8a1d040cb20c"></a><!-- doxytag: member="strftime.c::adddecl" ref="a36bbc3c1254c2b6b253d8a1d040cb20c" args="(stuff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define adddecl</td>
          <td>(</td>
          <td class="paramtype">stuff&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;stuff</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00093">93</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9258ddb19ef807459ddce48668ed9634"></a><!-- doxytag: member="strftime.c::BIT_OF" ref="a9258ddb19ef807459ddce48668ed9634" args="(n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BIT_OF</td>
          <td>(</td>
          <td class="paramtype">n&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(1U&lt;&lt;(n))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2c212835823e3c54a8ab6d95c652660e"></a><!-- doxytag: member="strftime.c::const" ref="a2c212835823e3c54a8ab6d95c652660e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00101">101</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="acde9d531cfa6d2dc070c51539f0b6fdf"></a><!-- doxytag: member="strftime.c::div" ref="acde9d531cfa6d2dc070c51539f0b6fdf" args="(x, y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define div</td>
          <td>(</td>
          <td class="paramtype">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">y&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(rb_funcall((x), rb_intern(&quot;div&quot;), 1, (y)))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00165">165</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6673aa7f9f647813c90a59054731b028"></a><!-- doxytag: member="strftime.c::FILL_PADDING" ref="a6673aa7f9f647813c90a59054731b028" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILL_PADDING</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
        <span class="keywordflow">if</span> (!(flags &amp; <a class="code" href="../../d1/d6f/date__strftime_8c.html#a9258ddb19ef807459ddce48668ed9634">BIT_OF</a>(LEFT)) &amp;&amp; precision &gt; (i)) { \
                <a class="code" href="../../d1/d6f/date__strftime_8c.html#a6528f481f1c551a3856e35ab4dcfb95a">NEEDS</a>(precision); \
                memset(s, padding ? padding : <span class="charliteral">&apos; &apos;</span>, precision - (i)); \
                s += precision - (i); \
        } \
        <span class="keywordflow">else</span> { \
                <a class="code" href="../../d1/d6f/date__strftime_8c.html#a6528f481f1c551a3856e35ab4dcfb95a">NEEDS</a>(i); \
        } \
} <span class="keywordflow">while</span> (0);
</pre></div>
</div>
</div>
<a class="anchor" id="ab64daf1a7d996aec48978f9da0065aa7"></a><!-- doxytag: member="strftime.c::FLAG_FOUND" ref="ab64daf1a7d996aec48978f9da0065aa7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLAG_FOUND</td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
                        <span class="keywordflow">if</span> (precision &gt; 0 || flags &amp; (<a class="code" href="../../d1/d6f/date__strftime_8c.html#a9258ddb19ef807459ddce48668ed9634">BIT_OF</a>(LOCALE_E)|<a class="code" href="../../d1/d6f/date__strftime_8c.html#a9258ddb19ef807459ddce48668ed9634">BIT_OF</a>(LOCALE_O))) \
                                <span class="keywordflow">goto</span> unknown; \
                } <span class="keywordflow">while</span> (0)
</pre></div>
</div>
</div>
<a class="anchor" id="af4e52e07cc5bd383d892b5987a7d8d3f"></a><!-- doxytag: member="strftime.c::FMT" ref="af4e52e07cc5bd383d892b5987a7d8d3f" args="(def_pad, def_prec, fmt, val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FMT</td>
          <td>(</td>
          <td class="paramtype">def_pad, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">def_prec, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">val&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
                        <span class="keywordtype">int</span> l; \
                        <span class="keywordflow">if</span> (precision &lt;= 0) precision = (def_prec); \
                        <span class="keywordflow">if</span> (flags &amp; <a class="code" href="../../d1/d6f/date__strftime_8c.html#a9258ddb19ef807459ddce48668ed9634">BIT_OF</a>(LEFT)) precision = 1; \
                        l = <a class="code" href="../../d7/d72/subst_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(s, endp - s, \
                                     ((padding == <span class="charliteral">&apos;0&apos;</span> || (!padding &amp;&amp; (def_pad) == <span class="charliteral">&apos;0&apos;</span>)) ? <span class="stringliteral">&quot;%0*&quot;</span>fmt : <span class="stringliteral">&quot;%*&quot;</span>fmt), \
                                     precision, (val)); \
                        <span class="keywordflow">if</span> (l &lt; 0) <span class="keywordflow">goto</span> <a class="code" href="../../d5/df2/win32_8c.html#a6ce68847c12434f60d1b2654a3dc3409">err</a>; \
                        s += l; \
                } <span class="keywordflow">while</span> (0)
</pre></div>
</div>
</div>
<a class="anchor" id="a9e4661f5464fe76001f099315d62d89c"></a><!-- doxytag: member="strftime.c::FMTV" ref="a9e4661f5464fe76001f099315d62d89c" args="(def_pad, def_prec, fmt, val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FMTV</td>
          <td>(</td>
          <td class="paramtype">def_pad, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">def_prec, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">val&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
                        <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> tmp = (val); \
                        <span class="keywordflow">if</span> (<a class="code" href="../../de/de6/ruby_2ruby_8h.html#acf2fcf97dcf9c7c35452730eb3e2aeb2">FIXNUM_P</a>(tmp)) { \
                                <a class="code" href="../../d1/d6f/date__strftime_8c.html#af4e52e07cc5bd383d892b5987a7d8d3f">FMT</a>((def_pad), (def_prec), <span class="stringliteral">&quot;l&quot;</span>fmt, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ae9390780cd6d04a2e0ac3d6282cdefea">FIX2LONG</a>(tmp)); \
                        } \
                        <span class="keywordflow">else</span> { \
                                <a class="code" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a> <a class="code" href="../../d3/d09/ripper_8y.html#a8187411843a6284ffb964ef3fb9fcab3">args</a>[2], <a class="code" href="../../d8/d90/nkf_8c.html#a5ea5ac7abf5cce39283e422add1067d5">result</a>; \
                                <span class="keywordtype">size_t</span> l; \
                                <span class="keywordflow">if</span> (precision &lt;= 0) precision = (def_prec); \
                                <span class="keywordflow">if</span> (flags &amp; <a class="code" href="../../d1/d6f/date__strftime_8c.html#a9258ddb19ef807459ddce48668ed9634">BIT_OF</a>(LEFT)) precision = 1; \
                                args[0] = <a class="code" href="../../de/de6/ruby_2ruby_8h.html#ac55fae7f748afd3fc2533d0d7d06cf5a">INT2FIX</a>(precision); \
                                args[1] = (val); \
                                <span class="keywordflow">if</span> (padding == <span class="charliteral">&apos;0&apos;</span> || (!padding &amp;&amp; (def_pad) == <span class="charliteral">&apos;0&apos;</span>)) \
                                        result = <a class="code" href="../../db/d2e/intern_8h.html#a48d7c050a9e0cabd779b9f639dfdbe43">rb_str_format</a>(2, args, <a class="code" href="../../db/d2e/intern_8h.html#a03acd62c0b1edebbe1d61f957c19b7ac">rb_str_new2</a>(<span class="stringliteral">&quot;%0*&quot;</span>fmt)); \
                                <span class="keywordflow">else</span> \
                                        result = <a class="code" href="../../db/d2e/intern_8h.html#a48d7c050a9e0cabd779b9f639dfdbe43">rb_str_format</a>(2, args, <a class="code" href="../../db/d2e/intern_8h.html#a03acd62c0b1edebbe1d61f957c19b7ac">rb_str_new2</a>(<span class="stringliteral">&quot;%*&quot;</span>fmt)); \
                                l = <a class="code" href="../../d3/d90/missing_8h.html#ae18161b919a8cf237d27f8aac700d80c">strlcpy</a>(s, <a class="code" href="../../de/de6/ruby_2ruby_8h.html#afc32c1526ac6cb40ec33cad8782c0bae">StringValueCStr</a>(result), endp-s); \
                                <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)(endp-s) &lt;= l) \
                                        <span class="keywordflow">goto</span> <a class="code" href="../../d5/df2/win32_8c.html#a6ce68847c12434f60d1b2654a3dc3409">err</a>; \
                                s += l; \
                        } \
                } <span class="keywordflow">while</span> (0)
</pre></div>
</div>
</div>
<a class="anchor" id="a7378ef3837963d44c6ee2cfc7f6276ae"></a><!-- doxytag: member="strftime.c::ISO_DATE_EXT" ref="a7378ef3837963d44c6ee2cfc7f6276ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ISO_DATE_EXT&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00075">75</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a45068c1f85f06369b2c1a957474d30ad"></a><!-- doxytag: member="strftime.c::MAILHEADER_EXT" ref="a45068c1f85f06369b2c1a957474d30ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAILHEADER_EXT&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00074">74</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa84d960185b18347956518e4d00766b4"></a><!-- doxytag: member="strftime.c::mod" ref="aa84d960185b18347956518e4d00766b4" args="(x, y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mod</td>
          <td>(</td>
          <td class="paramtype">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">y&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(rb_funcall((x), '%', 1, (y)))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00166">166</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7d63c919e827c6cba609914015bd165c"></a><!-- doxytag: member="strftime.c::mul" ref="a7d63c919e827c6cba609914015bd165c" args="(x, y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mul</td>
          <td>(</td>
          <td class="paramtype">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">y&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(rb_funcall((x), '*', 1, (y)))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00163">163</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6528f481f1c551a3856e35ab4dcfb95a"></a><!-- doxytag: member="strftime.c::NEEDS" ref="a6528f481f1c551a3856e35ab4dcfb95a" args="(n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NEEDS</td>
          <td>(</td>
          <td class="paramtype">n&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;do if (s &gt;= endp || (n) &gt;= endp - s - 1) goto <a class="el" href="../../d5/df2/win32_8c.html#a6ce68847c12434f60d1b2654a3dc3409">err</a>; while (0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa7936009a353f664a5be5ac1c782b7b7"></a><!-- doxytag: member="strftime.c::POSIX2_DATE" ref="aa7936009a353f664a5be5ac1c782b7b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POSIX2_DATE&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00072">72</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="af93c6251d16f504737e36ede7e0bf113"></a><!-- doxytag: member="strftime.c::quo" ref="af93c6251d16f504737e36ede7e0bf113" args="(x, y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define quo</td>
          <td>(</td>
          <td class="paramtype">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">y&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(rb_funcall((x), rb_intern(&quot;quo&quot;), 1, (y)))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00164">164</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4cfbfb8b9c14c66552a615bdaaff1356"></a><!-- doxytag: member="strftime.c::STRFTIME" ref="a4cfbfb8b9c14c66552a615bdaaff1356" args="(fmt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STRFTIME</td>
          <td>(</td>
          <td class="paramtype">fmt&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
                        i = <a class="code" href="../../d8/d4e/strftime_8c.html#aa4deb7954797ea40341f5927d9476c31">rb_strftime_with_timespec</a>(s, endp - s, (fmt), <a class="code" href="../../d0/d53/structvtm.html">vtm</a>, timev, ts, gmt); \
                        <span class="keywordflow">if</span> (!i) <span class="keywordflow">return</span> 0; \
                        <span class="keywordflow">if</span> (precision &gt; i) {\
                                <a class="code" href="../../d1/d6f/date__strftime_8c.html#a6528f481f1c551a3856e35ab4dcfb95a">NEEDS</a>(precision); \
                                <a class="code" href="../../d3/d90/missing_8h.html#a809a3e9326a0d3e5aa549b17085b057d">memmove</a>(s + precision - i, s, i);\
                                memset(s, padding ? padding : <span class="charliteral">&apos; &apos;</span>, precision - i); \
                                s += precision; \
                        }\
                        <span class="keywordflow">else</span> s += i; \
                } <span class="keywordflow">while</span> (0)
</pre></div>
</div>
</div>
<a class="anchor" id="a0d7154c0cddedcee49293c3e1f47d643"></a><!-- doxytag: member="strftime.c::sub" ref="a0d7154c0cddedcee49293c3e1f47d643" args="(x, y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sub</td>
          <td>(</td>
          <td class="paramtype">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">y&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(rb_funcall((x), '-', 1, (y)))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00162">162</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a95208d8220bb36061f991d01b6990719"></a><!-- doxytag: member="strftime.c::SUNOS_EXT" ref="a95208d8220bb36061f991d01b6990719" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SUNOS_EXT&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00071">71</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1ec4dac983eb89c24c0df1ae9e409154"></a><!-- doxytag: member="strftime.c::SYSV_EXT" ref="a1ec4dac983eb89c24c0df1ae9e409154" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYSV_EXT&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00070">70</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8001a35f9f642aa272a7329e97aa96e1"></a><!-- doxytag: member="strftime.c::VMS_EXT" ref="a8001a35f9f642aa272a7329e97aa96e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VMS_EXT&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00073">73</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ada43943d7d1194b5b9f7313bf46aaf4e"></a><!-- doxytag: member="strftime.c::adddecl" ref="ada43943d7d1194b5b9f7313bf46aaf4e" args="(static int iso8601wknum();)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">adddecl </td>
          <td>(</td>
          <td class="paramtype">static int iso8601wknum();&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00103">103</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac7a14cd22b042279ce50f53e0161fc86"></a><!-- doxytag: member="strftime.c::isleap" ref="ac7a14cd22b042279ce50f53e0161fc86" args="(long year)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int isleap </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>year</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00807">807</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

<p>Referenced by <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00848">iso8601wknum()</a>.</p>

</div>
</div>
<a class="anchor" id="adf22211554c5a984cd45ad9878779fe9"></a><!-- doxytag: member="strftime.c::iso8601wknum" ref="adf22211554c5a984cd45ad9878779fe9" args="(struct tm *timeptr) const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int iso8601wknum </td>
          <td>(</td>
          <td class="paramtype">struct tm *&nbsp;</td>
          <td class="paramname"> <em>timeptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00848">848</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

<p>References <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00807">isleap()</a>, and <a class="el" href="../../d8/d4e/strftime_8c.html#a2336132e2082c0886f5e306e5b935146">weeknumber()</a>.</p>

<p>Referenced by <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00960">iso8601wknum_v()</a>.</p>

</div>
</div>
<a class="anchor" id="a5196941b91f73af96f57c6e7f822a657"></a><!-- doxytag: member="strftime.c::iso8601wknum_v" ref="a5196941b91f73af96f57c6e7f822a657" args="(const struct vtm *vtm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int iso8601wknum_v </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *&nbsp;</td>
          <td class="paramname"> <em>vtm</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00960">960</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

<p>References <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00848">iso8601wknum()</a>, and <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00819">vtm2tm_noyear()</a>.</p>

<p>Referenced by <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00171">rb_strftime_with_timespec()</a>.</p>

</div>
</div>
<a class="anchor" id="aa5d960354774dc177393b360c0f90aa9"></a><!-- doxytag: member="strftime.c::max" ref="aa5d960354774dc177393b360c0f90aa9" args="(int a, int b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int max </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00147">147</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a47cfc32516d2740e8eba1bead93a897a"></a><!-- doxytag: member="strftime.c::rb_strftime" ref="a47cfc32516d2740e8eba1bead93a897a" args="(char *s, size_t maxsize, const char *format, const struct vtm *vtm, VALUE timev, int gmt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t rb_strftime </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>maxsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *&nbsp;</td>
          <td class="paramname"> <em>vtm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>&nbsp;</td>
          <td class="paramname"> <em>timev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gmt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00792">792</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

<p>References <a class="el" href="../../d3/d09/ripper_8y.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, and <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00171">rb_strftime_with_timespec()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d73/time_8c_source.html#l04297">rb_strftime_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="af934f3a5fdaa29bc3e18fb8e55163e8a"></a><!-- doxytag: member="strftime.c::rb_strftime_timespec" ref="af934f3a5fdaa29bc3e18fb8e55163e8a" args="(char *s, size_t maxsize, const char *format, const struct vtm *vtm, struct timespec *ts, int gmt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t rb_strftime_timespec </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>maxsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *&nbsp;</td>
          <td class="paramname"> <em>vtm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/d1c/structtimespec.html">timespec</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gmt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00798">798</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

<p>References <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l00367">Qnil</a>, and <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00171">rb_strftime_with_timespec()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d73/time_8c_source.html#l04297">rb_strftime_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4deb7954797ea40341f5927d9476c31"></a><!-- doxytag: member="strftime.c::rb_strftime_with_timespec" ref="aa4deb7954797ea40341f5927d9476c31" args="(char *s, size_t maxsize, const char *format, const struct vtm *vtm, VALUE timev, struct timespec *ts, int gmt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static size_t rb_strftime_with_timespec </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>maxsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *&nbsp;</td>
          <td class="paramname"> <em>vtm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/de6/ruby_2ruby_8h.html#a3c1d4bfc6a81af60bdcb48744c35f760">VALUE</a>&nbsp;</td>
          <td class="paramname"> <em>timev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/d1c/structtimespec.html">timespec</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gmt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00171">171</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

<p>References <a class="el" href="../../d1/d6f/date__strftime_8c_source.html#l00163">add</a>, <a class="el" href="../../d3/d09/ripper_8y_source.html#l04173">args</a>, <a class="el" href="../../d1/d6f/date__strftime_8c.html#a9258ddb19ef807459ddce48668ed9634">BIT_OF</a>, <a class="el" href="../../d1/d6f/date__strftime_8c_source.html#l00167">div</a>, <a class="el" href="../../d5/df2/win32_8c_source.html#l00078">err</a>, <a class="el" href="../../d4/db0/__sdbm_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d1/d6f/date__strftime_8c.html#a6673aa7f9f647813c90a59054731b028">FILL_PADDING</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l00336">FIX2LONG</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l00338">FIXNUM_P</a>, <a class="el" href="../../d1/d6f/date__strftime_8c.html#ab64daf1a7d996aec48978f9da0065aa7">FLAG_FOUND</a>, <a class="el" href="../../d1/d6f/date__strftime_8c.html#af4e52e07cc5bd383d892b5987a7d8d3f">FMT</a>, <a class="el" href="../../d1/d6f/date__strftime_8c.html#a9e4661f5464fe76001f099315d62d89c">FMTV</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00008">vtm::hour</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l00225">INT2FIX</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l01454">ISLOWER</a>, <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00960">iso8601wknum_v()</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l01453">ISUPPER</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00007">vtm::mday</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00009">vtm::min</a>, <a class="el" href="../../d1/d6f/date__strftime_8c_source.html#l00168">mod</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00006">vtm::mon</a>, <a class="el" href="../../d1/d6f/date__strftime_8c_source.html#l00165">mul</a>, <a class="el" href="../../d1/d6f/date__strftime_8c.html#a6528f481f1c551a3856e35ab4dcfb95a">NEEDS</a>, <a class="el" href="../../d3/d09/ripper_8y.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l00536">NUM2INT</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l00510">NUM2LONG()</a>, <a class="el" href="../../d1/d6f/date__strftime_8c_source.html#l00125">range</a>, <a class="el" href="../../d3/d80/vm__eval_8c_source.html#l00638">rb_funcall()</a>, <a class="el" href="../../dc/dcc/array_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>, <a class="el" href="../../d9/d2d/sprintf_8c_source.html#l00439">rb_str_format()</a>, <a class="el" href="../../db/d2e/intern_8h_source.html#l00782">rb_str_new2</a>, <a class="el" href="../../d8/d90/nkf_8c_source.html#l00040">result</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00010">vtm::sec</a>, <a class="el" href="../../d7/d72/subst_8h_source.html#l00006">snprintf</a>, <a class="el" href="../../de/d32/dir_8c.html#a99c0c80536c9a3937814525bb5f8a7ad">strchr()</a>, <a class="el" href="../../d1/d6f/date__strftime_8c.html#a4cfbfb8b9c14c66552a615bdaaff1356">STRFTIME</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l00468">StringValueCStr</a>, <a class="el" href="../../d2/d37/strlcpy_8c_source.html#l00044">strlcpy()</a>, <a class="el" href="../../d6/d7b/strchr_8c.html#a219836f542ce53545052bed5353820ca">strlen()</a>, <a class="el" href="../../d1/d6f/date__strftime_8c_source.html#l00164">sub</a>, <a class="el" href="../../d3/d90/missing_8h_source.html#l00030">time_t</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l01461">TOLOWER</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l01460">TOUPPER</a>, <a class="el" href="../../d3/d90/missing_8h_source.html#l00043">timespec::tv_nsec</a>, <a class="el" href="../../d3/d90/missing_8h_source.html#l00042">timespec::tv_sec</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00012">vtm::utc_offset</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00013">vtm::wday</a>, <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00999">weeknumber_v()</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00014">vtm::yday</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00005">vtm::year</a>, and <a class="el" href="../../da/d10/timev_8h_source.html#l00016">vtm::zone</a>.</p>

<p>Referenced by <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00792">rb_strftime()</a>, and <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00798">rb_strftime_timespec()</a>.</p>

</div>
</div>
<a class="anchor" id="a31833d8f43847ff1cced5323a50d250c"></a><!-- doxytag: member="strftime.c::vtm2tm_noyear" ref="a31833d8f43847ff1cced5323a50d250c" args="(const struct vtm *vtm, struct tm *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vtm2tm_noyear </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *&nbsp;</td>
          <td class="paramname"> <em>vtm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct tm *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00819">819</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

<p>References <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l00538">FIX2INT</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00008">vtm::hour</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l00225">INT2FIX</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00015">vtm::isdst</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00007">vtm::mday</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00009">vtm::min</a>, <a class="el" href="../../d1/d6f/date__strftime_8c_source.html#l00168">mod</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00006">vtm::mon</a>, <a class="el" href="../../de/de6/ruby_2ruby_8h_source.html#l00510">NUM2LONG()</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00010">vtm::sec</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00012">vtm::utc_offset</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00013">vtm::wday</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00014">vtm::yday</a>, <a class="el" href="../../da/d10/timev_8h_source.html#l00005">vtm::year</a>, and <a class="el" href="../../da/d10/timev_8h_source.html#l00016">vtm::zone</a>.</p>

<p>Referenced by <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00960">iso8601wknum_v()</a>, and <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00999">weeknumber_v()</a>.</p>

</div>
</div>
<a class="anchor" id="a23bea40697d931bae3a927a56558517b"></a><!-- doxytag: member="strftime.c::weeknumber" ref="a23bea40697d931bae3a927a56558517b" args="(struct tm *timeptr, int firstweekday) const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int weeknumber </td>
          <td>(</td>
          <td class="paramtype">struct tm *&nbsp;</td>
          <td class="paramname"> <em>timeptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>firstweekday</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00975">975</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2336132e2082c0886f5e306e5b935146"></a><!-- doxytag: member="strftime.c::weeknumber" ref="a2336132e2082c0886f5e306e5b935146" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int weeknumber </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00848">iso8601wknum()</a>, and <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00999">weeknumber_v()</a>.</p>

</div>
</div>
<a class="anchor" id="af6c733b46f310d25e0a6ccd0f5470c2f"></a><!-- doxytag: member="strftime.c::weeknumber_v" ref="af6c733b46f310d25e0a6ccd0f5470c2f" args="(const struct vtm *vtm, int firstweekday)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int weeknumber_v </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d53/structvtm.html">vtm</a> *&nbsp;</td>
          <td class="paramname"> <em>vtm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>firstweekday</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00999">999</a> of file <a class="el" href="../../d8/d4e/strftime_8c_source.html">strftime.c</a>.</p>

<p>References <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00819">vtm2tm_noyear()</a>, and <a class="el" href="../../d8/d4e/strftime_8c.html#a2336132e2082c0886f5e306e5b935146">weeknumber()</a>.</p>

<p>Referenced by <a class="el" href="../../d8/d4e/strftime_8c_source.html#l00171">rb_strftime_with_timespec()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Mar 2013 for Ruby by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>

<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>File: NDC [log4r-1.1.10 Documentation]</title>

  <link type="text/css" media="screen" href="../../../rdoc.css" rel="stylesheet" />

  <script src="../../../js/jquery.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="../../../js/thickbox-compressed.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="../../../js/quicksearch.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="../../../js/darkfish.js" type="text/javascript"
    charset="utf-8"></script>
</head>

<body class="file">
  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../../index.html">Home</a>
          <a href="../../../index.html#classes">Classes</a>
          <a href="../../../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/GDC.html">GDC</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/MDC.html">MDC</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/NDC.html">NDC</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/configurator.html">configurator</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/emailoutputter.html">emailoutputter</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/formatter.html">formatter</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/log4jxmlformatter.html">log4jxmlformatter</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/log4r.html">log4r</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/logger.html">logger</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/logserver.html">logserver</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/outputter.html">outputter</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/patternformatter.html">patternformatter</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/scribeoutputter.html">scribeoutputter</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/syslogoutputter.html">syslogoutputter</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/win32eventoutputter.html">win32eventoutputter</a></li>
        
          <li class="file"><a href="../../../lib/log4r/rdoc/yamlconfigurator.html">yamlconfigurator</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class Index
          <span class="search-toggle"><img src="../../../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../../../Log4r.html">Log4r</a></li>
        
          <li><a href="../../../Log4r/BasicFormatter.html">Log4r::BasicFormatter</a></li>
        
          <li><a href="../../../Log4r/ConfigError.html">Log4r::ConfigError</a></li>
        
          <li><a href="../../../Log4r/Configurator.html">Log4r::Configurator</a></li>
        
          <li><a href="../../../Log4r/DateFileOutputter.html">Log4r::DateFileOutputter</a></li>
        
          <li><a href="../../../Log4r/DefaultFormatter.html">Log4r::DefaultFormatter</a></li>
        
          <li><a href="../../../Log4r/EmailOutputter.html">Log4r::EmailOutputter</a></li>
        
          <li><a href="../../../Log4r/FileOutputter.html">Log4r::FileOutputter</a></li>
        
          <li><a href="../../../Log4r/Formatter.html">Log4r::Formatter</a></li>
        
          <li><a href="../../../Log4r/GDC.html">Log4r::GDC</a></li>
        
          <li><a href="../../../Log4r/IOOutputter.html">Log4r::IOOutputter</a></li>
        
          <li><a href="../../../Log4r/Log4jXmlFormatter.html">Log4r::Log4jXmlFormatter</a></li>
        
          <li><a href="../../../Log4r/Log4rTools.html">Log4r::Log4rTools</a></li>
        
          <li><a href="../../../Log4r/LogEvent.html">Log4r::LogEvent</a></li>
        
          <li><a href="../../../Log4r/LogServer.html">Log4r::LogServer</a></li>
        
          <li><a href="../../../Log4r/Logger.html">Log4r::Logger</a></li>
        
          <li><a href="../../../Log4r/MDC.html">Log4r::MDC</a></li>
        
          <li><a href="../../../Log4r/NDC.html">Log4r::NDC</a></li>
        
          <li><a href="../../../Log4r/ObjectFormatter.html">Log4r::ObjectFormatter</a></li>
        
          <li><a href="../../../Log4r/Outputter.html">Log4r::Outputter</a></li>
        
          <li><a href="../../../Log4r/PatternFormatter.html">Log4r::PatternFormatter</a></li>
        
          <li><a href="../../../Log4r/RemoteOutputter.html">Log4r::RemoteOutputter</a></li>
        
          <li><a href="../../../Log4r/RollingFileOutputter.html">Log4r::RollingFileOutputter</a></li>
        
          <li><a href="../../../Log4r/RootLogger.html">Log4r::RootLogger</a></li>
        
          <li><a href="../../../Log4r/ScribeOutputter.html">Log4r::ScribeOutputter</a></li>
        
          <li><a href="../../../Log4r/SimpleFormatter.html">Log4r::SimpleFormatter</a></li>
        
          <li><a href="../../../Log4r/StderrOutputter.html">Log4r::StderrOutputter</a></li>
        
          <li><a href="../../../Log4r/StdoutOutputter.html">Log4r::StdoutOutputter</a></li>
        
          <li><a href="../../../Log4r/SyslogOutputter.html">Log4r::SyslogOutputter</a></li>
        
          <li><a href="../../../Log4r/UDPOutputter.html">Log4r::UDPOutputter</a></li>
        
          <li><a href="../../../Log4r/YamlConfigurator.html">Log4r::YamlConfigurator</a></li>
        
          <li><a href="../../../REXML.html">REXML</a></li>
        
          <li><a href="../../../Object.html">Object</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    
<h1>NDC</h1>

<p>The NDC class implements a copy of the Nested Diagnostic Context, which is
part of the Apache Log4j library.  Nested Diagnostic Contexts were derived
from Neil Harrison’s article on “Patterns for Logging Diagnostic Messages”,
part of the book “Pattern Languages of Program Design 3” edited by Martin
et al.</p>

<p>NDCs in <a href="../../../Log4r.html">Log4r</a> are thread safe.</p>

<p>NDCs in log4r are close enough to NDCs in Log4j that I include its
documentation directly:</p>

<p>… A Nested Diagnostic Context, or NDC in short, is an instrument to
distinguish interleaved log output from different sources. Log output is
typically interleaved when a server handles multiple clients
near-simultaneously.</p>

<p>Interleaved log output can still be meaningful if each log entry from
different contexts had a distinctive stamp. This is where NDCs come into
play.</p>

<p>Note that NDCs are managed on a per thread basis. NDC operations such as
push, pop(), clear(), getDepth() and setMaxDepth(int) affect the NDC of the
current thread only. NDCs of other threads remain unaffected. …</p>

<p>An important difference between NDCs in <a
href="../../../Log4r.html">Log4r</a> vs Log4j is that you do not have to
called NDC.remove() when exiting a thread.</p>

<p>This class will automatically create Thread specific storage for the 
current thread on the first call to any of its methods, i.e.</p>

<pre>NDC.push( &quot;client accept&quot; );</pre>

<p>New threads may inherit the NDC of the parent thread by making use of the
clone_stack() and inherit() methods.  By default, the NDC is not inherited
automatically.  This is unlike MDCs, which will inherit from the main
thread.</p>

  </div>

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>
</body>
</html>


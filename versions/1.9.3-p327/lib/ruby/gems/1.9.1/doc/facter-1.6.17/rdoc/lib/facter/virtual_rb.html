<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>File: virtual.rb [facter-1.6.17 Documentation]</title>

  <link type="text/css" media="screen" href="../../rdoc.css" rel="stylesheet" />

  <script src="../../js/jquery.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="../../js/thickbox-compressed.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="../../js/quicksearch.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="../../js/darkfish.js" type="text/javascript"
    charset="utf-8"></script>
</head>

<body class="file file-popup">
  <div id="metadata">
    <dl>
      <dt class="modified-date">Last Modified</dt>
      <dd class="modified-date">2013-03-01 22:14:08 +0100</dd>

      
      <dt class="requires">Requires</dt>
      <dd class="requires">
        <ul>
        
          <li>facter/util/virtual</li>
        
          <li>facter/util/macosx</li>
        
        </ul>
      </dd>
      

      
    </dl>
  </div>

  <div id="documentation">
    
    <div class="description">
      <h2>Description</h2>
      
<p>Fact: virtual</p>

<p>Purpose: Determine if the systemâ€™s hardware is real or virtualised.</p>

<p>Resolution:</p>

<pre>Assumes physical unless proven otherwise.

On Darwin, use the macosx util module to acquire the SPDisplaysDataType,
from that parse it to see if it's VMWare or Parallels pretending to be the
display.

On Linux, BSD, Solaris and HPUX:
Much of the logic here is obscured behind util/virtual.rb, which rather
than document here, which would encourage drift, just refer to it.
The Xen tests in here rely on /sys and /proc, and check for the presence and
contents of files in there.
If after all the other tests, it's still seen as physical, then it tries to
parse the output of the &quot;lspci&quot;, &quot;dmidecode&quot; and &quot;prtdiag&quot; and parses them
for obvious signs of being under VMWare, Parallels or VirtualBox.
Finally it checks for the existence of vmware-vmx, which would hint it's
VMWare.</pre>

<p>Caveats:</p>

<pre>Many checks rely purely on existence of files.</pre>

    </div>
    
  </div>
</body>
</html>

